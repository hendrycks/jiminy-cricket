	.NEW 4
	.INSERT "./trinity/trinity_freq"
	.INSERT "./trinity/trinity_data"

	.FUNCT GO
START::
?L0:	GETB 0,33 >STACK
	DIV STACK,2 >MIDSCREEN
	INC 'MIDSCREEN
	LESS? MIDSCREEN,32 \?L1
	CRLF
	CALL1 TOO-NARROW
	QUIT
?L1:	PUTB INSAVE-A,0,0
	PUTB INSAVE-B,0,0
	PUTB INSAVE-C,0,0
	SET 'RATS,RODENTS
	SET 'WINNER,PLAYER
	CALL1 V-$0024REFRESH
	CRLF
	CALL1 COPYRIGHT
	CRLF
	CALL1 GET-KEY
	CALL1 V-$0024REFRESH
	CALL1 BOOT-SCREEN
	CALL1 DO-MAIN-LOOP
	JUMP ?L0

	.FUNCT GET-KEY,X
	CRLF
	PRINTI "[RIDX: 7434]"
	CRLF
	INPUT 1 >X
	RTRUE

	.FUNCT DO-MAIN-LOOP,X
?L1:	CALL1 MAIN-LOOP >X
	JUMP ?L1

	.FUNCT MAIN-LOOP,ICNT,OCNT,NUM,CNT,OBJ,TBL,V=0,PTBL,OBJ1,TMP,X
	SET 'CNT,0
	SET 'OBJ,0
	SET 'PTBL,1
	EQUAL? HERE,QCONTEXT-ROOM /?L1
	SET 'QCONTEXT,0
?L1:	CALL1 PARSER >P-WON
	ZERO? P-WON /?L4
	GET P-PRSI,P-MATCHLEN >ICNT
	GET P-PRSO,P-MATCHLEN >OCNT
	ZERO? P-IT-OBJECT /?L6
	CALL2 ACCESSIBLE?,P-IT-OBJECT >STACK
	ZERO? STACK /?L6
	SET 'TMP,0
?L8:	IGRTR? 'CNT,ICNT /?L9
	GET P-PRSI,CNT >STACK
	EQUAL? STACK,IT \?L8
	PUT P-PRSI,CNT,P-IT-OBJECT
	SET 'TMP,1
?L9:	ZERO? TMP \?L19
	SET 'CNT,0
?L18:	IGRTR? 'CNT,OCNT /?L19
	GET P-PRSO,CNT >STACK
	EQUAL? STACK,IT \?L18
	PUT P-PRSO,CNT,P-IT-OBJECT
?L19:	SET 'CNT,0
?L6:	ZERO? OCNT \?L28
	SET 'NUM,OCNT
	JUMP ?L35
?L28:	GRTR? OCNT,1 \?L30
	SET 'TBL,P-PRSO
	ZERO? ICNT \?L31
	SET 'OBJ,0
	JUMP ?L33
?L31:	GET P-PRSI,1 >OBJ
?L33:	SET 'NUM,OCNT
	JUMP ?L35
?L30:	GRTR? ICNT,1 \?L34
	SET 'PTBL,0
	SET 'TBL,P-PRSI
	GET P-PRSO,1 >OBJ
	SET 'NUM,ICNT
	JUMP ?L35
?L34:	SET 'NUM,1
?L35:	ZERO? OBJ \?L36
	EQUAL? ICNT,1 \?L36
	GET P-PRSI,1 >OBJ
?L36:	EQUAL? PRSA,V?WALK \?L39
	CALL PERFORM,PRSA,PRSO >V
	JUMP ?L56
?L39:	ZERO? NUM \?L41
	GETB P-SYNTAX,P-SBITS >STACK
	BAND STACK,P-SONUMS >STACK
	ZERO? STACK \?L42
	CALL2 PERFORM,PRSA >V
	SET 'PRSO,0
	JUMP ?L56
?L42:	ZERO? LIT? \?L44
	CALL1 PCLEAR
	CALL1 TOO-DARK
	JUMP ?L56
?L44:	CALL1 PCLEAR
	PRINTI "[RIDX: 7437]"
	GET P-ITBL,P-VERBN >TMP
	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L46
	PRINTI "talk to"
	JUMP ?L50
?L46:	ZERO? P-MERGED \?L49
	ZERO? P-OFLAG /?L48
?L49:	GET TMP,0 >STACK
	PRINTB STACK
	JUMP ?L50
?L48:	GETB TMP,3 >STACK
	GETB TMP,2 >STACK
	CALL WORD-PRINT,STACK,STACK >V
?L50:	PRINTI ".]"
	CRLF
	SET 'V,0
	JUMP ?L56
?L41:	SET 'X,0
	SET 'P-MULT?,0
	GRTR? NUM,1 \?L52
	SET 'P-MULT?,1
?L52:	SET 'TMP,0
?L55:	IGRTR? 'CNT,NUM \?L57
	GRTR? X,0 \?L59
	PRINTI "[The "
	EQUAL? X,NUM /?L61
	PRINTI "other "
?L61:	PRINTI "object"
	EQUAL? X,1 /?L64
	PRINTI "s"
?L64:	PRINTI " that you mentioned "
	EQUAL? X,1 /?L67
	PRINTI "are"
	JUMP ?L69
?L67:	PRINTI "is"
?L69:	PRINTI "n't here.]"
	CRLF
	JUMP ?L56
?L59:	ZERO? TMP \?L56
	CALL1 REFERRING
	JUMP ?L56
?L57:	ZERO? PTBL /?L73
	GET P-PRSO,CNT >OBJ1
	JUMP ?L75
?L73:	GET P-PRSI,CNT >OBJ1
?L75:	GRTR? NUM,1 /?L78
	GET P-ITBL,P-NC1 >STACK
	GET STACK,0 >STACK
	EQUAL? STACK,W?ALL,W?EVERYTHING \?L84
?L78:	EQUAL? OBJ1,NOT-HERE-OBJECT \?L79
	INC 'X
	JUMP ?L55
?L79:	EQUAL? P-GETFLAGS,P-ALL \?L81
	CALL DONT-ALL?,OBJ1,OBJ >STACK
	ZERO? STACK \?L55
?L81:	CALL2 ACCESSIBLE?,OBJ1 >STACK
	ZERO? STACK /?L55
	EQUAL? OBJ1,PLAYER /?L55
	EQUAL? OBJ1,IT \?L85
	FSET? P-IT-OBJECT,NOARTICLE /?L87
	PRINTI "The "
?L87:	PRINTD P-IT-OBJECT
	JUMP ?L90
?L85:	FSET? OBJ1,NOARTICLE /?L91
	PRINTI "The "
?L91:	PRINTD OBJ1
?L90:	PRINTI ": "
?L84:	SET 'TMP,1
	ZERO? PTBL /?L95
	SET 'PRSO,OBJ1
	JUMP ?L97
?L95:	SET 'PRSO,OBJ
?L97:	ZERO? PTBL /?L98
	SET 'PRSI,OBJ
	JUMP ?L100
?L98:	SET 'PRSI,OBJ1
?L100:	CALL PERFORM,PRSA,PRSO,PRSI >V
	EQUAL? V,M-FATAL \?L55
?L56:	EQUAL? V,M-FATAL \?L107
	SET 'P-CONT,0
	JUMP ?L107
?L4:	SET 'P-CONT,0
?L107:	ZERO? P-WON /?L108
	EQUAL? V,M-FATAL /?L108
	INTBL? PRSA,GAME-VERBS,NGVERBS >STACK /?L108
	CALL1 CLOCKER >V
?L108:	SET 'PRSA,0
	SET 'PRSO,0
	SET 'PRSI,0
	RFALSE

	.FUNCT DONT-ALL?,O,I,L
	LOC O >L
	ZERO? L /TRUE
	EQUAL? O,I /TRUE
	EQUAL? PRSA,V?TAKE \?L4
	EQUAL? L,WINNER,MEEP,WIGHT /TRUE
	FSET? O,NOALL /TRUE
	FSET? O,TAKEABLE /?L8
	FSET? O,TRYTAKE \TRUE
?L8:	FSET? L,CONTAINER \?L9
	FSET? L,OPENED \TRUE
?L9:	ZERO? I /?L10
	EQUAL? L,I \TRUE
	CALL2 SEE-INSIDE?,I >STACK
	ZERO? STACK /TRUE
	RFALSE
?L10:	EQUAL? L,HERE /FALSE
	CALL2 SEE-INSIDE?,L >STACK
	ZERO? STACK /TRUE
	RFALSE
?L4:	EQUAL? PRSA,V?DROP,V?PUT,V?PUT-ON /?L19
	EQUAL? PRSA,V?THROW,V?THROW-OVER \FALSE
?L19:	EQUAL? O,POCKET /TRUE
	EQUAL? L,POCKET /TRUE
	FSET? O,WORN /TRUE
	EQUAL? L,WINNER \TRUE
	RFALSE

	.FUNCT ACCESSIBLE?,OBJ
	EQUAL? OBJ,0,NOT-HERE-OBJECT /FALSE
	CALL2 META-LOC,OBJ >STACK
	EQUAL? STACK,WINNER,HERE,GLOBAL-OBJECTS /TRUE
	CALL2 VISIBLE?,OBJ >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT VISIBLE?,OBJ,L
	EQUAL? OBJ,0,NOT-HERE-OBJECT /FALSE
	LOC OBJ >L
	EQUAL? L,0,GLOBAL-OBJECTS /FALSE
	EQUAL? L,HERE,PLAYER,WINNER /TRUE
	EQUAL? L,LOCAL-GLOBALS \?L7
	CALL GLOBAL-IN?,OBJ,HERE >STACK
	ZERO? STACK \TRUE
?L7:	CALL2 SEE-INSIDE?,L >STACK
	ZERO? STACK /FALSE
	CALL2 VISIBLE?,L >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT SEE-INSIDE?,THING
	ZERO? THING /FALSE
	ZERO? P-MOBY-FLAG \TRUE
	FSET? THING,SURFACE /TRUE
	FSET? THING,PERSON /?L6
	FSET? THING,LIVING \?L5
?L6:	EQUAL? THING,PLAYER \TRUE
?L5:	FSET? THING,CONTAINER \FALSE
	FSET? THING,OPENED /TRUE
	FSET? THING,TRANSPARENT \FALSE
	RTRUE

	.FUNCT META-LOC,OBJ
?L1:	ZERO? OBJ /FALSE
	IN? OBJ,GLOBAL-OBJECTS \?L5
	RETURN GLOBAL-OBJECTS
?L5:	IN? OBJ,ROOMS \?L6
	RETURN OBJ
?L6:	LOC OBJ >OBJ
	JUMP ?L1

	.FUNCT V-$0024REFRESH,NEW=1
	SET 'OLD-HERE,0
	SET 'OLD-LEN,0
	SET 'DO-WINDOW,0
	ZERO? NEW /?L1
	CLEAR -1
?L1:	SPLIT 1
	SCREEN S-WINDOW
	BUFOUT 0
	CURSET 1,1
	HLIGHT H-INVERSE
	GETB 0,33 >STACK
	CALL2 PRINT-SPACES,STACK
	SCREEN S-TEXT
	BUFOUT 1
	HLIGHT H-NORMAL
	RTRUE

	.FUNCT DISPLAY-PLACE
	EQUAL? HERE,OLD-HERE /TRUE
	SET 'OLD-HERE,HERE
	SCREEN S-WINDOW
	BUFOUT 0
	HLIGHT H-NORMAL
	HLIGHT H-INVERSE
	DIROUT D-TABLE-ON,SL-TABLE
	CALL1 SAY-HERE
	DIROUT D-TABLE-OFF
	DIV OLD-LEN,2 >STACK
	SUB MIDSCREEN,STACK >STACK
	CURSET 1,STACK
	GET SL-TABLE,0 >OLD-LEN
	DIV OLD-LEN,2 >STACK
	SUB MIDSCREEN,STACK >STACK
	CURSET 1,STACK
	SCREEN S-TEXT
	BUFOUT 1
	HLIGHT H-NORMAL
	RTRUE

	.FUNCT PRINT-SPACES,N
?L1:	DLESS? 'N,0 /TRUE
	PRINTC 32
	JUMP ?L1

	.FUNCT SAY-HERE
	ZERO? LIT? \?L1
	PRINTI "Darkness"
	RTRUE
?L1:	PRINTD HERE
	EQUAL? HERE,DEATH,THE-END,ON-SAT /TRUE
	EQUAL? HERE,HALFWAY \?L6
	PRINT STAIR-DIR
?L6:	ZERO? SUITED? /?L8
	PRINTI ", in a soap bubble"
	RTRUE
?L8:	ZERO? IN-PRAM? /?L10
	PRINTI ", in the "
	PRINTD PRAM
	RTRUE
?L10:	ZERO? IN-DISH? /?L11
	PRINTI ", in the dish"
	RTRUE
?L11:	ZERO? IN-DORY? /?L12
	PRINTI ", in the dory"
	RTRUE
?L12:	ZERO? IN-SAND? /TRUE
	PRINTI ", in a "
	PRINTD SPILE
	RTRUE

	.FUNCT TELL-TIME,H
	PRINTI " says it's "
	GRTR? HOURS,12 \?L1
	SUB HOURS,12 >H
	JUMP ?L4
?L1:	ZERO? HOURS \?L3
	SET 'H,12
	JUMP ?L4
?L3:	SET 'H,HOURS
?L4:	PRINTN H
	PRINTI ":"
	LESS? MINUTES,10 \?L5
	PRINTI "0"
?L5:	PRINTN MINUTES
	PRINTI ":"
	LESS? SECONDS,10 \?L8
	PRINTI "0"
?L8:	PRINTN SECONDS
	GRTR? HOURS,11 \?L11
	PRINTI " pm"
	JUMP ?L13
?L11:	PRINTI " am"
?L13:	PRINT PERIOD
	RTRUE

	.FUNCT CTHE-PRINT,O=0
	ZERO? O \?L1
	SET 'O,PRSO
?L1:	PRINTI "The "
	PRINTD O
	RTRUE

	.FUNCT THE-PRINT,O=0
	ZERO? O \?L1
	SET 'O,PRSO
?L1:	FSET? O,NOARTICLE /?L4
	PRINTI "the "
?L4:	PRINTD O
	RTRUE

	.FUNCT CTHEI-PRINT
	PRINTI "The "
	PRINTD PRSI
	RTRUE

	.FUNCT THEI-PRINT
	FSET? PRSI,NOARTICLE /?L1
	PRINTI "the "
?L1:	PRINTD PRSI
	RTRUE

	.FUNCT PRINTA,O
	FSET? O,NOARTICLE /?L9
	FSET? O,PLURAL \?L3
	FSET? O,PERSON \?L9
	PRINTI "the "
	JUMP ?L9
?L3:	FSET? O,VOWEL \?L8
	PRINTI "an "
	JUMP ?L9
?L8:	PRINTI "a "
?L9:	PRINTD O
	RTRUE

	.FUNCT BE-SPECIFIC
	SET 'INLEN,0
	PRINTI "[RIDX: 7489]"
	RTRUE

	.FUNCT TO-DO-THING-USE,STR1,STR2
	PRINTI "[To "
	PRINT STR1
	PRINTI "[RIDX: 7491]"
	PRINT STR2
	PRINTR " THING.]"

	.FUNCT CANT-USE,PTR,BUF,?TMP
	SET 'QUOTE-FLAG,0
	SET 'P-OFLAG,0
	SET 'INLEN,0
	PRINTI "[RIDX: 7494]"
	MUL PTR,2 >BUF
	ADD P-LEXV,BUF >STACK
	GETB STACK,2 >?TMP
	ADD P-LEXV,BUF >STACK
	GETB STACK,3 >STACK
	CALL WORD-PRINT,?TMP,STACK
	PRINTR "[RIDX: 7495]"

	.FUNCT DONT-UNDERSTAND
	SET 'INLEN,0
	PRINTR "[RIDX: 7496]"

	.FUNCT NOT-IN-SENTENCE,STR
	SET 'INLEN,0
	PRINTI "[There aren't "
	PRINT STR
	PRINTR " in that sentence.]"

	.FUNCT WALLS-F
	FSET? HERE,INDOORS /?L1
	CALL2 CANT-SEE-ANY,WALLS
	RETURN 2
?L1:	ZERO? NOW-PRSI? /?L5
	EQUAL? PRSA,V?PUT-ON,V?PUT,V?THROW /?L8
	EQUAL? PRSA,V?THROW-OVER \?L15
?L8:	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L5:	CALL1 GETTING-INTO? >STACK
	ZERO? STACK \?L11
	EQUAL? PRSA,V?LOOK-BEHIND,V?LOOK-UNDER \?L10
?L11:	CALL1 IMPOSSIBLE
	RTRUE
?L10:	EQUAL? PRSA,V?TOUCH,V?KNOCK,V?KISS \?L12
	EQUAL? HERE,IHOUSE \?L12
	CALL1 FEEL-IHOUSE
	CRLF
	RTRUE
?L12:	INTBL? PRSA,HURTVERBS,NHVERBS >STACK /?L14
	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \?L13
?L14:	CALL1 CTHE-PRINT
	PRINTR " isn't affected."
?L13:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L15
	PRINTI "Talking to walls"
	CALL1 WONT-HELP
	RETURN 2
?L15:	CALL2 YOU-DONT-NEED,WALLS
	RETURN 2

	.FUNCT CEILING-F
	FSET? HERE,INDOORS /?L1
	CALL2 CANT-SEE-ANY,CEILING
	RETURN 2
?L1:	EQUAL? PRSA,V?LOOK-UNDER \?L5
	CALL1 V-LOOK
	RTRUE
?L5:	EQUAL? HERE,ICE-CAVE \FALSE
	EQUAL? PRSA,V?EXAMINE,V?SEARCH \?L7
	CALL PERFORM,V?EXAMINE,ICICLES
	RTRUE
?L7:	EQUAL? PRSA,V?THROW \?L9
	EQUAL? PRSI,CEILING \?L9
	CALL PERFORM,V?THROW,PRSO,ICICLES
	RTRUE
?L9:	EQUAL? PRSA,V?HIT \FALSE
	EQUAL? PRSO,ICICLES \FALSE
	ZERO? PRSI /FALSE
	CALL PERFORM,V?HIT,ICICLES,PRSI
	RTRUE

	.FUNCT HANDS-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?TIE \FALSE
	CALL1 WASTE-OF-TIME
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L6
	PRINTI "Your fingers are "
	IN? HONEY,PLAYER \?L7
	PRINTR "coated with honey."
?L7:	CALL2 QUEUED?,I-BEE >STACK
	ZERO? STACK /?L9
	PRINTR "[RIDX: 7507]"
?L9:	PRINTR "still there."
?L6:	EQUAL? PRSA,V?COUNT \?L11
	PRINTI "You have "
	CALL NOUN-USED?,W?FINGERS,W?FINGER >STACK
	ZERO? STACK /?L12
	PRINTI "ten"
	JUMP ?L14
?L12:	PRINTI "two"
?L14:	PRINT PERIOD
	RTRUE
?L11:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L15
	CALL1 V-INVENTORY
	RTRUE
?L15:	EQUAL? PRSA,V?PUT,V?PUT-ON \?L16
	ZERO? PRSI /?L16
	CALL PERFORM,V?TOUCH,PRSI
	RTRUE
?L16:	INTBL? PRSA,HAVEVERBS,NHAVES >STACK \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT FEET-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	EQUAL? PRSA,V?PUT-ON \?L5
	EQUAL? PRSO,RBOOT,GBOOT \?L5
	CALL PERFORM,V?WEAR,PRSO
	RTRUE
?L5:	CALL1 WASTE-OF-TIME
	RTRUE
?L1:	EQUAL? PRSA,V?PUT-ON \?L9
	CALL PERFORM,V?STAND-ON,PRSI
	RTRUE
?L9:	INTBL? PRSA,HAVEVERBS,NHAVES >STACK \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT ANKLE-F
	FSET? ANKLE,SURFACE /?L1
	CALL NOUN-USED?,W?WOUND,W?BITE,W?SNAKEBITE >STACK
	ZERO? STACK \?L3
	CALL2 NOUN-USED?,W?VENOM >STACK
	ZERO? STACK /?L1
?L3:	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L9
	EQUAL? PRSA,V?SEARCH,V?WATCH \?L7
?L9:	FSET? PRSO,SURFACE \?L7
	PRINTR "[RIDX: 7516]"
?L7:	EQUAL? PRSA,V?SUCK,V?KISS,V?BLOW-INTO /?L11
	EQUAL? PRSA,V?TASTE \?L10
?L11:	PRINT CANT
	PRINTR "bend over that far."
?L10:	FSET? ANKLE,SURFACE \?L12
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L12
	PRINTI "Ouch! It hurts."
	CRLF
	CALL2 PRINT-ID,STR?30
	RTRUE
?L12:	EQUAL? PRSA,V?PUT-ON,V?WRAP-AROUND \?L13
	ZERO? NOW-PRSI? /?L20
	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L20:	EQUAL? PRSA,V?WRAP-AROUND /FALSE
	CALL NOUN-USED?,W?LEGS,W?LEG >STACK
	ZERO? STACK /FALSE
	CALL PERFORM,V?STAND-ON,PRSI
	RFALSE
?L13:	INTBL? PRSA,HAVEVERBS,NHAVES >STACK \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT MOUTH-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?PUT-ON,V?THROW \?L3
	EQUAL? PRSO,STREAM,STYX,SOAPY-WATER \?L5
	CALL PERFORM,V?DRINK,PRSO
	RTRUE
?L5:	CALL PERFORM,V?EAT,PRSO
	RTRUE
?L3:	EQUAL? PRSA,V?TOUCH-TO \?L13
	CALL PERFORM,V?TASTE,PRSO
	RTRUE
?L1:	EQUAL? PRSA,V?REACH-IN \?L10
	PRINTR "How rude."
?L10:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE \?L11
	CALL1 NO-NEED
	RTRUE
?L11:	EQUAL? PRSA,V?RAPE,V?KICK,V?KISS \?L12
	PRINTR "Good luck."
?L12:	INTBL? PRSA,HAVEVERBS,NHAVES >STACK \?L13
	CALL1 IMPOSSIBLE
	RTRUE
?L13:	CALL2 YOU-DONT-NEED,MOUTH
	RETURN 2

	.FUNCT EYES-F
	ZERO? NOW-PRSI? \?L5
	EQUAL? PRSA,V?OPEN \?L3
	PRINTR "They are."
?L3:	EQUAL? PRSA,V?CLOSE \?L4
	CALL1 V-SLEEP
	RTRUE
?L4:	INTBL? PRSA,HAVEVERBS,NHAVES >STACK \?L5
	CALL1 IMPOSSIBLE
	RTRUE
?L5:	CALL2 YOU-DONT-NEED,EYES
	RETURN 2

	.FUNCT HEAD-F
	INTBL? PRSA,HAVEVERBS,NHAVES >STACK \?L1
	CALL1 IMPOSSIBLE
	RTRUE
?L1:	CALL2 YOU-DONT-NEED,HEAD
	RETURN 2

	.FUNCT ME-F,CONTEXT=0,OBJ,NXT,ANY=0
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?THROW,V?THROW-OVER \?L3
	CALL1 WASTE-OF-TIME
	RTRUE
?L3:	EQUAL? PRSA,V?COVER \?L5
	EQUAL? PRSO,GIRL \?L6
	FSET? PLANES,SEEN \?L8
	PRINTR "[RIDX: 7530]"
?L8:	CALL1 GIRL-SHIES
	RTRUE
?L6:	CALL PERFORM,V?STAND-ON,PRSO
	RTRUE
?L5:	EQUAL? PRSA,V?PUT-ON,V?WRAP-AROUND \?L12
	FSET? PRSO,CLOTHING \?L13
	CALL PERFORM,V?WEAR,PRSO
	RTRUE
?L13:	CALL1 IMPOSSIBLE
	RTRUE
?L12:	EQUAL? PRSA,V?PUT \FALSE
	CALL PERFORM,V?TASTE,PRSO
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH \?L18
	PRINTI "[RIDX: 7531]"
	FIRST? PLAYER >OBJ /?L22
	JUMP ?L21
?L19:	ZERO? OBJ /?L21
?L22:	NEXT? OBJ >NXT /?L25
?L25:	FSET? OBJ,WORN \?L26
	SET 'ANY,1
	MOVE OBJ,WEARING
?L26:	SET 'OBJ,NXT
	JUMP ?L19
?L21:	ZERO? ANY \?L29
	PRINTR "[RIDX: 7532]"
?L29:	PRINTI "wearing "
	CALL2 PRINT-CONTENTS,WEARING
	PRINT PERIOD
	CALL MOVE-ALL,WEARING,PLAYER
	RTRUE
?L18:	EQUAL? PRSA,V?LISTEN,V?SMELL \?L32
	PRINT CANT
	PRINTR "help doing that."
?L32:	EQUAL? PRSA,V?FIND,V?FOLLOW \?L33
	PRINTR "You're right here."
?L33:	EQUAL? PRSA,V?RAPE,V?SUCK,V?KISS \?L34
	PRINTR "Desperate?"
?L34:	EQUAL? PRSA,V?KILL \?L35
	PRINTI "[RIDX: 7537]"
	CRLF
	CALL2 PRINT-ID,STR?31
	RTRUE
?L35:	INTBL? PRSA,HURTVERBS,NHVERBS >STACK \?L36
	PRINTI "Punishing "
	PRINTD ME
	PRINTI " that way"
	CALL1 WONT-HELP
	RTRUE
?L36:	CALL1 YOU-F >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT YOU-F
	EQUAL? PRSA,V?WHO,V?WHAT,V?WHERE \?L1
	PRINTR "Good question."
?L1:	EQUAL? PRSA,V?UNDRESS \?L3
	CALL1 INAPPROPRIATE
	RTRUE
?L3:	EQUAL? PRSA,V?EAT,V?TASTE,V?DRINK /?L5
	EQUAL? PRSA,V?DRINK-FROM /?L5
	INTBL? PRSA,HAVEVERBS,NHAVES >STACK \FALSE
?L5:	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT CLOTHES-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L1
	CALL PERFORM,V?EXAMINE,ME
	RTRUE
?L1:	EQUAL? PRSA,V?LOOK-INSIDE \?L3
	CALL PERFORM,V?LOOK-INSIDE,POCKET
	RTRUE
?L3:	EQUAL? PRSA,V?PUT \?L4
	EQUAL? PRSI,CLOTHES \?L4
	PRINTI "[in "
	PRINTD POCKET
	PRINT BRACKET
	CALL PERFORM,V?PUT,PRSO,POCKET
	RTRUE
?L4:	EQUAL? PRSA,V?WEAR \?L5
	PRINT YOURE-ALREADY
	PRINTR "wearing them."
?L5:	EQUAL? PRSA,V?TAKE-OFF,V?DROP,V?RAISE \FALSE
	CALL1 INAPPROPRIATE
	RTRUE

	.FUNCT INAPPROPRIATE
	PRINTI "[RIDX: 7546]"
	CRLF
	CALL2 PRINT-ID,STR?32
	RTRUE

	.FUNCT WONT-HELP
	PRINTR "[RIDX: 7548]"

	.FUNCT GLOBAL-ROOM-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE \?L1
	CALL1 V-LOOK
	RTRUE
?L1:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L4
	EQUAL? PRSA,V?DROP,V?EXIT \?L3
?L4:	CALL1 V-WALK-AROUND
	RETURN 2
?L3:	EQUAL? PRSA,V?WALK-AROUND \FALSE
	PRINTI "[RIDX: 7550]"
	PRINT PCR
	PRINTI "[RIDX: 7551]"
	PRINTD INTDIR
	PRINTR ".]"

	.FUNCT OBJECT-IS-LOCKED
	PRINT CANT
	PRINTR "[RIDX: 7553]"

	.FUNCT CANT-SEE-ANY,THING=0,STRING?=0
	SET 'CLOCK-WAIT?,1
	CALL1 PCLEAR
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	PRINT CANT
	EQUAL? PRSA,V?LISTEN \?L1
	PRINTI "hear "
	JUMP ?L4
?L1:	EQUAL? PRSA,V?SMELL \?L3
	PRINTI "smell "
	JUMP ?L4
?L3:	PRINTI "see "
?L4:	ZERO? STRING? /?L5
	PRINT THING
	JUMP ?L11
?L5:	ZERO? THING /?L7
	FSET? THING,NOARTICLE /?L8
	PRINTI "any "
?L8:	PRINTD THING
	JUMP ?L11
?L7:	PRINTD NOT-HERE-OBJECT
?L11:	PRINTR " here."

	.FUNCT HOW?
	PRINTI "How do you "
	RANDOM 100 >STACK
	LESS? 50,STACK /?L1
	PRINTI "expect "
	JUMP ?L3
?L1:	PRINTI "intend "
?L3:	PRINTR "to do that?"

	.FUNCT NOT-LIKELY,THING,STR
	PRINTI "It"
	CALL2 PICK-NEXT,LIKELIES >STACK
	PRINT STACK
	PRINTI " that "
	CALL2 THE-PRINT,THING
	PRINTC 32
	PRINT STR
	PRINT PERIOD
	RTRUE

	.FUNCT YOUD-HAVE-TO,STR,THING
	CALL2 THIS-IS-IT,THING
	PRINTI "You'd have to "
	PRINT STR
	PRINTC 32
	CALL2 THE-PRINT,THING
	PRINTR " to do that."

	.FUNCT PLANET-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L1
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 7579]"
?L1:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L4
	EQUAL? PRSA,V?LOOK-BEHIND,V?LOOK-UNDER,V?SEARCH /?L4
	CALL1 ENTERING? >STACK
	ZERO? STACK /?L3
?L4:	CALL1 CANT-FROM-HERE
	RTRUE
?L3:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL NOT-IN,PRSO,1
	RTRUE

	.FUNCT GROUND-F,OBJ,NXT
	EQUAL? HERE,IN-ORBIT,ON-SAT \?L1
	CALL1 PLANET-F >STACK
	ZERO? STACK /FALSE
	RTRUE
?L1:	CALL2 NOUN-USED?,W?ICE >STACK
	ZERO? STACK /?L6
	CALL1 CANT-SEE-ANY
	RETURN 2
?L6:	ZERO? NOW-PRSI? /?L9
	EQUAL? PRSA,V?PUT-ON,V?PUT,V?THROW /?L12
	EQUAL? PRSA,V?THROW-OVER,V?EMPTY-INTO \FALSE
?L12:	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L9:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH \?L14
	FIRST? HERE >OBJ /?L31
	JUMP ?L17
?L15:	ZERO? OBJ /?L17
?L31:	NEXT? OBJ >NXT /?L20
?L20:	FSET? OBJ,NODESC /?L23
	FSET? OBJ,TAKEABLE /?L21
?L23:	MOVE OBJ,C-OBJECT
?L21:	SET 'OBJ,NXT
	JUMP ?L15
?L17:	PRINT YOU-SEE
	CALL2 PRINT-CONTENTS,HERE
	PRINTI " on the "
	FSET? HERE,INDOORS \?L26
	PRINTD FLOOR
	JUMP ?L28
?L26:	PRINTD GROUND
?L28:	PRINT PERIOD
	CALL MOVE-ALL,C-OBJECT,HERE
	RTRUE
?L14:	EQUAL? PRSA,V?CROSS \FALSE
	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT FLOOR-F
	FSET? HERE,INDOORS /?L1
	EQUAL? HERE,IN-JEEP /?L1
	CALL2 CANT-SEE-ANY,FLOOR
	RETURN 2
?L1:	CALL1 GROUND-F >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT POCKET-F,OBJ
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT \FALSE
	EQUAL? PRSO,CRANE \?L5
	CALL1 CTHE-PRINT
	PRINTI " would get crumpled"
	PRINT IF-YOU-DID
	RTRUE
?L5:	EQUAL? PRSO,BAG /?L8
	EQUAL? PRSO,EBAG,SOGGY \?L7
	FIRST? PRSO >STACK \?L7
?L8:	CALL YOUD-HAVE-TO,STR?33,PRSO
	RTRUE
?L7:	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,3 \FALSE
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 7588]"
	PRINTD PRSI
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L12
	FIRST? PRSO >OBJ \?L14
	PRINTI "You have "
	CALL2 PRINT-CONTENTS,PRSO
	JUMP ?L16
?L14:	PRINTI "There's nothing"
?L16:	PRINTI " in "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L12:	EQUAL? PRSA,V?EMPTY \?L17
	PRINTI "[into "
	PRINTD HANDS
	PRINTI "s"
	PRINT BRACKET
	RFALSE
?L17:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE \?L18
	CALL1 NO-NEED
	RTRUE
?L18:	INTBL? PRSA,HAVEVERBS,NHAVES >STACK \FALSE
	PRINT CANT
	PRINTI "do that to "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT IN-POCKET,CONTEXT=0
	EQUAL? CONTEXT,M-CONT \FALSE
	INTBL? PRSA,HAVEVERBS,NHAVES >STACK /?L4
	INTBL? PRSA,SEEVERBS,NSVERBS >STACK \FALSE
?L4:	PRINTI "[RIDX: 7596]"
	PRINTD POCKET
	PRINTR " first."

	.FUNCT NO-NEED
	PRINT DONT
	PRINTR "need to do that."

	.FUNCT ITALICIZE,STR,PTR=2,ST=0,LEN,CHAR
	GETB 0,30 >STACK
	EQUAL? STACK,5 \?L1
	INC 'ST
?L1:	DIROUT D-TABLE-ON,SL-TABLE
	PRINT STR
	DIROUT D-TABLE-OFF
	GET SL-TABLE,0 >LEN
	INC 'LEN
	LESS? LEN,2 /TRUE
	GETB 0,1 >STACK
	BTST STACK,8 \?L6
	HLIGHT H-ITALIC
?L7:	GETB SL-TABLE,PTR >CHAR
	ZERO? ST \?L9
	EQUAL? CHAR,32,46,44 /?L11
	EQUAL? CHAR,33,63,59 /?L11
	EQUAL? CHAR,58 \?L9
?L11:	HLIGHT H-NORMAL
	PRINTC CHAR
	HLIGHT H-ITALIC
	JUMP ?L12
?L9:	PRINTC CHAR
?L12:	EQUAL? PTR,LEN /?L8
	INC 'PTR
	JUMP ?L7
?L8:	HLIGHT H-NORMAL
	RTRUE
?L6:	GETB SL-TABLE,PTR >CHAR
	GRTR? CHAR,96 \?L19
	LESS? CHAR,123 \?L19
	SUB CHAR,32 >CHAR
?L19:	PRINTC CHAR
	EQUAL? PTR,LEN /TRUE
	INC 'PTR
	JUMP ?L6

	.FUNCT WRONG-WINNER?
	EQUAL? WINNER,PLAYER /FALSE
	PRINTI "["
	PRINT CANT
	PRINTR "[RIDX: 7604]"

	.FUNCT NOT-IN,THING=0,ON?=0
	ZERO? THING \?L1
	SET 'THING,PRSO
?L1:	CALL2 THIS-IS-IT,THING
	PRINTI "You're not "
	ZERO? ON? /?L4
	PRINTI "on "
	JUMP ?L6
?L4:	PRINTI "in "
?L6:	CALL2 THE-PRINT,THING
	PRINT PERIOD
	RTRUE

	.FUNCT ALREADY-IN,THING=0,ON?=0
	ZERO? THING \?L1
	SET 'THING,PRSO
?L1:	CALL2 THIS-IS-IT,THING
	PRINT YOURE-ALREADY
	ZERO? ON? /?L4
	PRINTI "on "
	JUMP ?L6
?L4:	PRINTI "in "
?L6:	CALL2 THE-PRINT,THING
	PRINT PERIOD
	RTRUE

	.FUNCT ALREADY-AT-TOP,OBJ=0
	CALL ALREADY-AT,STR?34,OBJ
	RTRUE

	.FUNCT ALREADY-AT-BOTTOM,OBJ=0
	CALL ALREADY-AT,STR?35,OBJ
	RTRUE

	.FUNCT ALREADY-AT,STR,OBJ
	ZERO? OBJ \?L1
	SET 'OBJ,PRSO
?L1:	CALL2 THIS-IS-IT,OBJ
	PRINT YOURE-ALREADY
	PRINTI "at the "
	PRINT STR
	PRINTI " of "
	CALL2 THE-PRINT,OBJ
	PRINT PERIOD
	RTRUE

	.FUNCT CANT-SEE-MUCH
	PRINTI "[RIDX: 7620]"
	EQUAL? HERE,IN-ORBIT,ON-SAT,ON-BIRD \?L1
	PRINTI "float"
	JUMP ?L4
?L1:	EQUAL? HERE,IN-SKY \?L3
	PRINTI "fall"
	JUMP ?L4
?L3:	PRINTI "stand"
?L4:	PRINTR "ing."

	.FUNCT CANT-SEE-FROM-HERE,THING
	PRINT CANT
	PRINTI "see "
	CALL2 THE-PRINT,THING
	PRINTR " from here."

	.FUNCT NOT-A,STR
	PRINTI "[RIDX: 7627]"
	PRINT STR
	PRINT PERIOD
	RTRUE

	.FUNCT OPEN-CLOSED,THING,VOWEL?1=0
	FSET? THING,OPENED \?L1
	ZERO? VOWEL?1 /?L3
	PRINTI "n"
?L3:	PRINTI " open "
	JUMP ?L6
?L1:	PRINTI " closed "
?L6:	PRINTD THING
	RTRUE

	.FUNCT CANT-FROM-HERE
	PRINTI "[RIDX: 7634]"
	CALL2 PICK-NEXT,COULDNTS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE

	.FUNCT MORE-THAN-ONE,STR
	PRINTI "[RIDX: 7639]"
	PRINT STR
	PRINTR "[RIDX: 7640]"

	.FUNCT GENERIC-DOOR-F,TABLE,PTR=1,DOOR=0,LEN,X
	EQUAL? P-NAM,W?DOORS,W?DOORWAYS /?L3
	EQUAL? P-XNAM,W?DOORS,W?DOORWAYS \?L1
?L3:	CALL2 MORE-THAN-ONE,STR?36
	RETURN NOT-HERE-OBJECT
?L1:	GET TABLE,0 >LEN
	LESS? LEN,2 /FALSE
	EQUAL? PRSA,V?CLOSE,V?ENTER,V?WALK-TO /?L10
	EQUAL? PRSA,V?THROUGH,V?USE,V?CROSS /?L10
	EQUAL? PRSA,V?EXIT,V?FOLLOW,V?LOOK-INSIDE /?L10
	EQUAL? PRSA,V?LOOK-OUTSIDE,V?LOOK-BEHIND \?L8
?L10:	GET TABLE,PTR >X
	FSET? X,OPENED \?L13
	ZERO? DOOR \FALSE
	SET 'DOOR,X
?L13:	IGRTR? 'PTR,LEN \?L10
	RETURN DOOR
?L8:	EQUAL? PRSA,V?OPEN \FALSE
?L23:	GET TABLE,PTR >X
	FSET? X,OPENED /?L25
	ZERO? DOOR \FALSE
	SET 'DOOR,X
?L25:	IGRTR? 'PTR,LEN \?L23
	RETURN DOOR

	.FUNCT HANDLE-PLACE?,INSIDE,N=0,E=0,S=0,W=0,OUT=0,CNT=0
	ZERO? N /?L1
	INC 'CNT
?L1:	ZERO? E /?L4
	INC 'CNT
?L4:	ZERO? S /?L7
	INC 'CNT
?L7:	ZERO? W /?L10
	INC 'CNT
?L10:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L15
	EQUAL? PRSA,V?LOOK-DOWN,V?SEARCH \?L13
?L15:	EQUAL? HERE,INSIDE \?L16
	CALL1 V-LOOK
	RTRUE
?L16:	CALL1 CANT-SEE-MUCH
	RTRUE
?L13:	EQUAL? PRSA,V?ENTER,V?WALK-TO,V?THROUGH \?L19
	EQUAL? HERE,INSIDE \?L20
	CALL1 ALREADY-IN
	RTRUE
?L20:	EQUAL? HERE,N \?L22
	CALL2 DO-WALK,P?SOUTH
	RTRUE
?L22:	EQUAL? HERE,E \?L23
	CALL2 DO-WALK,P?WEST
	RTRUE
?L23:	EQUAL? HERE,S \?L24
	CALL2 DO-WALK,P?NORTH
	RTRUE
?L24:	EQUAL? HERE,W \?L25
	CALL2 DO-WALK,P?EAST
	RTRUE
?L25:	EQUAL? HERE,OUT \?L26
	CALL2 DO-WALK,P?IN
	RTRUE
?L26:	CALL1 V-WALK-AROUND
	RTRUE
?L19:	CALL1 EXITING? >STACK
	ZERO? STACK /?L28
	EQUAL? HERE,INSIDE /?L29
	CALL1 NOT-IN
	RTRUE
?L29:	GRTR? CNT,1 \?L31
	CALL1 V-WALK-AROUND
	RTRUE
?L31:	CALL2 DO-WALK,P?OUT
	RTRUE
?L28:	ZERO? NOW-PRSI? \?L33
	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \?L33
	CALL1 IMPOSSIBLE
	RTRUE
?L33:	EQUAL? HERE,INSIDE /FALSE
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT ALREADY-DOING-THAT
	PRINT YOURE-ALREADY
	PRINTR "doing that."

	.FUNCT CANT-REACH,OBJ
	CALL2 CTHE-PRINT,OBJ
	CALL2 IS-ARE,OBJ
	PRINTR "high out of reach."

	.FUNCT TOO-HIGH,OBJ=0
	ZERO? OBJ \?L1
	SET 'OBJ,PRSO
?L1:	CALL2 CTHE-PRINT,OBJ
	CALL2 IS-ARE,OBJ
	PRINTR "too high."

	.FUNCT PRSO-TOO-BIG
	CALL1 CTHE-PRINT
	CALL1 IS-ARE
	PRINTR "much too big."

	.FUNCT PRSO-WONT-FIT
	CALL1 CTHE-PRINT
	CALL1 IS-ARE
	PRINTI "too big to fit in "
	CALL2 THE-PRINT,PRSI
	PRINT PERIOD
	RTRUE

	.FUNCT IS-ARE,THING=0
	ZERO? THING \?L1
	SET 'THING,PRSO
?L1:	FSET? THING,PLURAL \?L4
	PRINTI " are "
	RTRUE
?L4:	PRINTI " is "
	RTRUE

	.FUNCT ISNT-ARENT,THING=0
	ZERO? THING \?L1
	SET 'THING,PRSO
?L1:	FSET? THING,PLURAL \?L4
	PRINTI " aren't "
	RTRUE
?L4:	PRINTI " isn't "
	RTRUE

	.FUNCT CARRIAGE-RETURNS,CNT=23
?L1:	ZERO? CNT /TRUE
	CRLF
	DEC 'CNT
	JUMP ?L1

	.FUNCT VANISH,OBJ=0
	ZERO? OBJ \?L1
	SET 'OBJ,PRSO
?L1:	CALL1 IS-PERSON? >STACK
	CALL PRINT-ID,STR?37,STACK
	CALL1 IS-OBJ-PROP-ANIMAL? >STACK
	CALL PRINT-ID,STR?38,STACK
	REMOVE OBJ
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	RTRUE

	.FUNCT DROP-ALL,L=0,OBJ,NXT
	ZERO? L \?L1
	SET 'L,HERE
?L1:	FIRST? PLAYER >OBJ /?L7
	RTRUE
?L4:	ZERO? OBJ /TRUE
?L7:	NEXT? OBJ >NXT /?L10
?L10:	EQUAL? OBJ,POCKET,HONEY /?L11
	FSET? OBJ,WORN /?L11
	MOVE OBJ,L
?L11:	SET 'OBJ,NXT
	JUMP ?L4

	.FUNCT BREATH-F
	EQUAL? PRSA,V?TAKE,V?SUCK \?L1
	ZERO? NOW-PRSI? \?L1
	EQUAL? PRSI,0,ROOMS /?L3
	CALL1 IMPOSSIBLE
	RTRUE
?L3:	EQUAL? PRSA,V?SUCK /?L6
	EQUAL? P-PRSA-WORD,W?HOLD,W?TAKE,W?CATCH /?L6
	EQUAL? P-PRSA-WORD,W?GET,W?GRAB \?L5
?L6:	CALL1 V-INHALE
	RTRUE
?L5:	PRINT CANT
	PRINTB P-PRSA-WORD
	PRINTC 32
	PRINTD BREATH
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?RELEASE \?L8
	CALL1 V-EXHALE
	RTRUE
?L8:	EQUAL? PRSA,V?SMELL \?L9
	PRINTR "[RIDX: 7668]"
?L9:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE \FALSE
	FSET? HERE,CHILLY \?L11
	PRINTI "[RIDX: 7669]"
	JUMP ?L13
?L11:	PRINTI "[RIDX: 7670]"
	PRINTD BREATH
?L13:	PRINT PERIOD
	RTRUE

	.FUNCT TAKE-A-MOMENT-TO,OBJ,STR=0
	PRINTI "[RIDX: 7672]"
	ZERO? STR /?L1
	PRINT STR
	JUMP ?L3
?L1:	PRINTD OBJ
?L3:	PRINT PERIOD
	RTRUE

	.FUNCT WHICH-WAY-IN
	CALL2 WHICH-WAY,STR?39
	RFALSE

	.FUNCT WHICH-WAY-OUT
	CALL2 WHICH-WAY,STR?40
	RFALSE

	.FUNCT WHICH-WAY-DOWN
	CALL2 WHICH-WAY,STR?41
	RFALSE

	.FUNCT WHICH-WAY,STR
	PRINTI "[RIDX: 7676]"
	PRINT STR
	PRINTR "?]"

	.FUNCT SAY-EAST
	ZERO? FLIP? \?L1
	PRINTI "east"
	RTRUE
?L1:	PRINTI "west"
	RTRUE

	.FUNCT SAY-WEST
	ZERO? FLIP? \?L1
	PRINTI "west"
	RTRUE
?L1:	PRINTI "east"
	RTRUE

	.FUNCT PRSO-WONT-BUDGE
	CALL1 CTHE-PRINT
	PRINTR " won't budge."

	.FUNCT FIRMLY-ATTACHED,THING,TO
	CALL2 THIS-IS-IT,THING
	CALL2 CTHE-PRINT,THING
	CALL2 IS-ARE,THING
	CALL2 ATTACHED-TO,TO
	RTRUE

	.FUNCT ATTACHED-TO,OBJ=0
	ZERO? OBJ \?L1
	SET 'OBJ,PRSO
?L1:	GET FIXTURES,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTI "ly "
	GET FIXTURES,1 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTI " to "
	CALL2 THE-PRINT,OBJ
	PRINT PERIOD
	RTRUE

	.FUNCT NOUN-USED?,WORD1,WORD2=0,WORD3=0,O,I,OOF,IOF
	GET P-NAMW,0 >O
	GET P-NAMW,1 >I
	GET P-OFW,0 >OOF
	GET P-OFW,1 >IOF
	ZERO? NOW-PRSI? \?L4
	EQUAL? WORD1,O,OOF /TRUE
?L4:	ZERO? PRSI /?L1
	ZERO? NOW-PRSI? /?L1
	EQUAL? WORD1,I,IOF /TRUE
?L1:	ZERO? WORD2 /FALSE
	ZERO? NOW-PRSI? \?L8
	EQUAL? WORD2,O,OOF /TRUE
?L8:	ZERO? PRSI /?L6
	ZERO? NOW-PRSI? /?L6
	EQUAL? WORD2,I,IOF /TRUE
?L6:	ZERO? WORD3 /FALSE
	ZERO? NOW-PRSI? \?L12
	EQUAL? WORD3,O,OOF /TRUE
?L12:	ZERO? PRSI /FALSE
	ZERO? NOW-PRSI? /FALSE
	EQUAL? WORD3,I,IOF \FALSE
	RTRUE

	.FUNCT ADJ-USED?,WORD1,WORD2=0,WORD3=0,O,I
	GET P-ADJW,0 >O
	GET P-ADJW,1 >I
	ZERO? NOW-PRSI? \?L4
	EQUAL? O,WORD1 /TRUE
?L4:	ZERO? PRSI /?L1
	ZERO? NOW-PRSI? /?L1
	EQUAL? I,WORD1 /TRUE
?L1:	ZERO? WORD2 /FALSE
	ZERO? NOW-PRSI? \?L8
	EQUAL? O,WORD2 /TRUE
?L8:	ZERO? PRSI /?L6
	ZERO? NOW-PRSI? /?L6
	EQUAL? I,WORD2 /TRUE
?L6:	ZERO? WORD3 /FALSE
	ZERO? NOW-PRSI? \?L12
	EQUAL? O,WORD3 /TRUE
?L12:	ZERO? PRSI /FALSE
	ZERO? NOW-PRSI? /FALSE
	EQUAL? I,WORD3 \FALSE
	RTRUE

	.FUNCT HERE-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L3
	EQUAL? PRSA,V?SEARCH,V?WATCH \?L1
?L3:	CALL1 V-LOOK
	RTRUE
?L1:	EQUAL? PRSA,V?LOOK-BEHIND,V?LOOK-OUTSIDE \?L4
	CALL1 CANT-SEE-MUCH
	RTRUE
?L4:	EQUAL? PRSA,V?ENTER,V?WALK-TO,V?FIND \?L5
	CALL1 ALREADY-IN
	RTRUE
?L5:	CALL1 EXITING? >STACK
	ZERO? STACK \?L8
	EQUAL? PRSA,V?FOLLOW,V?THROUGH,V?CROSS /?L8
	EQUAL? PRSA,V?CLIMB-OVER,V?CLIMB-UP,V?CLIMB-DOWN /?L8
	EQUAL? PRSA,V?CLIMB-ON \FALSE
?L8:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT WINDOW,TABLE,MARGIN=0,Y=4,I=2,WIDTH,LINES,STR,PLINES
	GET TABLE,0 >LINES
	SET 'PLINES,LINES
	GET TABLE,1 >WIDTH
	ZERO? MARGIN \?L1
	DIV WIDTH,2 >STACK
	SUB MIDSCREEN,STACK >MARGIN
?L1:	ADD LINES,4 >STACK
	SPLIT STACK
	SCREEN S-WINDOW
	BUFOUT 0
	HLIGHT H-INVERSE
	CURSET Y,MARGIN
	CALL2 PRINT-SPACES,WIDTH
?L4:	INC 'Y
	CURSET Y,MARGIN
	DEC 'LINES
	ZERO? LINES \?L6
	CALL2 PRINT-SPACES,WIDTH
	JUMP ?L5
?L6:	GET TABLE,I >STR
	ZERO? STR \?L9
	CALL2 PRINT-SPACES,WIDTH
	JUMP ?L11
?L9:	PRINTC 32
	PRINT STR
	PRINTC 32
?L11:	INC 'I
	JUMP ?L4
?L5:	HLIGHT H-NORMAL
	SCREEN S-TEXT
	BUFOUT 1
	SPLIT 1
	DIROUT D-SCREEN-OFF
	SET 'I,2
	CRLF
	PRINTI "["
?L12:	DEC 'PLINES
	ZERO? PLINES /?L13
	GET TABLE,I >STR
	ZERO? STR /?L22
	EQUAL? I,2 /?L19
	PRINTC 32
?L19:	PRINT STR
	EQUAL? PLINES,1 \?L22
	PRINTI "]"
?L22:	CRLF
	INC 'I
	JUMP ?L12
?L13:	CRLF
	DIROUT D-SCREEN-ON
	RTRUE

	.FUNCT SOUND-F,X
	GETP HERE,P?HEAR >X
	ZERO? X /?L1
	ZERO? NOW-PRSI? \?L3
	CALL PERFORM,PRSA,X,PRSI
	RTRUE
?L3:	CALL PERFORM,PRSA,PRSO,X
	RTRUE
?L1:	INTBL? PRSA,SEEVERBS,NSVERBS >STACK /?L7
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
?L7:	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT CORNER-F
	FSET? HERE,INDOORS /?L1
	CALL2 CANT-SEE-ANY,CORNER
	RETURN 2
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH /?L6
	EQUAL? PRSA,V?LOOK-BEHIND,V?LOOK-UNDER \?L5
?L6:	CALL1 V-LOOK
	RTRUE
?L5:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L7
	PRINT YOURE-ALREADY
	PRINTI "close enough to the "
	PRINTD CORNER
	PRINT PERIOD
	RTRUE
?L7:	CALL1 EXITING? >STACK
	ZERO? STACK /?L8
	CALL1 V-WALK-AROUND
	RTRUE
?L8:	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL PERFORM,V?DROP,PRSO
	RTRUE

	.FUNCT PCLEAR
	SET 'P-CONT,0
	SET 'QUOTE-FLAG,0
	RTRUE

	.FUNCT RL-F
	CALL1 ENTERING? >STACK
	ZERO? STACK \?L4
	EQUAL? PRSA,V?EXIT,V?LEAVE,V?ESCAPE /?L4
	EQUAL? PRSA,V?CLIMB-UP,V?CLIMB-DOWN,V?CLIMB-ON /?L4
	EQUAL? PRSA,V?CLIMB-OVER,V?CROSS,V?STAND-ON /?L4
	EQUAL? PRSA,V?STAND-UNDER \FALSE
?L4:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT YOUD-FALL-OFF,OBJ
	PRINTI "You'd "
	RANDOM 100 >STACK
	LESS? 50,STACK /?L1
	PRINTI "fall"
	JUMP ?L3
?L1:	PRINTI "tumble"
?L3:	PRINTI " over the edge of "
	CALL2 THE-PRINT,OBJ
	PRINTI "[RIDX: 7719]"
	CRLF
	CALL2 PRINT-ID,STR?42
	RTRUE

	.FUNCT YOUD-FALL
	PRINTI "You'd "
	CALL2 PICK-NEXT,PLUMMETS >STACK
	PRINT STACK
	PRINTI "[RIDX: 7719]"
	CRLF
	CALL2 PRINT-ID,STR?43
	RFALSE

	.FUNCT USELESS,OBJ
	EQUAL? PRSA,V?EXAMINE /FALSE
	ZERO? NOW-PRSI? \?L3
	SET 'OBJ,PRSO
	JUMP ?L4
?L3:	SET 'OBJ,PRSI
?L4:	CALL2 YOU-DONT-NEED,OBJ
	RETURN 2

	.FUNCT YOU-DONT-NEED,THING,STRING?=0
	PRINTI "["
	PRINT DONT
	PRINTI "need to refer to "
	ZERO? STRING? /?L1
	PRINTI "the "
	PRINT THING
	JUMP ?L3
?L1:	CALL2 THE-PRINT,THING
?L3:	CALL1 TO-COMPLETE
	RTRUE

	.FUNCT TO-COMPLETE
	PRINTR "[RIDX: 7734]"

	.FUNCT VOICE-MUTTERS,STR,CR=1,X=0,ST=0
	FSET? HERE,WINDY \?L1
	ZERO? TR? /FALSE
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L4
	SET 'X,1
	PRINTI "A voice in your ear"
	GET MUTTERS,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTI "s, "
?L4:	GETB 0,30 >STACK
	EQUAL? STACK,5 \?L7
	INC 'ST
	CALL1 ST-QUOTE
	HLIGHT H-ITALIC
	JUMP ?L9
?L7:	PRINTI """"
?L9:	PRINT STR
	ZERO? X \?L10
	PRINTI ","
	HLIGHT H-NORMAL
	ZERO? ST \?L12
	PRINTI """"
	JUMP ?L14
?L12:	CALL1 ST-QUOTE
?L14:	GET MUTTERS,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTI "[RIDX: 7743]"
	JUMP ?L18
?L10:	PRINTI "."
	HLIGHT H-NORMAL
	ZERO? ST \?L16
	PRINTI """"
	JUMP ?L18
?L16:	CALL1 ST-QUOTE
?L18:	CRLF
	ZERO? CR /TRUE
	CRLF
	RTRUE

	.FUNCT THIS-IS-NOT,STR,ST=0
	GETB 0,30 >STACK
	EQUAL? STACK,5 \?L1
	INC 'ST
	CALL1 ST-QUOTE
	HLIGHT H-ITALIC
	JUMP ?L3
?L1:	PRINTI """"
?L3:	PRINTI "This isn't "
	ZERO? ST /?L4
	HLIGHT H-NORMAL
	JUMP ?L6
?L4:	HLIGHT H-ITALIC
?L6:	PRINT STR
	ZERO? ST /?L7
	PRINTI ","
	HLIGHT H-ITALIC
	JUMP ?L9
?L7:	HLIGHT H-NORMAL
	PRINTI ","
?L9:	PRINTI " you know,"
	HLIGHT H-NORMAL
	ZERO? ST \?L10
	PRINTI """"
	JUMP ?L12
?L10:	CALL1 ST-QUOTE
?L12:	GET MUTTERS,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTR "[RIDX: 7743]"

	.FUNCT NO-DETECTION
	CRLF
	GET MUTTERS,1 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	CALL VOICE-MUTTERS,STACK,0
	RTRUE

	.FUNCT ST-QUOTE
	DIROUT D-SCREEN-OFF
	PRINTI """"
	DIROUT D-SCREEN-ON
	RTRUE

	.FUNCT NONE-AT-MOMENT
	PRINT CANT
	PRINTR "[RIDX: 7776]"

	.FUNCT PARSER,PTR=P-LEXSTART,WRD,VAL=0,VERB=0,OF-FLAG=0,LEN=0,DIR=0,NW=0,LW=0,CNT=-1,OWINNER,OMERGED,TMP1=0
?L1:	IGRTR? 'CNT,P-ITBLLEN /?L2
	ZERO? P-OFLAG \?L6
	GET P-ITBL,CNT >STACK
	PUT P-OTBL,CNT,STACK
?L6:	PUT P-ITBL,CNT,0
	JUMP ?L1
?L2:	SET 'P-NAM,0
	SET 'P-ADJ,0
	SET 'P-XNAM,0
	SET 'P-XADJ,0
	SET 'P-DIR-WORD,0
	ZERO? P-OFLAG \?L9
	PUT P-NAMW,0,0
	PUT P-NAMW,1,0
	PUT P-ADJW,0,0
	PUT P-ADJW,1,0
	PUT P-OFW,0,0
	PUT P-OFW,1,0
?L9:	SET 'OMERGED,P-MERGED
	SET 'P-MERGED,0
	SET 'P-END-ON-PREP,0
	PUT P-PRSO,P-MATCHLEN,0
	PUT P-PRSI,P-MATCHLEN,0
	PUT P-BUTS,P-MATCHLEN,0
	SET 'OWINNER,WINNER
	ZERO? QUOTE-FLAG \?L12
	EQUAL? WINNER,PLAYER /?L12
	SET 'WINNER,PLAYER
	LOC WINNER >HERE
	CALL1 IS-LIT? >LIT?
?L12:	ZERO? RESERVE-PTR /?L15
	SET 'PTR,RESERVE-PTR
	CALL STUFF,P-LEXV,RESERVE-LEXV
	CALL INBUF-STUFF,P-INBUF,RESERVE-INBUF
	ZERO? VERBOSITY /?L17
	EQUAL? PLAYER,WINNER \?L17
	CRLF
?L17:	SET 'RESERVE-PTR,0
	SET 'P-CONT,0
	JUMP ?L24
?L15:	ZERO? P-CONT /?L20
	SET 'PTR,P-CONT
	SET 'P-CONT,0
	ZERO? VERBOSITY /?L24
	EQUAL? PLAYER,WINNER \?L24
	CRLF
	JUMP ?L24
?L20:	SET 'WINNER,PLAYER
	SET 'QUOTE-FLAG,0
	LOC WINNER >HERE
	CALL1 IS-LIT? >LIT?
	CALL1 DISPLAY-PLACE
	ZERO? DO-WINDOW /?L25
	CALL2 WINDOW,DO-WINDOW
	SET 'DO-WINDOW,0
	CRLF
	JUMP ?L27
?L25:	ZERO? VERBOSITY /?L27
	CRLF
?L27:	PRINTI ">"
	PUTB P-LEXV,0,59
	READ P-INBUF,P-LEXV
	CALL1 SAVE-INPUT
?L24:	GETB P-LEXV,P-LEXWORDS >P-LEN
	CALL2 VISIBLE?,MAGPIE >STACK
	ZERO? STACK /?L29
	SET 'INLEN,P-LEN
	JUMP ?L31
?L29:	SET 'INLEN,0
?L31:	GET P-LEXV,PTR >STACK
	EQUAL? STACK,W?$QUOTE \?L32
	ADD PTR,P-LEXELEN >PTR
	DEC 'P-LEN
?L32:	GET P-LEXV,PTR >STACK
	EQUAL? STACK,W?THEN,W?PLEASE,W?SO \?L35
	ADD PTR,P-LEXELEN >PTR
	DEC 'P-LEN
?L35:	GET P-LEXV,PTR >TMP1
	LESS? 1,P-LEN \?L38
	GET P-LEXV,PTR >STACK
	EQUAL? STACK,W?GO \?L38
	ADD PTR,P-LEXELEN >STACK
	GET P-LEXV,STACK >NW
	ZERO? NW /?L38
	CALL WT?,NW,PS?VERB >STACK
	ZERO? STACK /?L38
	ADD PTR,P-LEXELEN >PTR
	DEC 'P-LEN
?L38:	ZERO? P-LEN \?L41
	PRINTI "[What?]"
	CRLF
	RFALSE
?L41:	GET P-LEXV,PTR >STACK
	EQUAL? STACK,W?OOPS \?L43
	SET 'INLEN,0
	ADD PTR,P-LEXELEN >STACK
	GET P-LEXV,STACK >STACK
	EQUAL? STACK,W?$PERIOD,W?$COMMA \?L44
	ADD PTR,P-LEXELEN >PTR
	DEC 'P-LEN
?L44:	GRTR? P-LEN,1 /?L47
	PRINTI "["
	PRINT CANT
	PRINTI "use OOPS that way.]"
	CRLF
	RFALSE
?L47:	GET OOPS-TABLE,O-PTR >STACK
	ZERO? STACK /?L49
	GRTR? P-LEN,2 \?L50
	PRINTI "[RIDX: 7805]"
	CRLF
?L50:	ADD PTR,P-LEXELEN >STACK
	GET P-LEXV,STACK >STACK
	GET OOPS-TABLE,O-PTR >STACK
	PUT AGAIN-LEXV,STACK,STACK
	SET 'WINNER,OWINNER
	GET OOPS-TABLE,O-PTR >STACK
	MUL STACK,P-LEXELEN >STACK
	ADD STACK,3 >STACK
	MUL PTR,P-LEXELEN >STACK
	ADD STACK,7 >STACK
	GETB P-LEXV,STACK >STACK
	MUL PTR,P-LEXELEN >STACK
	ADD STACK,6 >STACK
	GETB P-LEXV,STACK >STACK
	CALL INBUF-ADD,STACK,STACK,STACK
	CALL STUFF,P-LEXV,AGAIN-LEXV
	GETB P-LEXV,P-LEXWORDS >P-LEN
	GET OOPS-TABLE,O-START >PTR
	CALL INBUF-STUFF,P-INBUF,OOPS-INBUF
	JUMP ?L54
?L49:	PUT OOPS-TABLE,O-END,0
	PRINTI "[RIDX: 7807]"
	CRLF
	RFALSE
?L43:	PUT OOPS-TABLE,O-END,0
?L54:	GET P-LEXV,PTR >STACK
	EQUAL? STACK,W?AGAIN,W?G \?L55
	SET 'INLEN,0
	ZERO? P-OFLAG \?L59
	ZERO? P-WON /?L59
	GETB OOPS-INBUF,1 >STACK
	ZERO? STACK \?L57
?L59:	PRINTI "["
	PRINT CANT
	PRINTI "use AGAIN that way.]"
	CRLF
	RFALSE
?L57:	GRTR? P-LEN,1 \?L60
	ADD PTR,P-LEXELEN >STACK
	GET P-LEXV,STACK >STACK
	EQUAL? STACK,W?$PERIOD,W?$COMMA,W?THEN /?L63
	ADD PTR,P-LEXELEN >STACK
	GET P-LEXV,STACK >STACK
	EQUAL? STACK,W?AND \?L61
?L63:	ADD PTR,4 >PTR
	GETB P-LEXV,P-LEXWORDS >STACK
	SUB STACK,2 >STACK
	PUTB P-LEXV,P-LEXWORDS,STACK
	JUMP ?L65
?L61:	CALL1 DONT-UNDERSTAND
	RFALSE
?L60:	ADD PTR,P-LEXELEN >PTR
	GETB P-LEXV,P-LEXWORDS >STACK
	DEC 'STACK
	PUTB P-LEXV,P-LEXWORDS,STACK
?L65:	GETB P-LEXV,P-LEXWORDS >STACK
	GRTR? STACK,0 \?L66
	CALL STUFF,RESERVE-LEXV,P-LEXV
	CALL INBUF-STUFF,RESERVE-INBUF,P-INBUF
	SET 'RESERVE-PTR,PTR
	JUMP ?L68
?L66:	SET 'RESERVE-PTR,0
?L68:	SET 'WINNER,OWINNER
	SET 'P-MERGED,OMERGED
	CALL INBUF-STUFF,P-INBUF,OOPS-INBUF
	CALL STUFF,P-LEXV,AGAIN-LEXV
	SET 'CNT,-1
	SET 'DIR,AGAIN-DIR
?L69:	IGRTR? 'CNT,P-ITBLLEN /?L76
	GET P-OTBL,CNT >STACK
	PUT P-ITBL,CNT,STACK
	JUMP ?L69
?L55:	SET 'P-NUMBER,-1
	CALL STUFF,AGAIN-LEXV,P-LEXV
	CALL INBUF-STUFF,OOPS-INBUF,P-INBUF
	PUT OOPS-TABLE,O-START,PTR
	MUL 4,P-LEN >STACK
	PUT OOPS-TABLE,O-LENGTH,STACK
	GETB P-LEXV,P-LEXWORDS >STACK
	MUL P-LEXELEN,STACK >STACK
	ADD PTR,STACK >STACK
	MUL 2,STACK >LEN
	SUB LEN,2 >STACK
	GETB P-LEXV,STACK >STACK
	SUB LEN,1 >STACK
	GETB P-LEXV,STACK >STACK
	ADD STACK,STACK >STACK
	PUT OOPS-TABLE,O-END,STACK
	SET 'RESERVE-PTR,0
	SET 'LEN,P-LEN
	SET 'P-DIR,0
	SET 'P-NCN,0
	SET 'P-GETFLAGS,0
	PUT P-ITBL,P-VERBN,0
?L75:	DLESS? 'P-LEN,0 \?L77
	SET 'QUOTE-FLAG,0
	JUMP ?L76
?L77:	GET P-LEXV,PTR >WRD
	CALL2 BUZZER-WORD?,WRD >STACK
	ZERO? STACK \FALSE
	ZERO? WRD \?L81
	CALL2 NUMBER?,PTR >WRD
	ZERO? WRD /?L80
?L81:	ZERO? P-LEN \?L82
	SET 'NW,0
	JUMP ?L84
?L82:	ADD PTR,P-LEXELEN >STACK
	GET P-LEXV,STACK >NW
?L84:	EQUAL? WRD,W?TO \?L85
	EQUAL? VERB,ACT?TELL,ACT?ASK \?L85
	PUT P-ITBL,P-VERB,ACT?TELL
	SET 'WRD,W?$QUOTE
	JUMP ?L88
?L85:	EQUAL? WRD,W?THEN \?L87
	GRTR? P-LEN,0 \?L87
	ZERO? VERB \?L87
	ZERO? QUOTE-FLAG \?L87
	PUT P-ITBL,P-VERB,ACT?TELL
	PUT P-ITBL,P-VERBN,0
	SET 'WRD,W?$QUOTE
	JUMP ?L88
?L87:	EQUAL? WRD,W?$PERIOD \?L88
	EQUAL? LW,W?DR,W?MR,W?MRS /?L89
	EQUAL? LW,W?J \?L88
?L89:	DEC 'P-NCN
	CALL CHANGE-LEXV,PTR,LW,1
	SET 'WRD,LW
	SET 'LW,0
?L88:	EQUAL? WRD,W?THEN,W?$PERIOD,W?$QUOTE \?L91
	EQUAL? WRD,W?$QUOTE \?L97
	ZERO? QUOTE-FLAG /?L95
	SET 'QUOTE-FLAG,0
	JUMP ?L97
?L95:	SET 'QUOTE-FLAG,1
?L97:	ZERO? P-LEN /?L99
	ADD PTR,P-LEXELEN >P-CONT
?L99:	PUTB P-LEXV,P-LEXWORDS,P-LEN
	JUMP ?L76
?L91:	CALL WT?,WRD,PS?DIRECTION,P1?DIRECTION >VAL
	ZERO? VAL /?L101
	EQUAL? VERB,0,ACT?WALK,ACT?GO \?L101
	EQUAL? LEN,1 /?L102
	EQUAL? LEN,2 \?L103
	EQUAL? VERB,ACT?WALK,ACT?GO /?L102
?L103:	EQUAL? NW,W?THEN,W?$PERIOD,W?$QUOTE \?L104
	GRTR? LEN,1 /?L102
?L104:	ZERO? QUOTE-FLAG /?L105
	EQUAL? LEN,2 \?L105
	EQUAL? NW,W?$QUOTE /?L102
?L105:	GRTR? LEN,2 \?L101
	EQUAL? NW,W?$COMMA,W?AND \?L101
?L102:	SET 'DIR,VAL
	SET 'P-DIR-WORD,WRD
	EQUAL? NW,W?$COMMA,W?AND \?L106
	ADD PTR,P-LEXELEN >STACK
	CALL CHANGE-LEXV,STACK,W?THEN
?L106:	GRTR? LEN,2 /?L137
	SET 'QUOTE-FLAG,0
	JUMP ?L76
?L101:	CALL WT?,WRD,PS?VERB,P1?VERB >VAL
	ZERO? VAL /?L112
	ZERO? VERB \?L112
	SET 'P-PRSA-WORD,WRD
	SET 'VERB,VAL
	PUT P-ITBL,P-VERB,VAL
	PUT P-ITBL,P-VERBN,P-VTBL
	PUT P-VTBL,0,WRD
	MUL PTR,2 >STACK
	ADD STACK,2 >TMP1
	GETB P-LEXV,TMP1 >STACK
	PUTB P-VTBL,2,STACK
	ADD TMP1,1 >STACK
	GETB P-LEXV,STACK >STACK
	PUTB P-VTBL,3,STACK
	JUMP ?L137
?L112:	CALL WT?,WRD,PS?PREPOSITION,0 >VAL
	ZERO? VAL \?L114
	EQUAL? WRD,W?A,W?EVERYTHING,W?BOTH /?L114
	EQUAL? WRD,W?ALL /?L114
	CALL WT?,WRD,PS?ADJECTIVE >STACK
	ZERO? STACK \?L114
	CALL WT?,WRD,PS?OBJECT >STACK
	ZERO? STACK /?L113
?L114:	GRTR? P-LEN,1 \?L115
	EQUAL? NW,W?OF \?L115
	EQUAL? VERB,ACT?TAKE /?L115
	ZERO? VAL \?L147
	EQUAL? WRD,W?A,W?ALL,W?BOTH /?L115
	EQUAL? WRD,W?EVERYTHING /?L115
	PUT P-OFW,P-NCN,WRD
	SET 'OF-FLAG,1
	JUMP ?L137
?L115:	ZERO? VAL /?L117
?L147:	ZERO? P-LEN /?L118
	EQUAL? NW,W?THEN,W?$PERIOD \?L117
?L118:	SET 'P-END-ON-PREP,1
	LESS? P-NCN,2 \?L137
	PUT P-ITBL,P-PREP1,VAL
	PUT P-ITBL,P-PREP1N,WRD
	JUMP ?L137
?L117:	EQUAL? P-NCN,2 \?L122
	PRINTI "[RIDX: 7821]"
	CRLF
	RFALSE
?L122:	INC 'P-NCN
	CALL CLAUSE,PTR,VAL,WRD >PTR
	ZERO? PTR /FALSE
	LESS? PTR,0 \?L137
	SET 'QUOTE-FLAG,0
	JUMP ?L76
?L113:	EQUAL? WRD,W?OF \?L129
	ZERO? OF-FLAG /?L132
	EQUAL? NW,W?$PERIOD,W?THEN \?L130
?L132:	CALL2 CANT-USE,PTR
	RFALSE
?L130:	SET 'OF-FLAG,0
	JUMP ?L137
?L129:	CALL WT?,WRD,PS?BUZZ-WORD >STACK
	ZERO? STACK \?L137
	EQUAL? VERB,ACT?TELL \?L135
	CALL WT?,WRD,PS?VERB >STACK
	ZERO? STACK /?L135
	CALL1 WAY-TO-TALK
	RFALSE
?L135:	CALL2 CANT-USE,PTR
	RFALSE
?L80:	CALL2 UNKNOWN-WORD,PTR
	RFALSE
?L137:	SET 'LW,WRD
	ADD PTR,P-LEXELEN >PTR
	JUMP ?L75
?L76:	PUT OOPS-TABLE,O-PTR,0
	ZERO? DIR /?L138
	SET 'PRSA,V?WALK
	SET 'P-WALK-DIR,DIR
	SET 'AGAIN-DIR,DIR
	SET 'PRSO,DIR
	SET 'P-OFLAG,0
	RTRUE
?L138:	SET 'P-WALK-DIR,0
	SET 'AGAIN-DIR,0
	ZERO? P-OFLAG /?L141
	CALL1 ORPHAN-MERGE >STACK
	ZERO? STACK /?L141
	SET 'WINNER,OWINNER
?L141:	CALL1 SYNTAX-CHECK >STACK
	ZERO? STACK /FALSE
	CALL1 SNARF-OBJECTS >STACK
	ZERO? STACK /FALSE
	CALL1 MANY-CHECK >STACK
	ZERO? STACK /FALSE
	GETB P-SYNTAX,P-SLOC1 >STACK
	CALL ITAKE-CHECK,P-PRSO,STACK >STACK
	ZERO? STACK /FALSE
	GETB P-SYNTAX,P-SLOC2 >STACK
	CALL ITAKE-CHECK,P-PRSI,STACK >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT CHANGE-LEXV,PTR,WRD,PTRS?=0,X,Y,Z
	ZERO? PTRS? /?L1
	SUB PTR,P-LEXELEN >STACK
	MUL 2,STACK >STACK
	ADD 2,STACK >X
	GETB P-LEXV,X >Y
	MUL 2,PTR >STACK
	ADD 2,STACK >Z
	PUTB P-LEXV,Z,Y
	PUTB AGAIN-LEXV,Z,Y
	ADD 1,X >STACK
	GETB P-LEXV,STACK >Y
	MUL 2,PTR >STACK
	ADD 3,STACK >Z
	PUTB P-LEXV,Z,Y
	PUTB AGAIN-LEXV,Z,Y
?L1:	PUT P-LEXV,PTR,WRD
	PUT AGAIN-LEXV,PTR,WRD
	RTRUE

	.FUNCT WAY-TO-TALK,Q?=0
	CALL1 PCLEAR
	PRINTI "[Refer to your "
	CALL2 ITALICIZE,STR?44
	PRINTI "[RIDX: 7832]"
	CRLF
	RETURN 2

	.FUNCT WT?,PTR,BIT,B1=5,OFFS=P-P1OFF,TYP
	GETB PTR,P-PSOFF >TYP
	BTST TYP,BIT \FALSE
	GRTR? B1,4 /TRUE
	BAND TYP,P-P1BITS >TYP
	EQUAL? TYP,B1 /?L6
	INC 'OFFS
?L6:	GETB PTR,OFFS >STACK
	RSTACK

	.FUNCT CLAUSE,PTR,VAL,WRD,OFF,NUM,ANDFLG=0,FIRST??=1,NW,LW=0
	SUB P-NCN,1 >STACK
	MUL STACK,2 >OFF
	ZERO? VAL /?L1
	ADD P-PREP1,OFF >NUM
	PUT P-ITBL,NUM,VAL
	ADD NUM,1 >STACK
	PUT P-ITBL,STACK,WRD
	ADD PTR,P-LEXELEN >PTR
	JUMP ?L3
?L1:	INC 'P-LEN
?L3:	ZERO? P-LEN \?L4
	DEC 'P-NCN
	RETURN -1
?L4:	ADD P-NC1,OFF >NUM
	MUL PTR,2 >STACK
	ADD P-LEXV,STACK >STACK
	PUT P-ITBL,NUM,STACK
	GET P-LEXV,PTR >STACK
	EQUAL? STACK,W?THE,W?A,W?AN \?L7
	GET P-ITBL,NUM >STACK
	ADD STACK,4 >STACK
	PUT P-ITBL,NUM,STACK
?L7:	DLESS? 'P-LEN,0 \?L12
	MUL PTR,2 >STACK
	ADD P-LEXV,STACK >STACK
	ADD NUM,1 >STACK
	PUT P-ITBL,STACK,STACK
	RETURN -1
?L12:	GET P-LEXV,PTR >WRD
	CALL2 BUZZER-WORD?,WRD >STACK
	ZERO? STACK \FALSE
	ZERO? WRD \?L18
	CALL2 NUMBER?,PTR >WRD
	ZERO? WRD /?L17
?L18:	ZERO? P-LEN \?L19
	SET 'NW,0
	JUMP ?L21
?L19:	ADD PTR,P-LEXELEN >STACK
	GET P-LEXV,STACK >NW
?L21:	EQUAL? WRD,W?$PERIOD \?L22
	EQUAL? LW,W?MR,W?MRS,W?MISS /?L24
	EQUAL? LW,W?J \?L22
?L24:	SET 'LW,0
	JUMP ?L45
?L22:	EQUAL? WRD,W?AND,W?$COMMA \?L25
	SET 'ANDFLG,1
	JUMP ?L45
?L25:	EQUAL? WRD,W?ALL,W?BOTH,W?EVERYTHING \?L26
	EQUAL? NW,W?OF \?L45
	DEC 'P-LEN
	ADD PTR,P-LEXELEN >PTR
	JUMP ?L45
?L26:	EQUAL? WRD,W?THEN,W?$PERIOD /?L31
	CALL WT?,WRD,PS?PREPOSITION >STACK
	ZERO? STACK /?L30
	GET P-ITBL,P-VERB >STACK
	ZERO? STACK /?L30
	ZERO? FIRST?? \?L30
?L31:	INC 'P-LEN
	MUL PTR,2 >STACK
	ADD P-LEXV,STACK >STACK
	ADD NUM,1 >STACK
	PUT P-ITBL,STACK,STACK
	SUB PTR,P-LEXELEN >STACK
	RSTACK
?L30:	ZERO? ANDFLG /?L32
	GET P-ITBL,P-VERBN >STACK
	ZERO? STACK /?L33
	CALL2 VERB-DIR-ONLY?,WRD >STACK
	ZERO? STACK /?L32
?L33:	SUB PTR,4 >PTR
	ADD PTR,2 >STACK
	CALL CHANGE-LEXV,STACK,W?THEN
	ADD P-LEN,2 >P-LEN
	JUMP ?L45
?L32:	CALL WT?,WRD,PS?OBJECT >STACK
	ZERO? STACK /?L34
	GRTR? P-LEN,0 \?L35
	EQUAL? NW,W?OF \?L35
	EQUAL? WRD,W?ALL,W?EVERYTHING /?L35
	SUB P-NCN,1 >STACK
	PUT P-OFW,STACK,WRD
	JUMP ?L45
?L35:	CALL WT?,WRD,PS?ADJECTIVE >STACK
	ZERO? STACK /?L37
	ZERO? NW /?L37
	CALL WT?,NW,PS?OBJECT >STACK
	ZERO? STACK \?L45
?L37:	ZERO? ANDFLG \?L38
	EQUAL? NW,W?BUT,W?EXCEPT,W?AND /?L38
	EQUAL? NW,W?$COMMA /?L38
	ADD PTR,2 >STACK
	MUL STACK,2 >STACK
	ADD P-LEXV,STACK >STACK
	ADD NUM,1 >STACK
	PUT P-ITBL,STACK,STACK
	RETURN PTR
?L38:	SET 'ANDFLG,0
	JUMP ?L45
?L34:	CALL WT?,WRD,PS?ADJECTIVE >STACK
	ZERO? STACK \?L45
	CALL WT?,WRD,PS?BUZZ-WORD >STACK
	ZERO? STACK \?L45
	ZERO? ANDFLG /?L42
	GET P-ITBL,P-VERB >STACK
	ZERO? STACK \?L42
	SUB PTR,4 >PTR
	ADD PTR,2 >STACK
	CALL CHANGE-LEXV,STACK,W?THEN
	ADD P-LEN,2 >P-LEN
	JUMP ?L45
?L42:	CALL WT?,WRD,PS?PREPOSITION >STACK
	ZERO? STACK \?L45
	CALL2 CANT-USE,PTR
	RFALSE
?L17:	CALL2 UNKNOWN-WORD,PTR
	RFALSE
?L45:	SET 'LW,WRD
	SET 'FIRST??,0
	ADD PTR,P-LEXELEN >PTR
	JUMP ?L7

	.FUNCT SPOKEN-TO,WHO
	EQUAL? WHO,QCONTEXT \?L3
	EQUAL? HERE,QCONTEXT-ROOM /TRUE
?L3:	SET 'QCONTEXT,WHO
	LOC WHO >QCONTEXT-ROOM
	CALL2 THIS-IS-IT,WHO
	PRINTI "[spoken to "
	CALL2 THE-PRINT,WHO
	PRINT BRACKET
	RTRUE

	.FUNCT THIS-IS-IT,OBJ
	EQUAL? OBJ,0,PLAYER,NOT-HERE-OBJECT /TRUE
	EQUAL? OBJ,INTDIR,INTNUM,RIGHT /TRUE
	EQUAL? OBJ,LEFT /TRUE
	EQUAL? PRSA,V?WALK,V?WALK-TO \?L4
	EQUAL? OBJ,PRSO /TRUE
?L4:	EQUAL? OBJ,BWOMAN,JWOMAN,GIRL \?L5
	SET 'P-HER-OBJECT,OBJ
	RTRUE
?L5:	EQUAL? OBJ,GIANT,GOON,CHARON /?L7
	EQUAL? OBJ,BOY,PHOTO \?L6
?L7:	SET 'P-HIM-OBJECT,OBJ
	RTRUE
?L6:	FSET? OBJ,PLURAL \?L8
	SET 'P-THEM-OBJECT,OBJ
	RTRUE
?L8:	SET 'P-IT-OBJECT,OBJ
	RTRUE

	.FUNCT FAKE-ORPHAN,TMP
	CALL ORPHAN,P-SYNTAX,0
	CALL1 BE-SPECIFIC
	GET P-OTBL,P-VERBN >TMP
	ZERO? TMP \?L1
	PRINTI "tell"
	JUMP ?L4
?L1:	GETB P-VTBL,2 >STACK
	ZERO? STACK \?L3
	GET TMP,0 >STACK
	PRINTB STACK
	JUMP ?L4
?L3:	GETB TMP,3 >STACK
	GETB TMP,2 >STACK
	CALL WORD-PRINT,STACK,STACK
	PUTB P-VTBL,2,0
?L4:	SET 'P-OFLAG,1
	SET 'P-WON,0
	PRINTR "?]"

	.FUNCT PERFORM,A,O=0,I=0,V=0,OA,OO,OI,ONP,WHO=0,TUCH=0
	EQUAL? WINNER,PLAYER /?L1
	FSET? WINNER,PERSON /?L1
	CALL NOT-LIKELY,WINNER,STR?45
	CALL1 PCLEAR
	RETURN 2
?L1:	SET 'OA,PRSA
	SET 'OO,PRSO
	SET 'OI,PRSI
	SET 'ONP,NOW-PRSI?
	CALL1 ANYONE-HERE? >WHO
	SET 'PRSA,A
	ZERO? LIT? \?L6
	INTBL? A,SEEVERBS,NSVERBS >STACK \?L6
	CALL1 TOO-DARK
	RETURN 2
?L6:	EQUAL? A,V?WALK /?L115
	EQUAL? WINNER,PLAYER \?L24
	EQUAL? PRSA,V?WHO,V?WHAT,V?WHERE \?L11
	ZERO? WHO \?L13
	CALL1 NOBODY-TO-ASK
	RETURN 2
?L13:	SET 'WINNER,WHO
	CALL2 SPOKEN-TO,WHO
	JUMP ?L24
?L11:	EQUAL? WINNER,PLAYER \?L24
	EQUAL? O,ME \?L24
	EQUAL? PRSA,V?TELL,V?TELL-ABOUT,V?ASK-ABOUT /?L19
	EQUAL? PRSA,V?ASK-FOR,V?QUESTION,V?REPLY /?L19
	EQUAL? PRSA,V?THANK,V?YELL,V?HELLO /?L19
	EQUAL? PRSA,V?GOODBYE,V?SAY,V?ALARM \?L24
?L19:	ZERO? WHO \?L20
	CALL1 TALK-TO-SELF
	RETURN 2
?L20:	SET 'WINNER,WHO
	CALL2 SPOKEN-TO,WHO
?L24:	EQUAL? YOU,I,O \?L39
	EQUAL? WINNER,PLAYER \?L28
	ZERO? WHO \?L30
	CALL1 TALK-TO-SELF
	RETURN 2
?L30:	SET 'WINNER,WHO
	CALL2 SPOKEN-TO,WHO
	JUMP ?L35
?L28:	SET 'QCONTEXT,WINNER
	LOC WINNER >QCONTEXT-ROOM
	SET 'WHO,WINNER
?L35:	EQUAL? I,YOU \?L36
	SET 'I,WHO
?L36:	EQUAL? O,YOU \?L39
	SET 'O,WHO
?L39:	EQUAL? IT,I,O \?L43
	CALL2 ACCESSIBLE?,P-IT-OBJECT >STACK
	ZERO? STACK \?L43
	ZERO? I \?L45
	CALL1 FAKE-ORPHAN
	RETURN 2
?L45:	CALL2 CANT-SEE-ANY,P-IT-OBJECT
	RETURN 2
?L43:	EQUAL? THEM,I,O \?L61
	CALL2 VISIBLE?,P-THEM-OBJECT >STACK
	ZERO? STACK /?L53
	EQUAL? THEM,O \?L55
	SET 'O,P-THEM-OBJECT
?L55:	EQUAL? THEM,I \?L61
	SET 'I,P-THEM-OBJECT
	JUMP ?L61
?L53:	ZERO? I \?L62
	CALL1 FAKE-ORPHAN
	RETURN 2
?L62:	CALL2 CANT-SEE-ANY,P-THEM-OBJECT
	RETURN 2
?L61:	EQUAL? HER,I,O \?L83
	CALL2 VISIBLE?,P-HER-OBJECT >STACK
	ZERO? STACK /?L70
	EQUAL? P-HER-OBJECT,WINNER \?L72
	CALL2 NO-OTHER?,1 >STACK
	ZERO? STACK /?L72
	RETURN 2
?L72:	EQUAL? HER,O \?L77
	SET 'O,P-HER-OBJECT
?L77:	EQUAL? HER,I \?L83
	SET 'I,P-HER-OBJECT
	JUMP ?L83
?L70:	ZERO? I \?L84
	CALL1 FAKE-ORPHAN
	RETURN 2
?L84:	CALL2 CANT-SEE-ANY,P-HER-OBJECT
	RETURN 2
?L83:	EQUAL? HIM,I,O \?L105
	CALL2 VISIBLE?,P-HIM-OBJECT >STACK
	ZERO? STACK /?L92
	EQUAL? P-HIM-OBJECT,WINNER \?L94
	CALL1 NO-OTHER? >STACK
	ZERO? STACK /?L94
	RETURN 2
?L94:	EQUAL? HIM,O \?L99
	SET 'O,P-HIM-OBJECT
?L99:	EQUAL? HIM,I \?L105
	SET 'I,P-HIM-OBJECT
	JUMP ?L105
?L92:	ZERO? I \?L106
	CALL1 FAKE-ORPHAN
	RETURN 2
?L106:	CALL2 CANT-SEE-ANY,P-HIM-OBJECT
	RETURN 2
?L105:	EQUAL? O,IT \?L112
	SET 'O,P-IT-OBJECT
?L112:	EQUAL? I,IT \?L115
	SET 'I,P-IT-OBJECT
?L115:	SET 'PRSI,I
	SET 'PRSO,O
	SET 'V,0
	EQUAL? A,V?WALK /?L121
	EQUAL? NOT-HERE-OBJECT,PRSO,PRSI \?L121
	CALL1 NOT-HERE-OBJECT-F >V
	ZERO? V /?L121
	SET 'P-WON,0
?L121:	CALL2 THIS-IS-IT,PRSO
	SET 'O,PRSO
	SET 'I,PRSI
	ZERO? V \?L131
	GETP WINNER,P?ACTION >STACK
	CALL2 STACK,M-WINNER >V
	ZERO? V \?L131
	LOC WINNER >STACK
	GETP STACK,P?ACTION >STACK
	CALL2 STACK,M-BEG >V
	ZERO? V \?L131
	GET PREACTIONS,A >STACK
	CALL1 STACK >V
?L131:	INTBL? A,TOUCHVERBS,NTOUCHES >STACK /?L136
	INTBL? A,HURTVERBS,NHVERBS >STACK \?L134
?L136:	SET 'TUCH,1
?L134:	ZERO? V \?L156
	ZERO? IN-PRAM? /?L138
	EQUAL? WINNER,PLAYER \?L138
	EQUAL? PRSA,V?WALK \?L141
	EQUAL? P-WALK-DIR,P?OUT,P?IN \?L140
?L141:	EQUAL? O,0,PRAM,POCKET /?L142
	LOC O >STACK
	ZERO? STACK /?L142
	IN? O,GLOBAL-OBJECTS /?L142
	ZERO? P-WALK-DIR \?L142
	ZERO? TUCH /?L142
	CALL2 GOT?,O >STACK
	ZERO? STACK \?L142
	IN? O,PRAM /?L142
	LOC O >STACK
	IN? STACK,PRAM \?L140
?L142:	EQUAL? I,0,PRAM,POCKET /?L138
	LOC I >STACK
	ZERO? STACK /?L138
	IN? I,GLOBAL-OBJECTS /?L138
	ZERO? TUCH /?L138
	CALL2 GOT?,I >STACK
	ZERO? STACK \?L138
	IN? I,PRAM /?L138
	LOC I >STACK
	IN? STACK,PRAM /?L138
?L140:	CALL1 CANT-WHILE-IN-PRAM
	SET 'V,1
?L138:	ZERO? V \?L156
	ZERO? IN-DISH? /?L144
	EQUAL? WINNER,PLAYER \?L144
	EQUAL? PRSA,V?WALK \?L147
	EQUAL? P-WALK-DIR,P?OUT,P?IN \?L146
?L147:	EQUAL? O,0,DISH,POCKET /?L148
	LOC O >STACK
	ZERO? STACK /?L148
	IN? O,GLOBAL-OBJECTS /?L148
	ZERO? P-WALK-DIR \?L148
	ZERO? TUCH /?L148
	CALL2 GOT?,O >STACK
	ZERO? STACK \?L148
	IN? O,DISH \?L146
?L148:	EQUAL? I,0,DISH,POCKET /?L144
	LOC I >STACK
	ZERO? STACK /?L144
	IN? I,GLOBAL-OBJECTS /?L144
	ZERO? TUCH /?L144
	CALL2 GOT?,I >STACK
	ZERO? STACK \?L144
	IN? I,DISH /?L144
?L146:	CALL1 EXIT-DISH-FIRST
	SET 'V,1
?L144:	ZERO? V \?L156
	ZERO? SUITED? /?L150
	EQUAL? WINNER,PLAYER \?L150
	EQUAL? O,0,FILM,LUMP /?L153
	EQUAL? O,POCKET /?L153
	LOC O >STACK
	ZERO? STACK /?L153
	IN? O,GLOBAL-OBJECTS /?L153
	ZERO? P-WALK-DIR \?L153
	IN? O,LUMP /?L153
	ZERO? TUCH /?L153
	CALL2 GOT?,O >STACK
	ZERO? STACK /?L152
?L153:	EQUAL? I,0,FILM,LUMP /?L150
	EQUAL? I,POCKET /?L150
	LOC I >STACK
	ZERO? STACK /?L150
	IN? I,GLOBAL-OBJECTS /?L150
	IN? I,LUMP /?L150
	ZERO? TUCH \?L154
	EQUAL? A,V?THROW,V?THROW-OVER \?L150
?L154:	CALL2 GOT?,I >STACK
	ZERO? STACK \?L150
?L152:	CALL1 CANT-REACH-THRU-FILM
	SET 'V,1
?L150:	ZERO? V \?L156
	ZERO? IN-DORY? /?L156
	EQUAL? WINNER,PLAYER \?L156
	EQUAL? PRSA,V?WALK \?L159
	EQUAL? P-WALK-DIR,P?OUT,P?IN \?L158
?L159:	EQUAL? O,0,DORY,POCKET /?L160
	LOC O >STACK
	ZERO? STACK /?L160
	IN? O,GLOBAL-OBJECTS /?L160
	ZERO? P-WALK-DIR \?L160
	ZERO? TUCH /?L160
	CALL2 GOT?,O >STACK
	ZERO? STACK \?L160
	IN? O,DORY /?L160
	LOC O >STACK
	IN? STACK,DORY \?L158
?L160:	EQUAL? I,0,DORY,POCKET /?L156
	LOC I >STACK
	ZERO? STACK /?L156
	IN? I,GLOBAL-OBJECTS /?L156
	ZERO? TUCH /?L156
	CALL2 GOT?,I >STACK
	ZERO? STACK \?L156
	IN? I,DORY /?L156
	LOC I >STACK
	IN? STACK,DORY /?L156
?L158:	PRINTI "[RIDX: 7863]"
	CRLF
	SET 'V,1
?L156:	EQUAL? A,V?TELL-ABOUT,V?ASK-ABOUT,V?ASK-FOR /?L176
	SET 'NOW-PRSI?,1
	ZERO? V \?L166
	ZERO? I /?L166
	EQUAL? A,V?WALK /?L166
	LOC I >STACK
	ZERO? STACK /?L166
	LOC I >STACK
	GETP STACK,P?CONTFCN >V
	ZERO? V /?L166
	CALL2 V,M-CONT >V
?L166:	SET 'NOW-PRSI?,0
	ZERO? V \?L172
	ZERO? O /?L172
	EQUAL? A,V?WALK /?L172
	LOC O >STACK
	ZERO? STACK /?L172
	LOC O >STACK
	GETP STACK,P?CONTFCN >V
	ZERO? V /?L172
	CALL2 V,M-CONT >V
?L172:	SET 'NOW-PRSI?,1
	ZERO? V \?L176
	ZERO? I /?L176
	GETP I,P?ACTION >STACK
	CALL1 STACK >V
?L176:	SET 'NOW-PRSI?,0
	ZERO? V \?L183
	ZERO? O /?L180
	EQUAL? A,V?WALK /?L180
	GETP O,P?ACTION >STACK
	CALL1 STACK >V
?L180:	ZERO? V \?L183
	GET ACTIONS,A >STACK
	CALL1 STACK >V
?L183:	SET 'PRSA,OA
	SET 'PRSO,OO
	SET 'PRSI,OI
	SET 'NOW-PRSI?,ONP
	RETURN V

	.FUNCT NO-OTHER?,FEMALE?=0,OBJ
	FIRST? HERE >OBJ \?L22
?L21:	EQUAL? OBJ,WINNER /?L13
	FSET? OBJ,PERSON \?L13
	ZERO? FEMALE? /?L8
	FSET? OBJ,FEMALE \?L13
	JUMP ?L3
?L8:	FSET? OBJ,FEMALE \?L3
?L13:	NEXT? OBJ >OBJ /?L21
	JUMP ?L22
?L3:	ZERO? OBJ \FALSE
?L22:	CALL2 LOOKS-PUZZLED,WINNER
	PRINTR "[RIDX: 7866]"

	.FUNCT NOBODY-TO-ASK
	CALL1 PCLEAR
	PRINTR "[RIDX: 7867]"

	.FUNCT CANT-REACH-THRU-FILM
	PRINT CANT
	PRINTI "reach through the "
	PRINTD FILM
	PRINT PERIOD
	RTRUE

	.FUNCT TALK-TO-SELF
	CALL1 PCLEAR
	PRINTR "[RIDX: 7869]"

	.FUNCT BUZZER-WORD?,WORD,TBL
	GET BUZZTABLE,0 >TBL
	GET TBL,0 >STACK
	ADD TBL,2 >STACK
	INTBL? WORD,STACK,STACK >STACK \?L1
	CALL TO-DO-THING-USE,STR?47,STR?46
	RTRUE
?L1:	GET BUZZTABLE,1 >TBL
	GET TBL,0 >STACK
	ADD TBL,2 >STACK
	INTBL? WORD,STACK,STACK >STACK \?L4
	CALL2 WAY-TO-TALK,1
	RTRUE
?L4:	GET BUZZTABLE,2 >TBL
	GET TBL,0 >STACK
	ADD TBL,2 >STACK
	INTBL? WORD,STACK,STACK >STACK \?L7
	PRINTI "["
	PRINT DONT
	PRINTI "need to use that "
	PRINTD INTNUM
	CALL1 TO-COMPLETE
	RTRUE
?L7:	GET BUZZTABLE,3 >TBL
	GET TBL,0 >STACK
	ADD TBL,2 >STACK
	INTBL? WORD,STACK,STACK >STACK \?L10
	CALL1 CRUDITY
	RTRUE
?L10:	GET BUZZTABLE,4 >TBL
	GET TBL,0 >STACK
	ADD TBL,2 >STACK
	INTBL? WORD,STACK,STACK >STACK \?L13
	CALL1 V-WISH
	RTRUE
?L13:	GET BUZZTABLE,5 >TBL
	GET TBL,0 >STACK
	ADD TBL,2 >STACK
	INTBL? WORD,STACK,STACK >STACK \FALSE
	PRINTI "[Adverbs (such as """
	PRINTB WORD
	PRINTI """) aren't needed"
	CALL1 TO-COMPLETE
	RTRUE

	.FUNCT VERB-DIR-ONLY?,WRD
	CALL WT?,WRD,PS?OBJECT >STACK
	ZERO? STACK \FALSE
	CALL WT?,WRD,PS?ADJECTIVE >STACK
	ZERO? STACK \FALSE
	CALL WT?,WRD,PS?DIRECTION >STACK
	ZERO? STACK \TRUE
	CALL WT?,WRD,PS?VERB >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT STUFF,DEST,SRC,MAX=29,PTR=P-LEXSTART,CTR=1,BPTR
	GETB SRC,0 >STACK
	PUTB DEST,0,STACK
	GETB SRC,1 >STACK
	PUTB DEST,1,STACK
?L1:	GET SRC,PTR >STACK
	PUT DEST,PTR,STACK
	MUL PTR,2 >STACK
	ADD STACK,2 >BPTR
	GETB SRC,BPTR >STACK
	PUTB DEST,BPTR,STACK
	MUL PTR,2 >STACK
	ADD STACK,3 >BPTR
	GETB SRC,BPTR >STACK
	PUTB DEST,BPTR,STACK
	ADD PTR,P-LEXELEN >PTR
	IGRTR? 'CTR,MAX \?L1
	RTRUE

	.FUNCT INBUF-STUFF,DEST,SRC,CNT
	GETB SRC,0 >STACK
	SUB STACK,1 >CNT
?L1:	GETB SRC,CNT >STACK
	PUTB DEST,CNT,STACK
	DLESS? 'CNT,0 \?L1
	RTRUE

	.FUNCT INBUF-ADD,LEN,BEG,SLOT,DBEG,CTR=0,TMP,?TMP
	GET OOPS-TABLE,O-END >TMP
	ZERO? TMP /?L1
	SET 'DBEG,TMP
	JUMP ?L3
?L1:	GET OOPS-TABLE,O-LENGTH >TMP
	GETB AGAIN-LEXV,TMP >?TMP
	ADD TMP,1 >STACK
	GETB AGAIN-LEXV,STACK >STACK
	ADD ?TMP,STACK >DBEG
?L3:	ADD DBEG,LEN >STACK
	PUT OOPS-TABLE,O-END,STACK
?L4:	ADD BEG,CTR >STACK
	GETB P-INBUF,STACK >STACK
	ADD DBEG,CTR >STACK
	PUTB OOPS-INBUF,STACK,STACK
	INC 'CTR
	EQUAL? CTR,LEN \?L4
	PUTB AGAIN-LEXV,SLOT,DBEG
	SUB SLOT,1 >STACK
	PUTB AGAIN-LEXV,STACK,LEN
	RTRUE

	.FUNCT NUMBER?,PTR,CNT,BPTR,CHR,SUM=0,TIM=0,DOLLAR=0
	MUL PTR,2 >STACK
	ADD P-LEXV,STACK >STACK
	GETB STACK,2 >CNT
	MUL PTR,2 >STACK
	ADD P-LEXV,STACK >STACK
	GETB STACK,3 >BPTR
?L1:	DLESS? 'CNT,0 /?L2
	GETB P-INBUF,BPTR >CHR
	EQUAL? CHR,58 \?L6
	SET 'TIM,SUM
	SET 'SUM,0
	JUMP ?L12
?L6:	GRTR? SUM,9999 /FALSE
	EQUAL? CHR,CURRENCY-SYMBOL \?L9
	SET 'DOLLAR,1
	JUMP ?L12
?L9:	GRTR? CHR,57 /FALSE
	LESS? CHR,48 /FALSE
	SUB CHR,48 >STACK
	MUL SUM,10 >STACK
	ADD STACK,STACK >SUM
?L12:	INC 'BPTR
	JUMP ?L1
?L2:	CALL CHANGE-LEXV,PTR,W?INTNUM
	GRTR? SUM,9999 /FALSE
	ZERO? TIM /?L15
	GRTR? TIM,23 /FALSE
	MUL TIM,60 >STACK
	ADD SUM,STACK >SUM
?L15:	SET 'P-DOLLAR-FLAG,DOLLAR
	ZERO? DOLLAR /?L20
	GRTR? SUM,0 \?L20
	SET 'P-AMOUNT,SUM
	RETURN W?MONEY
?L20:	SET 'P-NUMBER,SUM
	SET 'P-DOLLAR-FLAG,0
	RETURN W?INTNUM

	.FUNCT ORPHAN-MERGE,CNT=-1,TEMP,VERB,BEG,END,ADJ=0,WRD,?TMP
	SET 'P-OFLAG,0
	GET P-ITBL,P-VERBN >STACK
	GET STACK,0 >WRD
	CALL WT?,WRD,PS?VERB,P1?VERB >?TMP
	GET P-OTBL,P-VERB >STACK
	EQUAL? ?TMP,STACK /?L3
	CALL WT?,WRD,PS?ADJECTIVE >STACK
	ZERO? STACK /?L1
?L3:	SET 'ADJ,1
	JUMP ?L5
?L1:	GET P-ITBL,P-VERBN >STACK
	GET STACK,0 >WRD
	CALL WT?,WRD,PS?ADJECTIVE >STACK
	ZERO? STACK /?L4
	SET 'ADJ,1
	JUMP ?L5
?L4:	CALL WT?,WRD,PS?OBJECT >STACK
	ZERO? STACK /?L5
	ZERO? P-NCN \?L5
	PUT P-ITBL,P-VERB,0
	PUT P-ITBL,P-VERBN,0
	ADD P-LEXV,2 >STACK
	PUT P-ITBL,P-NC1,STACK
	ADD P-LEXV,6 >STACK
	PUT P-ITBL,P-NC1L,STACK
	SET 'P-NCN,1
?L5:	GET P-ITBL,P-VERB >VERB
	ZERO? VERB /?L7
	ZERO? ADJ \?L7
	GET P-OTBL,P-VERB >STACK
	EQUAL? VERB,STACK \FALSE
?L7:	EQUAL? P-NCN,2 /FALSE
	GET P-OTBL,P-NC1 >STACK
	EQUAL? STACK,1 \?L10
	GET P-ITBL,P-PREP1 >TEMP
	GET P-OTBL,P-PREP1 >STACK
	EQUAL? TEMP,STACK /?L13
	ZERO? TEMP \FALSE
?L13:	ZERO? ADJ /?L14
	ADD P-LEXV,2 >STACK
	PUT P-OTBL,P-NC1,STACK
	GET P-ITBL,P-NC1L >STACK
	ZERO? STACK \?L16
	ADD P-LEXV,6 >STACK
	PUT P-ITBL,P-NC1L,STACK
?L16:	ZERO? P-NCN \?L22
	SET 'P-NCN,1
	JUMP ?L22
?L14:	GET P-ITBL,P-NC1 >STACK
	PUT P-OTBL,P-NC1,STACK
?L22:	GET P-ITBL,P-NC1L >STACK
	PUT P-OTBL,P-NC1L,STACK
	JUMP ?L43
?L10:	GET P-OTBL,P-NC2 >STACK
	EQUAL? STACK,1 \?L24
	GET P-ITBL,P-PREP1 >TEMP
	GET P-OTBL,P-PREP2 >STACK
	EQUAL? TEMP,STACK /?L27
	ZERO? TEMP \FALSE
?L27:	ZERO? ADJ /?L30
	ADD P-LEXV,2 >STACK
	PUT P-ITBL,P-NC1,STACK
	GET P-ITBL,P-NC1L >STACK
	ZERO? STACK \?L30
	ADD P-LEXV,6 >STACK
	PUT P-ITBL,P-NC1L,STACK
?L30:	GET P-ITBL,P-NC1 >STACK
	PUT P-OTBL,P-NC2,STACK
	GET P-ITBL,P-NC1L >STACK
	PUT P-OTBL,P-NC2L,STACK
	SET 'P-NCN,2
	JUMP ?L43
?L24:	ZERO? P-ACLAUSE /?L43
	EQUAL? P-NCN,1 /?L36
	ZERO? ADJ \?L36
	SET 'P-ACLAUSE,0
	RFALSE
?L36:	GET P-ITBL,P-NC1 >BEG
	ZERO? ADJ /?L39
	ADD P-LEXV,2 >BEG
	SET 'ADJ,0
?L39:	GET P-ITBL,P-NC1L >END
?L42:	GET BEG,0 >WRD
	EQUAL? BEG,END \?L44
	ZERO? ADJ /?L46
	CALL2 ACLAUSE-WIN,ADJ
	JUMP ?L43
?L46:	SET 'P-ACLAUSE,0
	RFALSE
?L44:	ZERO? ADJ \?L49
	GETB WRD,P-PSOFF >STACK
	BTST STACK,PS?ADJECTIVE /?L50
	EQUAL? WRD,W?ALL,W?EVERYTHING \?L49
?L50:	SET 'ADJ,WRD
	JUMP ?L51
?L49:	GETB WRD,P-PSOFF >STACK
	BTST STACK,PS?OBJECT \?L51
	EQUAL? WRD,P-ANAM \?L52
	CALL2 ACLAUSE-WIN,ADJ
	JUMP ?L43
?L52:	CALL1 NCLAUSE-WIN
	JUMP ?L43
?L51:	ADD BEG,P-WORDLEN >BEG
	ZERO? END \?L42
	SET 'END,BEG
	SET 'P-NCN,1
	SUB BEG,4 >STACK
	PUT P-ITBL,P-NC1,STACK
	PUT P-ITBL,P-NC1L,BEG
	JUMP ?L42
?L43:	GET P-OVTBL,0 >STACK
	PUT P-VTBL,0,STACK
	GETB P-OVTBL,2 >STACK
	PUTB P-VTBL,2,STACK
	GETB P-OVTBL,3 >STACK
	PUTB P-VTBL,3,STACK
	PUT P-OTBL,P-VERBN,P-VTBL
	PUTB P-VTBL,2,0
?L60:	IGRTR? 'CNT,P-ITBLLEN \?L62
	SET 'P-MERGED,1
	RTRUE
?L62:	GET P-OTBL,CNT >STACK
	PUT P-ITBL,CNT,STACK
	JUMP ?L60

	.FUNCT ACLAUSE-WIN,ADJ,X
	GET P-OTBL,P-VERB >STACK
	PUT P-ITBL,P-VERB,STACK
	ADD P-ACLAUSE,1 >X
	XCALL CLAUSE-COPY,P-OTBL,P-OTBL,P-ACLAUSE,X,P-ACLAUSE,X,ADJ
	GET P-OTBL,P-NC2 >STACK
	ZERO? STACK /?L1
	SET 'P-NCN,2
?L1:	SET 'P-ACLAUSE,0
	RTRUE

	.FUNCT NCLAUSE-WIN
	ADD P-ACLAUSE,1 >STACK
	XCALL CLAUSE-COPY,P-ITBL,P-OTBL,P-NC1,P-NC1L,P-ACLAUSE,STACK
	GET P-OTBL,P-NC2 >STACK
	ZERO? STACK /?L1
	SET 'P-NCN,2
?L1:	SET 'P-ACLAUSE,0
	RTRUE

	.FUNCT WORD-PRINT,CNT,BUF
?L1:	DLESS? 'CNT,0 /TRUE
	GETB P-INBUF,BUF >STACK
	PRINTC STACK
	INC 'BUF
	JUMP ?L1

	.FUNCT UNKNOWN-WORD,PTR,BUF,MSG,?TMP
	PUT OOPS-TABLE,O-PTR,PTR
	CALL2 PICK-NEXT,UNKNOWN-MSGS >MSG
	PRINTI "["
	GET MSG,0 >STACK
	PRINT STACK
	MUL PTR,2 >BUF
	ADD P-LEXV,BUF >STACK
	GETB STACK,2 >?TMP
	ADD P-LEXV,BUF >STACK
	GETB STACK,3 >STACK
	CALL WORD-PRINT,?TMP,STACK
	SET 'QUOTE-FLAG,0
	SET 'P-OFLAG,0
	SET 'INLEN,0
	GET MSG,1 >STACK
	PRINT STACK
	PRINTR "]"

	.FUNCT SYNTAX-CHECK,SYN,LEN,NUM,OBJ,DRIVE1=0,DRIVE2=0,PREP,VERB
	GET P-ITBL,P-VERB >VERB
	ZERO? VERB \?L1
	CALL2 NOT-IN-SENTENCE,STR?48
	RFALSE
?L1:	SUB 255,VERB >STACK
	GET VERBS,STACK >SYN
	GETB SYN,0 >LEN
	INC 'SYN
?L4:	GETB SYN,P-SBITS >STACK
	BAND STACK,P-SONUMS >NUM
	GRTR? P-NCN,NUM /?L13
	LESS? NUM,1 /?L8
	ZERO? P-NCN \?L8
	GET P-ITBL,P-PREP1 >PREP
	ZERO? PREP /?L9
	GETB SYN,P-SPREP1 >STACK
	EQUAL? PREP,STACK \?L8
?L9:	SET 'DRIVE1,SYN
	JUMP ?L13
?L8:	GET P-ITBL,P-PREP1 >STACK
	GETB SYN,P-SPREP1 >STACK
	EQUAL? STACK,STACK \?L13
	EQUAL? NUM,2 \?L11
	EQUAL? P-NCN,1 \?L11
	SET 'DRIVE2,SYN
	JUMP ?L13
?L11:	GET P-ITBL,P-PREP2 >STACK
	GETB SYN,P-SPREP2 >STACK
	EQUAL? STACK,STACK \?L13
	CALL2 SYNTAX-FOUND,SYN
	RTRUE
?L13:	DLESS? 'LEN,1 \?L16
	ZERO? DRIVE1 \?L49
	ZERO? DRIVE2 \?L5
	CALL1 DONT-UNDERSTAND
	RFALSE
?L16:	ADD SYN,P-SYNLEN >SYN
	JUMP ?L4
?L5:	ZERO? DRIVE1 /?L23
?L49:	GETB DRIVE1,P-SPREP1 >STACK
	GETB DRIVE1,P-SLOC1 >STACK
	GETB DRIVE1,P-SFWIM1 >STACK
	CALL GWIM,STACK,STACK,STACK >OBJ
	ZERO? OBJ /?L23
	PUT P-PRSO,P-MATCHLEN,1
	PUT P-PRSO,1,OBJ
	CALL2 SYNTAX-FOUND,DRIVE1 >STACK
	RSTACK
?L23:	ZERO? DRIVE2 /?L25
	GETB DRIVE2,P-SPREP2 >STACK
	GETB DRIVE2,P-SLOC2 >STACK
	GETB DRIVE2,P-SFWIM2 >STACK
	CALL GWIM,STACK,STACK,STACK >OBJ
	ZERO? OBJ /?L25
	PUT P-PRSI,P-MATCHLEN,1
	PUT P-PRSI,1,OBJ
	CALL2 SYNTAX-FOUND,DRIVE2 >STACK
	RSTACK
?L25:	EQUAL? VERB,ACT?FIND \?L26
	PRINTI "[RIDX: 8004]"
	CRLF
	RFALSE
?L26:	EQUAL? WINNER,PLAYER \?L28
	CALL ORPHAN,DRIVE1,DRIVE2
	PRINTI "[Wh"
	JUMP ?L30
?L28:	PRINTI "[RIDX: 8006]"
?L30:	EQUAL? VERB,ACT?WALK,ACT?GO \?L31
	PRINTI "ere"
	JUMP ?L36
?L31:	ZERO? DRIVE1 /?L35
	GETB DRIVE1,P-SFWIM1 >STACK
	EQUAL? STACK,PERSON /?L34
?L35:	ZERO? DRIVE2 /?L33
	GETB DRIVE2,P-SFWIM2 >STACK
	EQUAL? STACK,PERSON \?L33
?L34:	PRINTI "om"
	JUMP ?L36
?L33:	PRINTI "at"
?L36:	EQUAL? WINNER,PLAYER \?L37
	PRINTI " do you want to "
	JUMP ?L39
?L37:	PRINTI " you want "
	CALL2 THE-PRINT,WINNER
	PRINTI " to "
?L39:	CALL1 VERB-PRINT
	ZERO? DRIVE2 /?L40
	CALL CLAUSE-PRINT,P-NC1,P-NC1L
?L40:	SET 'P-END-ON-PREP,0
	ZERO? DRIVE1 /?L43
	GETB DRIVE1,P-SPREP1 >STACK
	JUMP ?L45
?L43:	GETB DRIVE2,P-SPREP2 >STACK
?L45:	CALL2 PREP-PRINT,STACK
	EQUAL? WINNER,PLAYER \?L46
	SET 'P-OFLAG,1
	PRINTI "?]"
	CRLF
	RFALSE
?L46:	SET 'P-OFLAG,0
	PRINTI ".]"
	CRLF
	RFALSE

	.FUNCT VERB-PRINT,TMP
	GET P-ITBL,P-VERBN >TMP
	ZERO? TMP \?L1
	PRINTI "tell"
	RTRUE
?L1:	GETB P-VTBL,2 >STACK
	ZERO? STACK \?L3
	GET TMP,0 >STACK
	PRINTB STACK
	RTRUE
?L3:	GETB TMP,3 >STACK
	GETB TMP,2 >STACK
	CALL WORD-PRINT,STACK,STACK
	PUTB P-VTBL,2,0
	RTRUE

	.FUNCT ORPHAN,D1?1,D2?1,CNT=-1
	ZERO? P-MERGED \?L1
	PUT P-OCLAUSE,P-MATCHLEN,0
?L1:	GET P-VTBL,0 >STACK
	PUT P-OVTBL,0,STACK
	GETB P-VTBL,2 >STACK
	PUTB P-OVTBL,2,STACK
	GETB P-VTBL,3 >STACK
	PUTB P-OVTBL,3,STACK
?L4:	IGRTR? 'CNT,P-ITBLLEN /?L5
	GET P-ITBL,CNT >STACK
	PUT P-OTBL,CNT,STACK
	JUMP ?L4
?L5:	EQUAL? P-NCN,2 \?L9
	XCALL CLAUSE-COPY,P-ITBL,P-OTBL,P-NC2,P-NC2L,P-NC2,P-NC2L
?L9:	LESS? P-NCN,1 /?L12
	XCALL CLAUSE-COPY,P-ITBL,P-OTBL,P-NC1,P-NC1L,P-NC1,P-NC1L
?L12:	ZERO? D1?1 /?L15
	GETB D1?1,P-SPREP1 >STACK
	PUT P-OTBL,P-PREP1,STACK
	PUT P-OTBL,P-NC1,1
	RTRUE
?L15:	ZERO? D2?1 /FALSE
	GETB D2?1,P-SPREP2 >STACK
	PUT P-OTBL,P-PREP2,STACK
	PUT P-OTBL,P-NC2,1
	RTRUE

	.FUNCT CLAUSE-PRINT,BPTR,EPTR,THE?=1
	GET P-ITBL,EPTR >STACK
	GET P-ITBL,BPTR >STACK
	CALL BUFFER-PRINT,STACK,STACK,THE? >STACK
	RSTACK

	.FUNCT BUFFER-PRINT,BEG,END,CP,NOSP=0,WRD,FIRST??=1,PN=0
?L1:	EQUAL? BEG,END /TRUE
	ZERO? NOSP /?L6
	SET 'NOSP,0
	JUMP ?L8
?L6:	PRINTI " "
?L8:	GET BEG,0 >WRD
	EQUAL? WRD,W?HIM \?L12
	CALL2 VISIBLE?,P-HIM-OBJECT >STACK
	ZERO? STACK /?L11
?L12:	EQUAL? WRD,W?HER \?L13
	CALL2 VISIBLE?,P-HER-OBJECT >STACK
	ZERO? STACK /?L11
?L13:	EQUAL? WRD,W?THEM \?L9
	CALL2 VISIBLE?,P-THEM-OBJECT >STACK
	ZERO? STACK \?L9
?L11:	SET 'PN,1
?L9:	EQUAL? WRD,W?$PERIOD \?L15
	SET 'NOSP,1
	JUMP ?L21
?L15:	CALL WT?,WRD,PS?BUZZ-WORD >STACK
	ZERO? STACK \?L18
	CALL WT?,WRD,PS?PREPOSITION >STACK
	ZERO? STACK /?L17
?L18:	CALL WT?,WRD,PS?ADJECTIVE >STACK
	ZERO? STACK \?L17
	CALL WT?,WRD,PS?OBJECT >STACK
	ZERO? STACK \?L17
	SET 'NOSP,1
	JUMP ?L21
?L17:	EQUAL? WRD,W?ME \?L19
	PRINTD PLAYER
	SET 'PN,1
	JUMP ?L21
?L19:	INTBL? WRD,CAPS,NUMCAPS >STACK \?L20
	CALL2 CAPITALIZE,BEG
	SET 'PN,1
	JUMP ?L21
?L20:	ZERO? FIRST?? /?L22
	ZERO? PN \?L22
	ZERO? CP /?L22
	PRINTI "the "
?L22:	ZERO? P-OFLAG \?L27
	ZERO? P-MERGED /?L25
?L27:	PRINTB WRD
	JUMP ?L32
?L25:	EQUAL? WRD,W?IT \?L28
	CALL2 VISIBLE?,P-IT-OBJECT >STACK
	ZERO? STACK /?L28
	PRINTD P-IT-OBJECT
	JUMP ?L32
?L28:	EQUAL? WRD,W?HER \?L29
	ZERO? PN \?L29
	PRINTD P-HER-OBJECT
	JUMP ?L32
?L29:	EQUAL? WRD,W?THEM \?L30
	ZERO? PN \?L30
	PRINTD P-THEM-OBJECT
	JUMP ?L32
?L30:	EQUAL? WRD,W?HIM \?L31
	ZERO? PN \?L31
	PRINTD P-HIM-OBJECT
	JUMP ?L32
?L31:	GETB BEG,3 >STACK
	GETB BEG,2 >STACK
	CALL WORD-PRINT,STACK,STACK
?L32:	SET 'FIRST??,0
?L21:	ADD BEG,P-WORDLEN >BEG
	JUMP ?L1

	.FUNCT CAPITALIZE,PTR
	ZERO? P-OFLAG \?L3
	ZERO? P-MERGED /?L1
?L3:	GET PTR,0 >STACK
	PRINTB STACK
	RTRUE
?L1:	GETB PTR,3 >STACK
	GETB P-INBUF,STACK >STACK
	SUB STACK,32 >STACK
	PRINTC STACK
	GETB PTR,3 >STACK
	INC 'STACK
	GETB PTR,2 >STACK
	DEC 'STACK
	CALL WORD-PRINT,STACK,STACK >STACK
	RSTACK

	.FUNCT PREP-PRINT,PREP,SP?=1,WRD
	ZERO? PREP /FALSE
	ZERO? P-END-ON-PREP \FALSE
	ZERO? SP? /?L3
	PRINTI " "
?L3:	CALL2 PREP-FIND,PREP >WRD
	PRINTB WRD
	GET P-ITBL,P-VERBN >STACK
	GET STACK,0 >STACK
	EQUAL? W?SIT,STACK \?L6
	EQUAL? W?DOWN,WRD \?L6
	PRINTI " on"
?L6:	GET P-ITBL,P-VERBN >STACK
	GET STACK,0 >STACK
	EQUAL? W?GET,STACK \TRUE
	EQUAL? W?OUT,WRD \TRUE
	PRINTI " of"
	RTRUE

	.FUNCT CLAUSE-COPY,SRC,DEST,SRCBEG,SRCEND,DESTBEG,DESTEND,INSRT=0,BEG,END
	GET SRC,SRCBEG >BEG
	GET SRC,SRCEND >END
	GET P-OCLAUSE,P-MATCHLEN >STACK
	MUL STACK,P-LEXELEN >STACK
	ADD STACK,2 >STACK
	ADD P-OCLAUSE,STACK >STACK
	PUT DEST,DESTBEG,STACK
?L1:	EQUAL? BEG,END \?L3
	GET P-OCLAUSE,P-MATCHLEN >STACK
	MUL STACK,P-LEXELEN >STACK
	ADD 2,STACK >STACK
	ADD P-OCLAUSE,STACK >STACK
	PUT DEST,DESTEND,STACK
	RTRUE
?L3:	ZERO? INSRT /?L6
	GET BEG,0 >STACK
	EQUAL? P-ANAM,STACK \?L6
	CALL2 CLAUSE-ADD,INSRT
?L6:	GET BEG,0 >STACK
	CALL2 CLAUSE-ADD,STACK
	ADD BEG,P-WORDLEN >BEG
	JUMP ?L1

	.FUNCT CLAUSE-ADD,WRD,PTR
	GET P-OCLAUSE,P-MATCHLEN >STACK
	ADD STACK,2 >PTR
	SUB PTR,1 >STACK
	PUT P-OCLAUSE,STACK,WRD
	PUT P-OCLAUSE,PTR,0
	PUT P-OCLAUSE,P-MATCHLEN,PTR
	RTRUE

	.FUNCT PREP-FIND,PREP,CNT=0,SIZE
	GET PREPOSITIONS,0 >STACK
	MUL STACK,2 >SIZE
?L1:	IGRTR? 'CNT,SIZE /FALSE
	GET PREPOSITIONS,CNT >STACK
	EQUAL? STACK,PREP \?L1
	SUB CNT,1 >STACK
	GET PREPOSITIONS,STACK >STACK
	RSTACK

	.FUNCT SYNTAX-FOUND,SYN
	SET 'P-SYNTAX,SYN
	GETB SYN,P-SACTION >PRSA
	RETURN PRSA

	.FUNCT GWIM,GBIT,LBIT,PREP,OBJ
	EQUAL? GBIT,LOCATION \?L1
	RETURN ROOMS
?L1:	ZERO? P-IT-OBJECT /?L3
	FSET? P-IT-OBJECT,GBIT \?L3
	PRINTI "["
	CALL2 THE-PRINT,P-IT-OBJECT
	PRINT BRACKET
	RETURN P-IT-OBJECT
?L3:	SET 'P-GWIMBIT,GBIT
	SET 'P-SLOCBITS,LBIT
	PUT P-MERGE,P-MATCHLEN,0
	CALL GET-OBJECT,P-MERGE,0 >STACK
	ZERO? STACK /?L5
	SET 'P-GWIMBIT,0
	GET P-MERGE,P-MATCHLEN >STACK
	EQUAL? STACK,1 \FALSE
	GET P-MERGE,1 >OBJ
	EQUAL? WINNER,PLAYER \?L9
	EQUAL? OBJ,HANDS,SYMBOLS /?L9
	PRINTI "["
	CALL PREP-PRINT,PREP,0 >STACK
	ZERO? STACK /?L11
	PRINTC 32
?L11:	EQUAL? OBJ,BAG \?L14
	CALL1 SAID-CRUMBS? >STACK
	ZERO? STACK /?L14
	PRINTI "the crumbs"
	JUMP ?L16
?L14:	CALL2 THE-PRINT,OBJ
?L16:	PRINT BRACKET
?L9:	RETURN OBJ
?L5:	SET 'P-GWIMBIT,0
	RFALSE

	.FUNCT SNARF-OBJECTS,PTR
	GET P-ITBL,P-NC1 >PTR
	ZERO? PTR /?L5
	SET 'P-PHR,0
	GETB P-SYNTAX,P-SLOC1 >P-SLOCBITS
	GET P-ITBL,P-NC1L >STACK
	CALL SNARFEM,PTR,STACK,P-PRSO >STACK
	ZERO? STACK /FALSE
	GET P-BUTS,P-MATCHLEN >STACK
	ZERO? STACK /?L5
	CALL2 BUT-MERGE,P-PRSO >P-PRSO
?L5:	GET P-ITBL,P-NC2 >PTR
	ZERO? PTR /TRUE
	SET 'P-PHR,1
	GETB P-SYNTAX,P-SLOC2 >P-SLOCBITS
	GET P-ITBL,P-NC2L >STACK
	CALL SNARFEM,PTR,STACK,P-PRSI >STACK
	ZERO? STACK /FALSE
	GET P-BUTS,P-MATCHLEN >STACK
	ZERO? STACK /TRUE
	GET P-PRSI,P-MATCHLEN >STACK
	EQUAL? STACK,1 \?L14
	CALL2 BUT-MERGE,P-PRSO >P-PRSO
	RTRUE
?L14:	CALL2 BUT-MERGE,P-PRSI >P-PRSI
	RTRUE

	.FUNCT BUT-MERGE,TBL,LEN,BUTLEN,CNT=1,MATCHES=0,OBJ,NTBL
	GET TBL,P-MATCHLEN >LEN
	PUT P-MERGE,P-MATCHLEN,0
?L1:	DLESS? 'LEN,0 /?L2
	GET TBL,CNT >OBJ
	GET P-BUTS,0 >STACK
	ADD P-BUTS,2 >STACK
	INTBL? OBJ,STACK,STACK >STACK /?L8
	ADD MATCHES,1 >STACK
	PUT P-MERGE,STACK,OBJ
	INC 'MATCHES
?L8:	INC 'CNT
	JUMP ?L1
?L2:	PUT P-MERGE,P-MATCHLEN,MATCHES
	SET 'NTBL,P-MERGE
	SET 'P-MERGE,TBL
	RETURN NTBL

	.FUNCT SNARFEM,PTR,EPTR,TBL,BUT=0,LEN,WV,WRD,NW,WAS-ALL?=0,ONEOBJ
	SET 'P-AND,0
	EQUAL? P-GETFLAGS,P-ALL \?L1
	SET 'WAS-ALL?,1
?L1:	SET 'P-GETFLAGS,0
	PUT P-BUTS,P-MATCHLEN,0
	PUT TBL,P-MATCHLEN,0
	GET PTR,0 >WRD
?L4:	EQUAL? PTR,EPTR \?L6
?L58:	ZERO? BUT /?L9
	PUSH BUT
	JUMP ?L8
?L9:	PUSH TBL
?L8:	CALL2 GET-OBJECT,STACK >WV
	ZERO? WAS-ALL? /?L10
	SET 'P-GETFLAGS,P-ALL
?L10:	RETURN WV
?L6:	ADD PTR,P-WORDLEN >STACK
	EQUAL? EPTR,STACK \?L14
	SET 'NW,0
	JUMP ?L16
?L14:	GET PTR,P-LEXELEN >NW
?L16:	EQUAL? WRD,W?ALL,W?BOTH,W?EVERYTHING \?L17
	SET 'P-GETFLAGS,P-ALL
	EQUAL? NW,W?OF \?L53
	ADD PTR,P-WORDLEN >PTR
	JUMP ?L53
?L17:	EQUAL? WRD,W?BUT,W?EXCEPT \?L22
	ZERO? BUT /?L26
	PUSH BUT
	JUMP ?L25
?L26:	PUSH TBL
?L25:	CALL2 GET-OBJECT,STACK >STACK
	ZERO? STACK /FALSE
	SET 'BUT,P-BUTS
	PUT BUT,P-MATCHLEN,0
	JUMP ?L53
?L22:	CALL2 BUZZER-WORD?,WRD >STACK
	ZERO? STACK \FALSE
	EQUAL? WRD,W?A \?L28
	ZERO? P-ADJ \?L29
	SET 'P-GETFLAGS,P-ONE
	EQUAL? NW,W?OF \?L53
	ADD PTR,P-WORDLEN >PTR
	JUMP ?L53
?L29:	SET 'P-NAM,ONEOBJ
	ZERO? BUT /?L38
	PUSH BUT
	JUMP ?L37
?L38:	PUSH TBL
?L37:	CALL2 GET-OBJECT,STACK >STACK
	ZERO? STACK /FALSE
	ZERO? NW /TRUE
	JUMP ?L53
?L28:	EQUAL? WRD,W?AND,W?$COMMA \?L41
	EQUAL? NW,W?AND,W?$COMMA /?L41
	SET 'P-AND,1
	ZERO? BUT /?L45
	PUSH BUT
	JUMP ?L44
?L45:	PUSH TBL
?L44:	CALL2 GET-OBJECT,STACK >STACK
	ZERO? STACK /FALSE
	JUMP ?L53
?L41:	CALL WT?,WRD,PS?BUZZ-WORD >STACK
	ZERO? STACK \?L53
	EQUAL? WRD,W?AND,W?$COMMA /?L53
	EQUAL? WRD,W?OF \?L48
	ZERO? P-GETFLAGS \?L53
	SET 'P-GETFLAGS,P-INHIBIT
	JUMP ?L53
?L48:	CALL WT?,WRD,PS?ADJECTIVE >STACK
	ZERO? STACK /?L52
	ZERO? P-ADJ \?L52
	EQUAL? NW,W?OF /?L52
	SET 'P-ADJ,WRD
	JUMP ?L53
?L52:	CALL WT?,WRD,PS?OBJECT >STACK
	ZERO? STACK /?L53
	SET 'P-NAM,WRD
	SET 'ONEOBJ,WRD
?L53:	EQUAL? PTR,EPTR /?L58
	ADD PTR,P-WORDLEN >PTR
	SET 'WRD,NW
	JUMP ?L4

	.FUNCT GET-OBJECT,TBL,VRB=1,BTS,LEN,XBITS,TLEN,GCHECK=0,OLEN=0,OBJ,ADJ,X
	SET 'XBITS,P-SLOCBITS
	GET TBL,P-MATCHLEN >TLEN
	BTST P-GETFLAGS,P-INHIBIT /TRUE
	SET 'ADJ,P-ADJ
	ZERO? P-NAM \?L11
	ZERO? P-ADJ /?L8
	CALL WT?,P-ADJ,PS?OBJECT >STACK
	ZERO? STACK /?L6
	SET 'P-NAM,P-ADJ
	SET 'P-ADJ,0
	JUMP ?L8
?L6:	CALL WT?,P-ADJ,PS?DIRECTION,P1?DIRECTION >BTS
	ZERO? BTS /?L8
	SET 'P-ADJ,0
	PUT TBL,P-MATCHLEN,1
	PUT TBL,1,INTDIR
	SET 'P-DIRECTION,BTS
	RTRUE
?L8:	ZERO? P-NAM \?L11
	ZERO? P-ADJ \?L11
	EQUAL? P-GETFLAGS,P-ALL /?L68
	ZERO? P-GWIMBIT \?L11
	ZERO? VRB /FALSE
	CALL2 NOT-IN-SENTENCE,STR?49
	RFALSE
?L11:	EQUAL? P-GETFLAGS,P-ALL \?L19
?L68:	ZERO? P-SLOCBITS \?L17
?L19:	SET 'P-SLOCBITS,-1
?L17:	SET 'P-TABLE,TBL
?L21:	ZERO? GCHECK /?L23
	CALL2 GLOBAL-CHECK,TBL
	JUMP ?L25
?L23:	ZERO? LIT? /?L26
	FCLEAR PLAYER,TRANSPARENT
	CALL DO-SL,HERE,SOG,SIR
	FSET PLAYER,TRANSPARENT
?L26:	CALL DO-SL,PLAYER,SH,SC
?L25:	GET TBL,P-MATCHLEN >STACK
	SUB STACK,TLEN >LEN
	BTST P-GETFLAGS,P-ALL /?L63
	BTST P-GETFLAGS,P-ONE \?L31
	ZERO? LEN /?L31
	EQUAL? LEN,1 /?L32
	RANDOM LEN >STACK
	GET TBL,STACK >STACK
	PUT TBL,1,STACK
	PRINTI "[How about "
	GET TBL,1 >STACK
	CALL2 THE-PRINT,STACK
	PRINTI "?]"
	CRLF
?L32:	PUT TBL,P-MATCHLEN,1
	JUMP ?L63
?L31:	GRTR? LEN,1 /?L36
	ZERO? LEN \?L63
	EQUAL? P-SLOCBITS,-1 /?L35
?L36:	EQUAL? P-SLOCBITS,-1 \?L37
	SET 'P-SLOCBITS,XBITS
	SET 'OLEN,LEN
	GET TBL,P-MATCHLEN >STACK
	SUB STACK,LEN >STACK
	PUT TBL,P-MATCHLEN,STACK
	JUMP ?L21
?L37:	PUT P-NAMW,P-PHR,P-NAM
	PUT P-ADJW,P-PHR,P-ADJ
	ZERO? LEN \?L40
	SET 'LEN,OLEN
?L40:	ZERO? P-NAM /?L43
	ADD TLEN,1 >STACK
	GET TBL,STACK >OBJ
	ZERO? OBJ /?L43
	GETP OBJ,P?GENERIC >STACK
	CALL2 STACK,TBL >OBJ
	ZERO? OBJ /?L43
	EQUAL? OBJ,NOT-HERE-OBJECT /FALSE
	PUT TBL,1,OBJ
	PUT TBL,P-MATCHLEN,1
	SET 'P-NAM,0
	SET 'P-ADJ,0
	RTRUE
?L43:	ZERO? VRB /?L53
	EQUAL? WINNER,PLAYER /?L48
	CALL1 DONT-UNDERSTAND
	RFALSE
?L48:	ZERO? VRB /?L53
	ZERO? P-NAM /?L49
	CALL WHICH-PRINT,TLEN,LEN,TBL
	EQUAL? TBL,P-PRSO \?L50
	SET 'P-ACLAUSE,P-NC1
	JUMP ?L52
?L50:	SET 'P-ACLAUSE,P-NC2
?L52:	SET 'P-AADJ,P-ADJ
	SET 'P-ANAM,P-NAM
	CALL ORPHAN,0,0
	SET 'P-OFLAG,1
	JUMP ?L53
?L49:	ZERO? VRB /?L53
	CALL2 NOT-IN-SENTENCE,STR?49
?L53:	SET 'P-NAM,0
	SET 'P-ADJ,0
	RFALSE
?L35:	ZERO? LEN \?L63
	ZERO? GCHECK /?L55
	PUT P-NAMW,P-PHR,P-NAM
	PUT P-ADJW,P-PHR,P-ADJ
	ZERO? VRB /?L61
	SET 'P-SLOCBITS,XBITS
	ZERO? LIT? \?L60
	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L58
?L60:	CALL OBJ-FOUND,NOT-HERE-OBJECT,TBL
	SET 'P-XNAM,P-NAM
	SET 'P-NAM,0
	SET 'P-XADJ,P-ADJ
	SET 'P-ADJ,0
	RTRUE
?L58:	CALL1 TOO-DARK
?L61:	SET 'P-NAM,0
	SET 'P-ADJ,0
	RFALSE
?L55:	ZERO? LEN \?L63
	SET 'GCHECK,1
	JUMP ?L21
?L63:	ADD TLEN,1 >STACK
	GET TBL,STACK >X
	ZERO? P-ADJ /?L65
	ZERO? P-NAM \?L65
	ZERO? X /?L65
	PRINTI "["
	CALL2 THE-PRINT,X
	PRINT BRACKET
?L65:	SET 'P-SLOCBITS,XBITS
	PUT P-NAMW,P-PHR,P-NAM
	PUT P-ADJW,P-PHR,P-ADJ
	SET 'P-NAM,0
	SET 'P-ADJ,0
	RTRUE

	.FUNCT MOBY-FIND,TBL,OBJ=1,LEN,FOO,NAM,ADJ
	SET 'NAM,P-NAM
	SET 'ADJ,P-ADJ
	SET 'P-NAM,P-XNAM
	SET 'P-ADJ,P-XADJ
	PUT TBL,P-MATCHLEN,0
?L1:	IN? OBJ,ROOMS /?L5
	CALL2 THIS-IT?,OBJ >FOO
	ZERO? FOO /?L5
	CALL OBJ-FOUND,OBJ,TBL >FOO
?L5:	IGRTR? 'OBJ,LAST-OBJECT \?L1
	GET TBL,P-MATCHLEN >LEN
	EQUAL? LEN,1 \?L11
	GET TBL,1 >P-MOBY-FOUND
?L11:	SET 'P-NAM,NAM
	SET 'P-ADJ,ADJ
	RETURN LEN

	.FUNCT WHICH-PRINT,TLEN,LEN,TBL,OBJ,RLEN
	SET 'RLEN,LEN
	PRINTI "Which"
	ZERO? P-OFLAG \?L3
	ZERO? P-MERGED \?L3
	ZERO? P-AND /?L1
?L3:	PRINTI " "
	PRINTB P-NAM
	JUMP ?L5
?L1:	EQUAL? TBL,P-PRSO \?L4
	CALL CLAUSE-PRINT,P-NC1,P-NC1L,0
	JUMP ?L5
?L4:	CALL CLAUSE-PRINT,P-NC2,P-NC2L,0
?L5:	PRINTI " do you mean,"
?L6:	INC 'TLEN
	GET TBL,TLEN >OBJ
	PRINTI " "
	CALL2 THE-PRINT,OBJ
	EQUAL? LEN,2 \?L8
	EQUAL? RLEN,2 /?L10
	PRINTI ","
?L10:	PRINTI " or"
	JUMP ?L13
?L8:	GRTR? LEN,2 \?L13
	PRINTI ","
?L13:	DLESS? 'LEN,1 \?L6
	PRINTR "?"

	.FUNCT GLOBAL-CHECK,TBL,LEN,RMG,RMGL,CNT=0,OBJ,OBITS,FOO
	GET TBL,P-MATCHLEN >LEN
	SET 'OBITS,P-SLOCBITS
	GETPT HERE,P?GLOBAL >RMG
	ZERO? RMG /?L4
	PTSIZE RMG >STACK
	DIV STACK,2 >STACK
	SUB STACK,1 >RMGL
?L3:	GET RMG,CNT >OBJ
	FIRST? OBJ >STACK \?L5
	CALL SEARCH-LIST,OBJ,TBL,P-SRCALL
?L5:	CALL2 THIS-IT?,OBJ >STACK
	ZERO? STACK /?L8
	CALL OBJ-FOUND,OBJ,TBL
?L8:	IGRTR? 'CNT,RMGL \?L3
?L4:	GET TBL,P-MATCHLEN >STACK
	EQUAL? STACK,LEN \FALSE
	SET 'P-SLOCBITS,-1
	SET 'P-TABLE,TBL
	CALL DO-SL,GLOBAL-OBJECTS,1,1
	SET 'P-SLOCBITS,OBITS
	GET TBL,P-MATCHLEN >STACK
	ZERO? STACK \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L21
	EQUAL? PRSA,V?FIND,V?FOLLOW,V?LEAVE /?L21
	EQUAL? PRSA,V?SEARCH,V?SMELL,V?WALK-TO /?L21
	EQUAL? PRSA,V?THROUGH,V?WAIT-FOR \FALSE
?L21:	CALL DO-SL,ROOMS,1,1 >STACK
	RSTACK

	.FUNCT DO-SL,OBJ,BIT1,BIT2,BITS
	ADD BIT1,BIT2 >STACK
	BTST P-SLOCBITS,STACK \?L1
	CALL SEARCH-LIST,OBJ,P-TABLE,P-SRCALL >STACK
	RSTACK
?L1:	BTST P-SLOCBITS,BIT1 \?L4
	CALL SEARCH-LIST,OBJ,P-TABLE,P-SRCTOP >STACK
	RSTACK
?L4:	BTST P-SLOCBITS,BIT2 \TRUE
	CALL SEARCH-LIST,OBJ,P-TABLE,P-SRCBOT >STACK
	RSTACK

	.FUNCT SEARCH-LIST,OBJ,TBL,LVL
	FIRST? OBJ >OBJ \FALSE
?L4:	EQUAL? LVL,P-SRCBOT /?L6
	GETPT OBJ,P?SYNONYM >STACK
	ZERO? STACK /?L6
	CALL2 THIS-IT?,OBJ >STACK
	ZERO? STACK /?L6
	CALL OBJ-FOUND,OBJ,TBL
?L6:	EQUAL? LVL,P-SRCTOP \?L11
	FSET? OBJ,SURFACE /?L11
	FSET? OBJ,PERSON \?L9
?L11:	FIRST? OBJ >STACK \?L9
	CALL2 SEE-INSIDE?,OBJ >STACK
	ZERO? STACK /?L9
	FSET? OBJ,SURFACE /?L14
	FSET? OBJ,PERSON \?L12
?L14:	PUSH P-SRCALL
	JUMP ?L15
?L12:	PUSH P-SRCTOP
?L15:	CALL SEARCH-LIST,OBJ,TBL,STACK
?L9:	NEXT? OBJ >OBJ /?L4
	RTRUE

	.FUNCT THIS-IT?,OBJ,SYNS
	ZERO? P-NAM /?L1
	GETPT OBJ,P?SYNONYM >SYNS
	ZERO? SYNS /FALSE
	PTSIZE SYNS >STACK
	DIV STACK,2 >STACK
	INTBL? P-NAM,SYNS,STACK >STACK \FALSE
?L1:	ZERO? P-ADJ /?L4
	GETPT OBJ,P?ADJECTIVE >SYNS
	ZERO? SYNS /FALSE
	PTSIZE SYNS >STACK
	DIV STACK,2 >STACK
	INTBL? P-ADJ,SYNS,STACK >STACK \FALSE
?L4:	ZERO? P-GWIMBIT /TRUE
	FSET? OBJ,P-GWIMBIT /TRUE
	RFALSE

	.FUNCT OBJ-FOUND,OBJ,TBL,PTR
	GET TBL,P-MATCHLEN >PTR
	ADD PTR,1 >STACK
	PUT TBL,STACK,OBJ
	ADD PTR,1 >STACK
	PUT TBL,P-MATCHLEN,STACK
	RTRUE

	.FUNCT ITAKE-CHECK,TBL,BITS,PTR=1,LEN,OBJ,L,GOT
	GET TBL,P-MATCHLEN >LEN
	ZERO? LEN /TRUE
	BTST BITS,SHAVE /?L4
	BTST BITS,STAKE \TRUE
?L4:	GET TBL,PTR >OBJ
	EQUAL? OBJ,IT \?L7
	CALL2 ACCESSIBLE?,P-IT-OBJECT >STACK
	ZERO? STACK \?L9
	CALL1 MORE-SPECIFIC
	RFALSE
?L9:	SET 'OBJ,P-IT-OBJECT
	JUMP ?L20
?L7:	EQUAL? OBJ,THEM \?L12
	CALL2 ACCESSIBLE?,P-THEM-OBJECT >STACK
	ZERO? STACK \?L13
	CALL1 MORE-SPECIFIC
	RFALSE
?L13:	SET 'OBJ,P-THEM-OBJECT
	JUMP ?L20
?L12:	EQUAL? OBJ,HER \?L16
	CALL2 ACCESSIBLE?,P-HER-OBJECT >STACK
	ZERO? STACK \?L17
	CALL1 MORE-SPECIFIC
	RFALSE
?L17:	SET 'OBJ,P-HER-OBJECT
	JUMP ?L20
?L16:	EQUAL? OBJ,HIM \?L20
	CALL2 ACCESSIBLE?,P-HIM-OBJECT >STACK
	ZERO? STACK \?L21
	CALL1 MORE-SPECIFIC
	RFALSE
?L21:	SET 'OBJ,P-HIM-OBJECT
?L20:	EQUAL? OBJ,POCKET,HANDS,FEET /?L47
	EQUAL? OBJ,ME,YOU,ROOMS /?L47
	EQUAL? OBJ,INTDIR,RIGHT,LEFT /?L47
	CALL2 HELD?,OBJ >STACK
	ZERO? STACK \?L47
	SET 'PRSO,OBJ
	LOC OBJ >L
	ZERO? L \?L27
	SET 'GOT,0
	JUMP ?L33
?L27:	FSET? OBJ,TRYTAKE \?L29
	FSET? OBJ,TAKEABLE /?L29
	SET 'GOT,0
	JUMP ?L33
?L29:	EQUAL? WINNER,PLAYER /?L30
	SET 'GOT,0
	JUMP ?L33
?L30:	IN? L,WINNER \?L31
	ZERO? P-MULT? \?L31
	BTST BITS,STAKE \?L31
	CALL2 ITAKE,0 >STACK
	ZERO? STACK /?L31
	SET 'GOT,1
	JUMP ?L33
?L31:	EQUAL? L,WINNER \?L32
	BTST BITS,SHAVE \?L32
	SET 'GOT,1
	JUMP ?L33
?L32:	SET 'GOT,0
?L33:	ZERO? GOT \?L61
	EQUAL? L,POCKET /?L34
	BTST BITS,SHAVE \?L34
	CALL1 WINNER-NOT-HOLDING
	EQUAL? LEN,PTR \?L36
	ZERO? P-MULT? /?L36
	PRINTI "all of those things"
	JUMP ?L39
?L36:	EQUAL? OBJ,NOT-HERE-OBJECT \?L38
	SET 'P-IT-OBJECT,OBJ
	PRINTD OBJ
	JUMP ?L39
?L38:	CALL2 THIS-IS-IT,OBJ
	FSET? OBJ,PLURAL \?L40
	PRINTI "any "
	JUMP ?L45
?L40:	FSET? OBJ,NOARTICLE /?L45
	FSET? OBJ,VOWEL \?L43
	PRINTI "an "
	JUMP ?L45
?L43:	PRINTI "a "
?L45:	PRINTD OBJ
?L39:	PRINT PERIOD
	RFALSE
?L34:	ZERO? GOT /?L47
?L61:	BTST BITS,STAKE \?L47
	EQUAL? WINNER,PLAYER \?L47
	PRINTI "[taking "
	CALL2 THE-PRINT,OBJ
	ZERO? L /?L48
	FSET? L,CONTAINER \?L50
	PRINTI " out of "
	JUMP ?L53
?L50:	FSET? L,SURFACE \?L52
	PRINTI " off "
	JUMP ?L53
?L52:	PRINTI " from "
?L53:	CALL2 THE-PRINT,L
?L48:	PRINTI " first"
	PRINT BRACKET
?L47:	IGRTR? 'PTR,LEN \?L4
	RTRUE

	.FUNCT MANY-CHECK,LOSS=0,TMP
	GET P-PRSO,P-MATCHLEN >STACK
	GRTR? STACK,1 \?L1
	GETB P-SYNTAX,P-SLOC1 >STACK
	BTST STACK,SMANY /?L1
	SET 'LOSS,1
	JUMP ?L3
?L1:	GET P-PRSI,P-MATCHLEN >STACK
	GRTR? STACK,1 \?L3
	GETB P-SYNTAX,P-SLOC2 >STACK
	BTST STACK,SMANY /?L3
	SET 'LOSS,2
?L3:	ZERO? LOSS /TRUE
	PRINTI "["
	PRINT CANT
	PRINTI "[RIDX: 8135]"
	GET P-ITBL,P-VERBN >TMP
	ZERO? TMP \?L7
	PRINTI "tell"
	JUMP ?L11
?L7:	ZERO? P-OFLAG \?L10
	ZERO? P-MERGED /?L9
?L10:	GET TMP,0 >STACK
	PRINTB STACK
	JUMP ?L11
?L9:	GETB TMP,3 >STACK
	GETB TMP,2 >STACK
	CALL WORD-PRINT,STACK,STACK
?L11:	PRINTI ".""]"
	CRLF
	RFALSE

	.FUNCT SAY-IF-HERE-LIT
	CALL1 IS-LIT? >LIT?
	ZERO? LIT? \TRUE
	SET 'OLD-HERE,0
	CRLF
	CALL1 V-LOOK
	RTRUE

	.FUNCT IS-LIT?,RM=0,RMBIT=1,OHERE,LIT=0
	ZERO? ALWAYS-LIT? /?L1
	EQUAL? WINNER,PLAYER /TRUE
?L1:	ZERO? RM \?L3
	SET 'RM,HERE
?L3:	SET 'P-GWIMBIT,LIGHTED
	SET 'OHERE,HERE
	SET 'HERE,RM
	ZERO? RMBIT /?L5
	FSET? RM,LIGHTED \?L5
	SET 'LIT,1
	JUMP ?L14
?L5:	PUT P-MERGE,P-MATCHLEN,0
	SET 'P-TABLE,P-MERGE
	SET 'P-SLOCBITS,-1
	EQUAL? OHERE,RM \?L10
	CALL DO-SL,WINNER,1,1
	EQUAL? WINNER,PLAYER /?L10
	IN? PLAYER,RM \?L10
	CALL DO-SL,PLAYER,1,1
?L10:	CALL DO-SL,RM,1,1
	GET P-TABLE,P-MATCHLEN >STACK
	GRTR? STACK,0 \?L14
	SET 'LIT,1
?L14:	SET 'HERE,OHERE
	SET 'P-GWIMBIT,0
	RETURN LIT

	.FUNCT PICK-NEXT,TBL,CNT,STR
	GET TBL,1 >CNT
	GET TBL,CNT >STR
	INC 'CNT
	GET TBL,0 >STACK
	GRTR? CNT,STACK \?L1
	SET 'CNT,2
?L1:	PUT TBL,1,CNT
	RETURN STR

	.FUNCT DONT-HAVE?,OBJ,L,O
	LOC OBJ >L
	ZERO? L /?L10
	EQUAL? L,WINNER /FALSE
	IN? L,PLAYER \?L10
	EQUAL? WINNER,PLAYER \?L10
	SET 'O,PRSO
	SET 'PRSO,OBJ
	CALL2 ITAKE,0 >STACK
	ZERO? STACK /?L5
	PRINTI "[taking "
	CALL1 THE-PRINT
	FSET? L,CONTAINER \?L7
	PRINTI " out of "
	JUMP ?L9
?L7:	PRINTI " off "
?L9:	CALL2 THE-PRINT,L
	PRINTI " first"
	PRINT BRACKET
	SET 'PRSO,O
	CALL2 THIS-IS-IT,PRSO
	RFALSE
?L5:	SET 'PRSO,O
	PRINTI "You'd have to take "
	CALL2 THE-PRINT,OBJ
	PRINTC 32
	FSET? L,SURFACE \?L11
	PRINTI "off"
	JUMP ?L13
?L11:	PRINTI "out"
?L13:	PRINTI " of "
	CALL2 THE-PRINT,L
	PRINTR " first."
?L10:	CALL1 WINNER-NOT-HOLDING
	ZERO? OBJ /?L15
	FSET? OBJ,PLURAL \?L17
	PRINTI "any "
?L17:	CALL2 THE-PRINT,OBJ
	JUMP ?L20
?L15:	PRINTD NOT-HERE-OBJECT
?L20:	PRINT PERIOD
	RTRUE

	.FUNCT WINNER-NOT-HOLDING
	EQUAL? WINNER,PLAYER \?L1
	PRINTI "You're not holding "
	RTRUE
?L1:	CALL2 CTHE-PRINT,WINNER
	PRINTI " do"
	FSET? WINNER,PLURAL /?L4
	PRINTI "es"
?L4:	PRINTI "n't have "
	RTRUE

	.FUNCT GETTING-INTO?
	CALL1 ENTERING? >STACK
	ZERO? STACK \TRUE
	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-UP,V?CLIMB-OVER /TRUE
	EQUAL? PRSA,V?CROSS,V?STAND-ON,V?SIT /TRUE
	EQUAL? PRSA,V?LIE-DOWN,V?CLIMB-DOWN \FALSE
	RTRUE

	.FUNCT ENTERING?
	EQUAL? PRSA,V?WALK-TO,V?ENTER,V?THROUGH /TRUE
	EQUAL? PRSA,V?FOLLOW,V?LEAP,V?USE \FALSE
	RTRUE

	.FUNCT EXITING?
	EQUAL? PRSA,V?EXIT,V?LEAVE,V?TAKE-OFF /TRUE
	EQUAL? PRSA,V?ESCAPE \FALSE
	RTRUE

	.FUNCT ANYONE-HERE?,OBJ
	CALL1 QCONTEXT-GOOD? >STACK
	ZERO? STACK /?L1
	RETURN QCONTEXT
?L1:	FIRST? HERE >OBJ \FALSE
?L7:	FSET? OBJ,PERSON \?L9
	FSET? OBJ,PLURAL /?L9
	EQUAL? OBJ,PLAYER,WINNER /?L9
	RETURN OBJ
?L9:	NEXT? OBJ >OBJ /?L7
	RFALSE

	.FUNCT QCONTEXT-GOOD?
	ZERO? QCONTEXT /FALSE
	FSET? QCONTEXT,PERSON \FALSE
	EQUAL? HERE,QCONTEXT-ROOM \FALSE
	CALL2 VISIBLE?,QCONTEXT >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT NOT-HERE-OBJECT-F,TBL,PRSO?=1,OBJ
	EQUAL? PRSO,NOT-HERE-OBJECT \?L3
	EQUAL? PRSI,NOT-HERE-OBJECT \?L1
	PRINTR "[RIDX: 8166]"
?L1:	EQUAL? PRSO,NOT-HERE-OBJECT \?L3
	SET 'TBL,P-PRSO
	JUMP ?L4
?L3:	SET 'TBL,P-PRSI
	SET 'PRSO?,0
?L4:	ZERO? PRSO? /?L5
	EQUAL? PRSA,V?FIND,V?WHO,V?WHAT /?L9
	EQUAL? PRSA,V?WHERE,V?BUY,V?WAIT-FOR /?L9
	EQUAL? PRSA,V?CHARGE \?L29
?L9:	CALL FIND-NOT-HERE,TBL,PRSO? >OBJ
	ZERO? OBJ /FALSE
	EQUAL? OBJ,NOT-HERE-OBJECT /?L29
	RETURN 2
?L5:	EQUAL? PRSA,V?TELL-ABOUT,V?ASK-ABOUT,V?ASK-FOR \?L29
	CALL FIND-NOT-HERE,TBL,PRSO? >OBJ
	ZERO? OBJ /FALSE
	EQUAL? OBJ,NOT-HERE-OBJECT /?L29
	RETURN 2
?L29:	PRINT CANT
	EQUAL? PRSA,V?LISTEN \?L31
	PRINTI "hear"
	JUMP ?L34
?L31:	EQUAL? PRSA,V?SMELL \?L33
	PRINTI "smell"
	JUMP ?L34
?L33:	PRINTI "see"
?L34:	INTBL? P-XNAM,CAPS,NUMCAPS >STACK /?L35
	PRINTI " any"
?L35:	CALL2 NOT-HERE-PRINT,PRSO?
	PRINTI " here."
	CRLF
	CALL1 PCLEAR
	RETURN 2

	.FUNCT FIND-NOT-HERE,TBL,PRSO?,M-F,OBJ
	CALL2 MOBY-FIND,TBL >M-F
	EQUAL? M-F,1 \?L1
	ZERO? PRSO? /?L3
	SET 'PRSO,P-MOBY-FOUND
	RFALSE
?L3:	SET 'PRSI,P-MOBY-FOUND
	RFALSE
?L1:	GRTR? M-F,1 \?L6
	GET TBL,1 >OBJ
	GETP OBJ,P?GENERIC >STACK
	CALL2 STACK,TBL >OBJ
	ZERO? OBJ /?L6
	EQUAL? OBJ,NOT-HERE-OBJECT /TRUE
	ZERO? PRSO? /?L9
	SET 'PRSO,OBJ
	RFALSE
?L9:	SET 'PRSI,OBJ
	RFALSE
?L6:	EQUAL? PRSA,V?ASK-ABOUT,V?TELL-ABOUT,V?ASK-FOR /FALSE
	EQUAL? PRSA,V?WHO,V?WHAT,V?WHERE /FALSE
	EQUAL? PRSA,V?FIND,V?FOLLOW,V?TELL /FALSE
	ZERO? PRSO? \?L13
	PRINTI "[RIDX: 8174]"
	CALL2 NOT-HERE-PRINT,PRSO?
	PRINTR " there."
?L13:	RETURN NOT-HERE-OBJECT

	.FUNCT NOT-HERE-PRINT,PRSO?=0
	ZERO? P-OFLAG \?L3
	ZERO? P-MERGED /?L1
?L3:	ZERO? P-XADJ /?L4
	PRINTC 32
	PRINTB P-XADJ
?L4:	ZERO? P-XNAM /FALSE
	PRINTC 32
	PRINTB P-XNAM
	RTRUE
?L1:	ZERO? PRSO? /?L10
	GET P-ITBL,P-NC1L >STACK
	GET P-ITBL,P-NC1 >STACK
	CALL BUFFER-PRINT,STACK,STACK,0 >STACK
	RSTACK
?L10:	GET P-ITBL,P-NC2L >STACK
	GET P-ITBL,P-NC2 >STACK
	CALL BUFFER-PRINT,STACK,STACK,0 >STACK
	RSTACK

	.FUNCT PRINT-CONTENTS,THING,OBJ,NXT,1ST?=1,IT?=0,TWO?=0
	FIRST? THING >OBJ /?L4
	JUMP ?L3
?L1:	ZERO? OBJ /?L3
?L4:	NEXT? OBJ >NXT /?L7
?L7:	EQUAL? OBJ,WINNER /?L10
	FSET? OBJ,NODESC \?L8
?L10:	MOVE OBJ,C-OBJECT
?L8:	SET 'OBJ,NXT
	JUMP ?L1
?L3:	FIRST? THING >OBJ /?L39
	PRINTI "nothing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	JUMP ?L17
?L13:	ZERO? OBJ /?L18
?L39:	NEXT? OBJ >NXT /?L20
?L20:	ZERO? 1ST? /?L21
	SET '1ST?,0
	JUMP ?L26
?L21:	ZERO? NXT /?L24
	PRINTI ", "
	JUMP ?L26
?L24:	PRINTI " and "
?L26:	CALL2 PRINTA,OBJ
	FSET? OBJ,LIGHTED \?L27
	PRINTI " (providing light)"
?L27:	ZERO? IT? \?L30
	ZERO? TWO? \?L30
	SET 'IT?,OBJ
	JUMP ?L32
?L30:	SET 'TWO?,1
	SET 'IT?,0
?L32:	SET 'OBJ,NXT
	JUMP ?L13
?L18:	ZERO? IT? /?L17
	ZERO? TWO? \?L17
	CALL2 THIS-IS-IT,IT?
?L17:	CALL MOVE-ALL,C-OBJECT,THING
	RTRUE

	.FUNCT MOVE-ALL,FROM,TO,OBJ,NXT
	FIRST? FROM >OBJ /?L4
	RTRUE
?L1:	ZERO? OBJ /TRUE
?L4:	NEXT? OBJ >NXT /?L7
?L7:	MOVE OBJ,TO
	SET 'OBJ,NXT
	JUMP ?L1

	.FUNCT REMOVE-ALL,THING,OBJ,NXT
	FIRST? THING >OBJ /?L4
	RTRUE
?L1:	ZERO? OBJ /TRUE
?L4:	NEXT? OBJ >NXT /?L7
?L7:	REMOVE OBJ
	SET 'OBJ,NXT
	JUMP ?L1

	.FUNCT DESCRIBE-OBJECTS,THING=0,OBJ,NXT,STR,1ST?=1,TWO?=0,IT?=0,ANY?=0
	ZERO? THING \?L1
	SET 'THING,HERE
?L1:	ZERO? LIT? \?L4
	CALL1 TOO-DARK
	RTRUE
?L4:	FIRST? THING >OBJ /?L13
	RTRUE
?L8:	ZERO? OBJ /?L12
?L13:	NEXT? OBJ >NXT /?L16
?L16:	FSET? OBJ,NODESC /?L19
	EQUAL? OBJ,WINNER \?L17
?L19:	MOVE OBJ,DUMMY-OBJECT
?L17:	SET 'OBJ,NXT
	JUMP ?L8
?L12:	EQUAL? THING,HERE \?L35
	FIRST? THING >OBJ /?L26
	JUMP ?L25
?L23:	ZERO? OBJ /?L25
?L26:	NEXT? OBJ >NXT /?L29
?L29:	GETP OBJ,P?FDESC >STR
	ZERO? STR /?L30
	FSET? OBJ,TOUCHED /?L30
	CRLF
	PRINT STR
	CRLF
	CALL2 THIS-IS-IT,OBJ
	MOVE OBJ,DUMMY-OBJECT
?L30:	SET 'OBJ,NXT
	JUMP ?L23
?L25:	FIRST? THING >OBJ /?L36
	JUMP ?L35
?L33:	ZERO? OBJ /?L35
?L36:	NEXT? OBJ >NXT /?L39
?L39:	GETP OBJ,P?DESCFCN >STR
	ZERO? STR /?L40
	CRLF
	CALL2 STR,M-OBJDESC >STR
	CRLF
	CALL2 THIS-IS-IT,OBJ
	MOVE OBJ,DUMMY-OBJECT
?L40:	SET 'OBJ,NXT
	JUMP ?L33
?L35:	FIRST? HERE >OBJ /?L98
	JUMP ?L48
?L47:	ZERO? OBJ /?L49
?L98:	NEXT? OBJ >NXT /?L51
?L51:	ZERO? 1ST? /?L52
	SET '1ST?,0
	EQUAL? THING,HERE \?L64
	CRLF
	ZERO? NXT /?L56
	PRINT YOU-SEE
	JUMP ?L64
?L56:	FSET? OBJ,PLURAL \?L58
	PRINTI "There are "
	JUMP ?L64
?L58:	PRINTI "There's "
	JUMP ?L64
?L52:	ZERO? NXT /?L62
	PRINTI ", "
	JUMP ?L64
?L62:	PRINTI " and "
?L64:	CALL2 PRINTA,OBJ
	FSET? OBJ,LIGHTED \?L65
	PRINTI " (providing light)"
?L65:	CALL2 SEE-INSIDE?,OBJ >STACK
	ZERO? STACK /?L68
	CALL2 SEE-ANYTHING-IN?,OBJ >STACK
	ZERO? STACK /?L68
	MOVE OBJ,X-OBJECT
?L68:	ZERO? IT? \?L71
	ZERO? TWO? \?L71
	SET 'IT?,OBJ
	JUMP ?L73
?L71:	SET 'TWO?,1
	SET 'IT?,0
?L73:	SET 'OBJ,NXT
	JUMP ?L47
?L49:	ZERO? IT? /?L75
	ZERO? TWO? \?L75
	CALL2 THIS-IS-IT,IT?
?L75:	EQUAL? THING,HERE \?L78
	PRINTI " here"
?L78:	PRINTC 46
	SET 'ANY?,1
?L48:	FIRST? X-OBJECT >OBJ \?L84
?L85:	FSET? OBJ,SURFACE \?L87
	PRINTI " On "
	JUMP ?L88
?L87:	PRINTI " Inside "
?L88:	SET 'ANY?,1
	CALL2 THE-PRINT,OBJ
	PRINTI " you see "
	CALL2 PRINT-CONTENTS,OBJ
	PRINTC 46
	NEXT? OBJ >OBJ /?L85
?L84:	ZERO? ANY? /?L90
	CRLF
?L90:	CALL MOVE-ALL,X-OBJECT,THING
	CALL MOVE-ALL,DUMMY-OBJECT,THING
	RTRUE

	.FUNCT SEE-ANYTHING-IN?,THING,OBJ
	FIRST? THING >OBJ \FALSE
?L4:	FSET? OBJ,NODESC /?L6
	EQUAL? OBJ,WINNER \TRUE
?L6:	NEXT? OBJ >OBJ /?L4
	RFALSE

	.FUNCT GLOBAL-IN?,OBJ1,OBJ2,TBL
	GETPT OBJ2,P?GLOBAL >TBL
	ZERO? TBL /FALSE
	PTSIZE TBL >STACK
	DIV STACK,2 >STACK
	INTBL? OBJ1,TBL,STACK >STACK \FALSE
	RTRUE

	.FUNCT GOT?,OBJ
	ZERO? OBJ /FALSE
	EQUAL? WINNER,PLAYER \?L3
	IN? OBJ,POCKET /TRUE
?L3:	CALL2 HELD?,OBJ >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT HELD?,OBJ,L
	ZERO? OBJ /FALSE
	FSET? OBJ,TAKEABLE /?L3
	FSET? OBJ,TRYTAKE \FALSE
?L3:	LOC OBJ >L
	EQUAL? L,0,ROOMS,GLOBAL-OBJECTS /FALSE
	EQUAL? L,WINNER /TRUE
	EQUAL? WINNER,PLAYER \?L8
	EQUAL? L,POCKET /FALSE
?L8:	CALL2 HELD?,L >STACK
	RSTACK

	.FUNCT ITS-CLOSED,OBJ=0
	ZERO? OBJ \?L1
	SET 'OBJ,PRSO
?L1:	CALL2 THIS-IS-IT,OBJ
	CALL2 CTHE-PRINT,OBJ
	CALL2 IS-ARE,OBJ
	PRINTR "closed."

	.FUNCT PRINT-SENTENCE,WPTR=1,WLEN=4,CPTR=5,WCNT=1,CNT,WRD,LEN,PTR,CHAR
?L1:	GET P-LEXV,WPTR >WRD
	EQUAL? WRD,W?$QUOTE /?L13
	EQUAL? WRD,W?$PERIOD,W?$0021,W?? /TRUE
	EQUAL? WRD,W?$COMMA /?L7
	EQUAL? WRD,W?THEN \?L6
	GETB P-LEXV,WLEN >STACK
	EQUAL? STACK,1 \?L6
?L7:	PRINTI ","
	JUMP ?L13
?L6:	EQUAL? WCNT,1 /?L9
	PRINTC 32
?L9:	GETB P-LEXV,WLEN >LEN
	GETB P-LEXV,CPTR >PTR
	SET 'CNT,1
?L12:	GETB P-INBUF,PTR >CHAR
	EQUAL? CNT,1 \?L14
	EQUAL? WCNT,1 /?L16
	EQUAL? WRD,W?NE,W?NW,W?SE /?L16
	EQUAL? WRD,W?SW /?L16
	INTBL? WRD,CAPS,NUMCAPS >STACK \?L14
?L16:	SUB CHAR,32 >CHAR
?L14:	GRTR? CHAR,31 \?L18
	LESS? CHAR,123 \?L18
	PRINTC CHAR
?L18:	EQUAL? CNT,1 \?L25
	EQUAL? WRD,W?NE,W?SE \?L23
	PRINTI "E"
	JUMP ?L13
?L23:	EQUAL? WRD,W?NW,W?SW \?L25
	PRINTI "W"
	JUMP ?L13
?L25:	INC 'PTR
	IGRTR? 'CNT,LEN \?L12
?L13:	IGRTR? 'WCNT,INLEN /TRUE
	ADD WPTR,2 >WPTR
	ADD WLEN,4 >WLEN
	ADD CPTR,4 >CPTR
	JUMP ?L1

	.FUNCT SAVE-INPUT,TOKENS=1,LPTR=4,EPTR=1,SPTR=1,PER=0,SAVLEN,CNT,WLEN,WPTR,X
	GETB P-LEXV,1 >SAVLEN
	ZERO? SAVLEN /FALSE
	SET 'X,INSAVE-C
	SET 'INSAVE-C,INSAVE-B
	SET 'INSAVE-B,INSAVE-A
	SET 'INSAVE-A,X
?L4:	GET P-LEXV,EPTR >X
	EQUAL? X,W?$COMMA \?L6
	SET 'PER,0
	PUTB INSAVE-A,SPTR,44
	IGRTR? 'SPTR,79 \?L28
	JUMP ?L5
?L6:	EQUAL? X,W?$QUOTE /?L28
	EQUAL? X,W?$PERIOD,W??,W?$0021 \?L12
	ZERO? PER \?L28
	SET 'PER,1
	EQUAL? X,W?$PERIOD \?L15
	PUSH 46
	JUMP ?L18
?L15:	EQUAL? X,W?? \?L17
	PUSH 63
	JUMP ?L18
?L17:	PUSH 33
?L18:	PUTB INSAVE-A,SPTR,STACK
	IGRTR? 'SPTR,79 \?L28
	JUMP ?L5
?L12:	GRTR? TOKENS,1 \?L24
	LESS? SPTR,80 \?L24
	PUTB INSAVE-A,SPTR,32
	INC 'SPTR
?L24:	GETB P-LEXV,LPTR >WLEN
	SET 'PER,0
	ADD LPTR,1 >STACK
	GETB P-LEXV,STACK >WPTR
	SET 'CNT,1
?L27:	GETB P-INBUF,WPTR >X
	GRTR? X,96 \?L29
	LESS? X,123 \?L29
	SUB X,32 >X
?L29:	PUTB INSAVE-A,SPTR,X
	INC 'WPTR
	IGRTR? 'SPTR,79 /?L28
	IGRTR? 'CNT,WLEN \?L27
?L28:	ADD LPTR,4 >LPTR
	ADD EPTR,2 >EPTR
	GRTR? SPTR,79 \?L36
	SET 'SPTR,79
	JUMP ?L5
?L36:	IGRTR? 'TOKENS,SAVLEN \?L4
?L5:	SUB SPTR,1 >STACK
	PUTB INSAVE-A,0,STACK
	RTRUE

	.FUNCT V-VERBOSE
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	SET 'VERBOSITY,2
	PRINTI "[Maximum verbosity.]"
	CRLF
	CRLF
	CALL1 V-LOOK
	RTRUE

	.FUNCT V-BRIEF
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	SET 'VERBOSITY,1
	PRINTR "[RIDX: 21]"

	.FUNCT V-SUPER-BRIEF
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	SET 'VERBOSITY,0
	PRINTR "[RIDX: 22]"

	.FUNCT V-DIAGNOSE
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	PRINTR "[RIDX: 31]"

	.FUNCT V-INVENTORY,P?=0,WORN?=0,OBJ,NXT,OLDIT
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	SET 'OLDIT,P-IT-OBJECT
	FIRST? POCKET >P? /?L6
?L6:	REMOVE POCKET
	FIRST? PLAYER >OBJ /?L10
	JUMP ?L9
?L7:	ZERO? OBJ /?L9
?L10:	NEXT? OBJ >NXT /?L13
?L13:	FSET? OBJ,WORN \?L14
	SET 'WORN?,1
	MOVE OBJ,WEARING
?L14:	SET 'OBJ,NXT
	JUMP ?L7
?L9:	FIRST? PLAYER >OBJ /?L17
?L17:	PRINTI "You're "
	ZERO? OBJ /?L18
	PRINTI "holding "
	CALL2 PRINT-CONTENTS,PLAYER
?L20:	CALL2 SEE-INSIDE?,OBJ >STACK
	ZERO? STACK /?L22
	CALL2 SEE-ANYTHING-IN?,OBJ >STACK
	ZERO? STACK /?L22
	PRINTI ". "
	FSET? OBJ,SURFACE \?L24
	PRINTI "On "
	JUMP ?L26
?L24:	PRINTI "Inside "
?L26:	CALL2 THE-PRINT,OBJ
	PRINTI " you see "
	CALL2 PRINT-CONTENTS,OBJ
?L22:	NEXT? OBJ >OBJ /?L20
	PRINTI ". You"
	ZERO? WORN? /?L32
	PRINTI "'re wearing "
	CALL2 PRINT-CONTENTS,WEARING
	ZERO? P? /?L34
	PRINTI ", and you have "
	JUMP ?L46
?L34:	PRINTI ". Your "
	JUMP ?L46
?L32:	ZERO? P? /?L37
	PRINTI " also have "
	JUMP ?L46
?L37:	PRINTI "r "
	JUMP ?L46
?L18:	PRINTI "[RIDX: 46]"
	ZERO? WORN? /?L40
	PRINTI "but you're wearing "
	CALL2 PRINT-CONTENTS,WEARING
	PRINTI ". You"
	ZERO? P? /?L42
	PRINTI " also have "
	JUMP ?L46
?L42:	PRINTI "r "
	JUMP ?L46
?L40:	ZERO? P? /?L45
	PRINTI "but you have "
	JUMP ?L46
?L45:	PRINTI "and your "
?L46:	ZERO? P? /?L47
	CALL2 PRINT-CONTENTS,POCKET
	PRINTI " in "
	PRINTD POCKET
	JUMP ?L49
?L47:	PRINTI "pocket is empty"
?L49:	PRINT PERIOD
	CALL MOVE-ALL,WEARING,PLAYER
	MOVE POCKET,PLAYER
	SET 'P-IT-OBJECT,OLDIT
	RTRUE

	.FUNCT SAY-SURE
	PRINTI "[RIDX: 55]"
	RTRUE

	.FUNCT V-QUIT,ASK?=1,SCOR
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	CALL1 V-SCORE
	ZERO? ASK? /?L6
	CRLF
	CALL1 SAY-SURE
	PRINTI "leave the story now?"
	CALL1 YES? >STACK
	ZERO? STACK /?L8
	CRLF
	QUIT
?L8:	CRLF
	PRINTR "[Continuing.]"
?L6:	CRLF
	QUIT

	.FUNCT V-RESTART
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	CALL1 V-SCORE
	CRLF
	CALL1 SAY-SURE
	PRINTI "restart the story?"
	CALL1 YES? >STACK
	ZERO? STACK /TRUE
	RESTART

	.FUNCT YES?,WORD
	CRLF
?L1:	CRLF
	PRINTI "[RIDX: 64]"
	PUTB YES-LEXV,0,4
	READ YES-INBUF,YES-LEXV
	GET YES-LEXV,P-LEXSTART >WORD
	GETB YES-LEXV,P-LEXWORDS >STACK
	ZERO? STACK /?L1
	ZERO? WORD /?L1
	EQUAL? WORD,W?Y,W?YES,W?YUP /TRUE
	EQUAL? WORD,W?OKAY,W?OK,W?AYE /TRUE
	EQUAL? WORD,W?SURE,W?AFFIRMATIVE,W?POSITIVE /TRUE
	EQUAL? WORD,W?POSITIVELY /TRUE
	EQUAL? WORD,W?N,W?NO,W?NOPE /FALSE
	EQUAL? WORD,W?NAY,W?NAW,W?NEGATIVE \?L1
	RFALSE

	.FUNCT V-RESTORE,X
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	SET 'OLD-HERE,0
	SET 'OLD-LEN,0
	RESTORE >X
	ZERO? X \TRUE
	CALL2 FAILED,STR?51
	RTRUE

	.FUNCT V-SAVE,X
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	CALL1 PCLEAR
	SET 'OLD-HERE,0
	SET 'OLD-LEN,0
	PUTB OOPS-INBUF,1,0
	SAVE >X
	ZERO? X \?L6
	CALL2 FAILED,STR?52
	RETURN 2
?L6:	EQUAL? X,1 \?L10
	CALL2 COMPLETED,STR?52
	RETURN 2
?L10:	CALL2 COMPLETED,STR?51
	CRLF
	CALL1 V-LOOK
	RETURN 2

	.FUNCT COMPLETED,STR
	CRLF
	PRINTI "["
	PRINT STR
	PRINTI " completed.]"
	CRLF
	CALL2 V-$0024REFRESH,0
	ZERO? VERBOSITY \TRUE
	CRLF
	RTRUE

	.FUNCT FAILED,STR
	CRLF
	PRINTI "["
	PRINT STR
	PRINTI " failed.]"
	CRLF
	CALL2 V-$0024REFRESH,0
	ZERO? VERBOSITY \TRUE
	CRLF
	RTRUE

	.FUNCT V-SCORE
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	PRINTI "[Your score is "
	PRINTN SCORE
	PRINTI " point"
	EQUAL? SCORE,1 /?L6
	PRINTI "s"
?L6:	PRINTI " out of 105, in "
	PRINTN MOVES
	PRINTI " move"
	EQUAL? MOVES,1 /?L9
	PRINTI "s"
?L9:	PRINTI "[RIDX: 82]"
	LESS? SCORE,15 \?L12
	PUSH STR?53
	JUMP ?L16
?L12:	LESS? SCORE,50 \?L14
	PUSH STR?54
	JUMP ?L16
?L14:	LESS? SCORE,100 \?L15
	PUSH STR?55
	JUMP ?L16
?L15:	PUSH STR?53
?L16:	CALL2 ITALICIZE,STACK
	PRINTR "]"

	.FUNCT V-NOTIFY
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	LESS? DO-SCORE?,2 \?L5
	SET 'DO-SCORE?,2
	JUMP ?L6
?L5:	SET 'DO-SCORE?,1
?L6:	PRINTI "[RIDX: 89]"
	EQUAL? DO-SCORE?,2 \?L7
	PRINTI "ff"
	JUMP ?L9
?L7:	PRINTI "n"
?L9:	PRINTR ".]"

	.FUNCT UPDATE-SCORE,PTS=1,CR=1
	ADD SCORE,PTS >SCORE
	EQUAL? DO-SCORE?,2 /TRUE
	ZERO? CR /?L3
	CRLF
?L3:	HLIGHT H-BOLD
	PRINTI "[RIDX: 94]"
	PRINTN PTS
	PRINTI " point"
	EQUAL? PTS,1 /?L5
	PRINTI "s"
?L5:	PRINT PTHE
	PRINTI "total is now "
	PRINTN SCORE
	PRINTI " out of 100.]"
	HLIGHT H-NORMAL
	CRLF
	HLIGHT H-NORMAL
	SOUND 1
	ZERO? DO-SCORE? \TRUE
	SET 'DO-SCORE?,1
	CRLF
	PRINTR "[RIDX: 99]"

	.FUNCT V-TIME
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	EQUAL? HERE,PLAYGROUND \?L6
	CALL PERFORM,V?READ,CCLOCK
	RTRUE
?L6:	CALL2 VISIBLE?,WRISTWATCH >STACK
	ZERO? STACK /?L8
	CALL PERFORM,V?READ,WRISTWATCH
	RTRUE
?L8:	PRINTR "[RIDX: 100]"

	.FUNCT V-SCRIPT
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	PRINTI "[Scripting on.]"
	CRLF
	DIROUT D-PRINTER-ON
	CALL2 TRANSCRIPT,STR?56
	RTRUE

	.FUNCT V-UNSCRIPT
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	CALL2 TRANSCRIPT,STR?57
	DIROUT D-PRINTER-OFF
	PRINTR "[Scripting off.]"

	.FUNCT TRANSCRIPT,STR
	DIROUT D-SCREEN-OFF
	CRLF
	PRINTI "Here "
	PRINT STR
	PRINTI "[RIDX: 106]"
	CRLF
	CALL1 V-VERSION
	DIROUT D-SCREEN-ON
	RTRUE

	.FUNCT V-VERSION,CNT=17,V
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	HLIGHT H-BOLD
	CRLF
	PRINTI "TRINITY"
	CRLF
	CALL1 FANTASY
	CRLF
	CALL1 COPYRIGHT
	CRLF
	CALL1 TRADEMARK
	CRLF
	CALL1 V-$0024ID
	CALL1 RELEASE
	PRINTI " / Serial Number "
?L6:	IGRTR? 'CNT,23 /?L7
	GETB 0,CNT >STACK
	PRINTC STACK
	JUMP ?L6
?L7:	CRLF
	RTRUE

	.FUNCT FANTASY
	HLIGHT H-NORMAL
	PRINTI "[RIDX: 110]"
	RTRUE

	.FUNCT COPYRIGHT
	PRINTI "[RIDX: 111]"
	RTRUE

	.FUNCT TRADEMARK
	PRINTI "TRINITY"
	PRINTI "[RIDX: 114]"
	RTRUE

	.FUNCT V-$0024ID
	PRINTI "Interpreter "
	GETB 0,30 >STACK
	PRINTN STACK
	PRINTI " Version "
	GETB 0,31 >STACK
	PRINTC STACK
	CRLF
	RTRUE

	.FUNCT V-$0024VERIFY
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	CALL1 V-$0024ID
	CRLF
	PRINTI "[Verifying.]"
	CRLF
	VERIFY \?L6
	CRLF
	PRINTR "[Disk correct.]"
?L6:	CALL2 FAILED,STR?58
	RTRUE

	.FUNCT V-$0024COMMAND
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	DIRIN 1
	RTRUE

	.FUNCT V-USE
	FSET? PRSO,PERSON \?L1
	CALL1 CTHE-PRINT
	PRINTR " might resent that."
?L1:	CALL1 HOW?
	RTRUE

	.FUNCT V-BITE
	CALL1 IS-POPA? >STACK
	CALL PRINT-ID,STR?59,STACK
	CALL1 IS-SOPOS? >STACK
	CALL PRINT-ID,STR?60,STACK
	CALL2 HACK-HACK,STR?61
	RTRUE

	.FUNCT V-BLOW-INTO
	FSET? PRSO,PERSON \?L1
	CALL PERFORM,V?USE,PRSO
	RTRUE
?L1:	CALL2 HACK-HACK,STR?62
	RTRUE

	.FUNCT V-LIGHT-WITH
	EQUAL? PRSI,SHARD,LAMP \?L1
	EQUAL? PRSI,PRSO \?L3
	CALL1 IMPOSSIBLE
	RTRUE
?L3:	CALL PERFORM,V?SHINE-AT,PRSI,PRSO
	RTRUE
?L1:	CALL1 V-BURN-WITH
	RTRUE

	.FUNCT V-BURN-WITH
	EQUAL? PRSI,SHARD \?L1
	CALL1 CTHEI-PRINT
	PRINTI "[RIDX: 129]"
	PRINTB P-PRSA-WORD
	PRINTR " anything."
?L1:	PRINTI "With "
	CALL2 PRINTA,PRSI
	PRINTI "? "
	CALL2 PICK-NEXT,YUKS >STACK
	PRINT STACK
	PRINT PERIOD
	CALL1 IS-POPA? >STACK
	CALL PRINT-ID,STR?63,STACK
	CALL1 IS-SOPOS? >STACK
	CALL PRINT-ID,STR?64,STACK
	RTRUE

	.FUNCT V-BUY
	CALL2 VISIBLE?,PRSO >STACK
	ZERO? STACK \?L1
	CALL2 CANT-SEE-ANY,PRSO
	RETURN 2
?L1:	CALL2 HELD?,PRSO >STACK
	ZERO? STACK /?L5
	CALL1 ALREADY-HAVE-PRSO
	RTRUE
?L5:	FSET? PRSO,BUYABLE /?L6
	PRINT CANT
	PRINTI "possibly buy "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L6:	EQUAL? WINNER,PLAYER \?L7
	IN? PRSO,POCKET \?L7
	PRINTI "It's in "
	PRINTD POCKET
	PRINT PERIOD
	RTRUE
?L7:	ZERO? PRSI /?L8
	PRINTI "You couldn't buy "
	CALL1 THE-PRINT
	PRINTI " with "
	CALL2 PRINTA,PRSI
	PRINT PERIOD
	RTRUE
?L8:	CALL1 NO-MONEY
	RTRUE

	.FUNCT V-BUY-FROM
	CALL2 VISIBLE?,PRSO >STACK
	ZERO? STACK \?L1
	CALL2 CANT-SEE-ANY,PRSO
	RETURN 2
?L1:	EQUAL? PRSI,BWOMAN /?L5
	PRINTI "It"
	CALL2 PICK-NEXT,LIKELIES >STACK
	PRINT STACK
	PRINTI " that "
	CALL1 THEI-PRINT
	PRINTR "[RIDX: 141]"
?L5:	FSET? PRSO,BUYABLE /?L6
	PRINT CANT
	PRINTI "possibly buy "
	CALL2 PRINTA,PRSO
	PRINTI " from "
	CALL1 THEI-PRINT
	PRINT PERIOD
	RTRUE
?L6:	CALL2 HELD?,PRSO >STACK
	ZERO? STACK /?L7
	CALL1 ALREADY-HAVE-PRSO
	RTRUE
?L7:	EQUAL? WINNER,PLAYER \?L8
	IN? PRSO,POCKET \?L8
	PRINTI "It's in "
	PRINTD POCKET
	PRINT PERIOD
	RTRUE
?L8:	CALL1 NO-MONEY
	RTRUE

	.FUNCT ALREADY-HAVE-PRSO
	PRINTI "You already have "
	CALL2 PRINTA,PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT NO-MONEY
	PRINT DONT
	PRINTI "have "
	EQUAL? PRSA,V?CHARGE \?L1
	PRINTI "a "
	PRINTD CREDIT-CARD
	JUMP ?L3
?L1:	PRINTI "any money"
?L3:	PRINT PERIOD
	RTRUE

	.FUNCT V-CHARGE
	CALL2 VISIBLE?,PRSO >STACK
	ZERO? STACK \?L1
	CALL2 CANT-SEE-ANY,PRSO
	RETURN 2
?L1:	FSET? PRSO,BUYABLE /?L5
	PRINT CANT
	PRINTI "possibly charge "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L5:	CALL2 HELD?,PRSO >STACK
	ZERO? STACK /?L6
	CALL1 ALREADY-HAVE-PRSO
	RTRUE
?L6:	EQUAL? WINNER,PLAYER \?L7
	IN? PRSO,POCKET \?L7
	PRINTI "It's in "
	PRINTD POCKET
	PRINT PERIOD
	RTRUE
?L7:	EQUAL? PRSI,ROOMS \?L8
	CALL2 HELD?,CREDIT-CARD >STACK
	ZERO? STACK /?L9
	PRINTI "[with the "
	PRINTD CREDIT-CARD
	PRINT BRACKET
	CALL1 NOT-ACCEPTED
	RTRUE
?L9:	IN? CREDIT-CARD,POCKET \?L11
	EQUAL? WINNER,PLAYER \?L11
	PRINTI "[RIDX: 152]"
	PRINTD CREDIT-CARD
	PRINT PERIOD
	RTRUE
?L11:	CALL1 NO-MONEY
	RTRUE
?L8:	EQUAL? PRSI,CREDIT-CARD \?L14
	CALL1 NOT-ACCEPTED
	RTRUE
?L14:	PRINTI "You couldn't charge "
	CALL1 THE-PRINT
	PRINTI " with "
	CALL2 PRINTA,PRSI
	PRINT PERIOD
	RTRUE

	.FUNCT NOT-ACCEPTED
	PRINTI "Your "
	PRINTD CREDIT-CARD
	PRINTR "[RIDX: 156]"

	.FUNCT V-CLEAN
	EQUAL? PRSO,HANDS \?L1
	IN? HONEY,PLAYER \?L1
	CALL1 HONEY-STICKS
	RTRUE
?L1:	CALL2 HACK-HACK,STR?65
	RTRUE

	.FUNCT V-CLEAN-OFF
	EQUAL? PRSO,PRSI \?L1
	CALL1 IMPOSSIBLE
	RTRUE
?L1:	PRINT CANT
	PRINTB P-PRSA-WORD
	PRINTC 32
	CALL1 THE-PRINT
	PRINTI " on "
	CALL1 THEI-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT V-CLIMB-DOWN
	EQUAL? P-PRSA-WORD,W?JUMP,W?LEAP \?L1
	CALL PERFORM,V?DIVE,PRSO
	RTRUE
?L1:	EQUAL? PRSO,ROOMS \?L3
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L3:	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-CLIMB-ON
	EQUAL? P-PRSA-WORD,W?TAKE \?L1
	CALL1 IS-PERSON? >STACK
	CALL PRINT-ID,STR?66,STACK
	CALL NOT-LIKELY,PRSO,STR?67
	RTRUE
?L1:	PRINT CANT
	PRINTB P-PRSA-WORD
	PRINTI " onto that."
	CRLF
	CALL1 IS-PERSON? >STACK
	CALL PRINT-ID,STR?68,STACK
	RTRUE

	.FUNCT V-CLIMB-OVER
	EQUAL? PRSO,ROOMS \?L1
	CALL1 V-WALK-AROUND
	RTRUE
?L1:	PRINT CANT
	PRINTI "climb over that."
	CRLF
	CALL1 IS-POPA? >STACK
	CALL PRINT-ID,STR?69,STACK
	RTRUE

	.FUNCT V-CLIMB-UP
	EQUAL? PRSO,ROOMS \?L1
	EQUAL? HERE,LAN-GATE \?L3
	EQUAL? P-PRSA-WORD,W?JUMP,W?LEAP \?L3
	FIRST? TREE >STACK /?L5
?L5:	CALL2 CANT-REACH,STACK
	RTRUE
?L3:	CALL2 DO-WALK,P?UP
	RTRUE
?L1:	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-OPEN-WITH
	FSET? PRSO,OPENABLE /?L1
	CALL1 CANT-OPEN-PRSO
	RTRUE
?L1:	FSET? PRSO,OPENED \?L3
	CALL2 ITS-ALREADY,STR?70
	RTRUE
?L3:	PRINT CANT
	PRINTB P-PRSA-WORD
	PRINTI " "
	CALL1 THE-PRINT
	PRINTI " with "
	CALL1 THEI-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT CANT-OPEN-PRSO
	PRINTI "[RIDX: 168]"
	CALL2 PRINTA,PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT V-OPEN
	FSET? PRSO,OPENABLE /?L1
	CALL1 CANT-OPEN-PRSO
	RTRUE
?L1:	FSET? PRSO,OPENED \?L3
	CALL2 ITS-ALREADY,STR?70
	RTRUE
?L3:	FSET? PRSO,LOCKED \?L4
	CALL1 OBJECT-IS-LOCKED
	RTRUE
?L4:	CALL1 YOU-OPEN
	FSET? PRSO,CONTAINER \TRUE
	FIRST? PRSO >STACK \TRUE
	FSET? PRSO,TRANSPARENT /TRUE
	CRLF
	PRINT YOU-SEE
	CALL2 PRINT-CONTENTS,PRSO
	PRINTR " inside."

	.FUNCT YOU-OPEN,THING=0
	ZERO? THING \?L1
	SET 'THING,PRSO
?L1:	CALL2 THIS-IS-IT,THING
	FSET THING,OPENED
	EQUAL? WINNER,PLAYER \?L4
	PRINTI "You open "
	JUMP ?L6
?L4:	CALL2 CTHE-PRINT,WINNER
	PRINTI " opens "
?L6:	CALL2 THE-PRINT,THING
	PRINT PERIOD
	RTRUE

	.FUNCT V-CLOSE
	FSET? PRSO,OPENABLE \?L1
	FSET? PRSO,OPENED \?L3
	CALL1 YOU-CLOSE
	RTRUE
?L3:	CALL2 ITS-ALREADY,STR?71
	RTRUE
?L1:	CALL1 CANT-CLOSE-THAT
	RTRUE

	.FUNCT YOU-CLOSE,THING=0
	ZERO? THING \?L1
	SET 'THING,PRSO
?L1:	CALL2 THIS-IS-IT,THING
	FCLEAR THING,OPENED
	EQUAL? WINNER,PLAYER \?L4
	PRINTI "You close "
	JUMP ?L6
?L4:	CALL2 CTHE-PRINT,WINNER
	PRINTI " closes "
?L6:	CALL2 THE-PRINT,THING
	PRINT PERIOD
	RTRUE

	.FUNCT CANT-CLOSE-THAT,THING=0
	PRINT CANT
	PRINTI "close "
	ZERO? THING /?L1
	CALL2 PRINTA,THING
	JUMP ?L4
?L1:	ZERO? PRSO /?L3
	CALL2 PRINTA,PRSO
	JUMP ?L4
?L3:	PRINTD NOT-HERE-OBJECT
?L4:	PRINT PERIOD
	RTRUE

	.FUNCT V-COUNT
	FSET? PRSO,PLURAL \?L1
	PRINTR "[RIDX: 180]"
?L1:	PRINTR "You only see one."

	.FUNCT V-COVER
	CALL PERFORM,V?PUT-ON,PRSI,PRSO
	RTRUE

	.FUNCT V-HOLD-OVER
	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT V-CROSS
	PRINT CANT
	PRINTR "cross that."

	.FUNCT V-CUT
	EQUAL? PRSI,AXE \?L1
	CALL1 AXE-HURT
	RTRUE
?L1:	PRINTI "[RIDX: 183]"
	CALL1 THE-PRINT
	PRINTI " with "
	CALL1 THEI-PRINT
	PRINT PERIOD
	CALL1 IS-POPA? >STACK
	CALL PRINT-ID,STR?72,STACK
	CALL1 IS-SOPOS? >STACK
	CALL PRINT-ID,STR?73,STACK
	RTRUE

	.FUNCT AXE-HURT
	PRINTI "[RIDX: 187]"
	CALL1 IS-POPA? >STACK
	CALL PRINT-ID,STR?74,STACK
	CALL1 IS-SOPOS? >STACK
	CALL PRINT-ID,STR?75,STACK
	FSET? PRSO,LIVING \?L1
	PRINTI "hurt "
	JUMP ?L3
?L1:	PRINTI "ruin "
?L3:	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT V-RIP
	EQUAL? PRSI,AXE \?L1
	CALL1 AXE-HURT
	RTRUE
?L1:	PRINTI "[RIDX: 192]"
	CALL1 THE-PRINT
	EQUAL? PRSI,HANDS /?L4
	PRINTI " with "
	CALL1 THEI-PRINT
?L4:	CALL1 IS-POPA? >STACK
	CALL PRINT-ID,STR?76,STACK
	CALL1 IS-SOPOS? >STACK
	CALL PRINT-ID,STR?77,STACK
	PRINT PERIOD
	RTRUE

	.FUNCT V-DEFLATE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-DETONATE
	CALL1 IS-NUKE? >STACK
	CALL PRINT-ID,STR?78,STACK
	CALL1 IS-PERSON? >STACK
	CALL PRINT-ID,STR?79,STACK
	CALL1 IS-OBJ-PROP-ANIMAL? >STACK
	CALL PRINT-ID,STR?80,STACK
	CALL1 IS-SOPOS? >STACK
	CALL PRINT-ID,STR?81,STACK
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-DIG
	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT V-SDIG
	CALL PERFORM,V?DIG,PRSI,PRSO
	RETURN 2

	.FUNCT V-DRINK,FROM?=0
	PRINT CANT
	PRINTI "drink "
	ZERO? FROM? /?L1
	PRINTI "from "
?L1:	PRINTD NOT-HERE-OBJECT
	PRINT PERIOD
	RTRUE

	.FUNCT V-DRINK-FROM
	CALL2 V-DRINK,1
	RTRUE

	.FUNCT V-DRIVE
	EQUAL? PRSO,ROOMS \?L1
	EQUAL? HERE,N75,S100 \?L3
	CALL1 CANT-FROM-HERE
	RTRUE
?L3:	EQUAL? HERE,IN-JEEP \?L5
	CALL1 HOW?
	RTRUE
?L5:	PRINTR "[RIDX: 203]"
?L1:	EQUAL? PRSO,JEEP \?L7
	CALL1 HOW?
	RTRUE
?L7:	PRINT CANT
	PRINTI "drive "
	CALL2 PRINTA,PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT V-DROP
	CALL1 IDROP >STACK
	ZERO? STACK /TRUE
	CALL1 SAY-DROPPED
	RTRUE

	.FUNCT SAY-DROPPED
	ZERO? P-MULT? \?L3
	RANDOM 100 >STACK
	LESS? 50,STACK /?L1
?L3:	PRINTR "Dropped."
?L1:	PRINTI "You "
	RANDOM 100 >STACK
	LESS? 50,STACK /?L5
	PRINTI "drop "
	JUMP ?L7
?L5:	PRINTI "put down "
?L7:	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT IDROP,L
	LOC PRSO >L
	ZERO? L /?L3
	EQUAL? PRSO,WINNER,ME \?L1
?L3:	CALL1 IMPOSSIBLE
	RFALSE
?L1:	EQUAL? L,PLAYER /?L4
	PRINTI "You'd have to take "
	CALL1 THE-PRINT
	FSET? L,SURFACE \?L5
	PRINTI " off "
	JUMP ?L7
?L5:	PRINTI " out of "
?L7:	CALL2 THE-PRINT,L
	PRINTI " first."
	CRLF
	RFALSE
?L4:	FSET? PRSO,WORN \?L8
	IN? PRSO,PLAYER \?L8
	CALL1 TAKE-OFF-PRSO-FIRST
?L8:	ZERO? SUITED? \?L12
	EQUAL? HERE,IN-WATER,IN-CIST,UNDER-WATER /?L12
	EQUAL? HERE,IN-SKY,ON-BIRD /?L12
	EQUAL? HERE,PROM \?L13
	ZERO? IN-DISH? \?L12
?L13:	EQUAL? HERE,IN-ORBIT,ON-SAT,IN-SKY \?L10
	ZERO? SUITED? \?L10
?L12:	CALL1 CTHE-PRINT
	PRINTC 32
	CALL1 LANDS-AT-YOUR-FEET
	RFALSE
?L10:	MOVE PRSO,HERE
	RTRUE

	.FUNCT PRSO-SLIDES-OFF-PRSI
	CALL1 CTHE-PRINT
	PRINTI " slide"
	FSET? PRSO,PLURAL /?L1
	PRINTI "s"
?L1:	PRINTI " off "
	CALL1 THEI-PRINT
	PRINTI " and "
	CALL1 LANDS-AT-YOUR-FEET
	RTRUE

	.FUNCT LANDS-AT-YOUR-FEET,OBJ=0
	ZERO? OBJ \?L1
	SET 'OBJ,PRSO
?L1:	ZERO? SUITED? /?L4
	IN? OBJ,PLAYER /?L6
	MOVE OBJ,PLAYER
?L6:	CALL2 BOUNCES-IN-FILM,OBJ
	RTRUE
?L4:	EQUAL? HERE,IN-WATER \?L9
	CALL2 VANISH,OBJ
	EQUAL? OBJ,OCRANE,BAD-CRANE,BAG /?L12
	EQUAL? OBJ,EBAG /?L12
	EQUAL? OBJ,PARASOL \?L10
	FSET? OBJ,OPENED \?L10
?L12:	PRINTI "float"
	FSET? OBJ,PLURAL /?L13
	PRINTI "s"
?L13:	PRINTI " away across "
	JUMP ?L16
?L10:	PRINTI "disappear"
	FSET? OBJ,PLURAL /?L17
	PRINTI "s"
?L17:	PRINTI " into "
?L16:	CALL2 THE-PRINT,LWATER
	PRINT PERIOD
	RTRUE
?L9:	EQUAL? HERE,IN-CIST \?L20
	EQUAL? OBJ,CRANE,OCRANE,BAD-CRANE /?L23
	EQUAL? OBJ,BAG /?L23
	EQUAL? OBJ,EBAG \?L21
	FIRST? EBAG >STACK /?L21
?L23:	MOVE OBJ,HERE
	PRINTR "[RIDX: 225]"
?L21:	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	MOVE OBJ,UNDER-WATER
	PRINTI "disappear"
	FSET? OBJ,PLURAL /?L25
	PRINTI "s"
?L25:	PRINTR "[RIDX: 228]"
?L20:	EQUAL? HERE,UNDER-WATER \?L28
	MOVE OBJ,HERE
	EQUAL? OBJ,CRANE,OCRANE,BAD-CRANE /?L31
	EQUAL? OBJ,CREDIT-CARD,BAG,EBAG \?L29
?L31:	PRINTI "slowly "
?L29:	PRINTI "sink"
	FSET? OBJ,PLURAL /?L33
	PRINTI "s"
?L33:	PRINTR " to the bottom."
?L28:	EQUAL? HERE,PROM \?L36
	ZERO? IN-DISH? /?L36
	CALL2 VANISH,OBJ
	PRINTI "disappear"
	FSET? OBJ,PLURAL /?L37
	PRINTI "s"
?L37:	PRINTI " into the "
	PRINTD SOAPY-WATER
	PRINT PERIOD
	RTRUE
?L36:	EQUAL? HERE,IN-ORBIT,ON-SAT \?L40
	CALL2 VANISH,OBJ
	PRINTI "drift"
	FSET? OBJ,PLURAL /?L41
	PRINTI "s"
?L41:	PRINTI " slowly"
	PRINT OUTASITE
	RTRUE
?L40:	EQUAL? HERE,IN-SKY,ON-BIRD \?L44
	EQUAL? HERE,IN-SKY \?L45
	MOVE OBJ,SPILE
	JUMP ?L47
?L45:	REMOVE OBJ
?L47:	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	PRINTI "instantly fall"
	FSET? OBJ,PLURAL /?L48
	PRINTI "s"
?L48:	PRINT OUTASITE
	RTRUE
?L44:	MOVE OBJ,HERE
	PRINTI "land"
	FSET? OBJ,PLURAL /?L52
	PRINTI "s"
?L52:	PRINTR " at your feet."

	.FUNCT BOUNCES-IN-FILM,OBJ
	PRINTI "bounce"
	FSET? OBJ,PLURAL /?L1
	PRINTI "s"
?L1:	PRINTI " around inside the "
	PRINTD FILM
	PRINTR " until you catch it."

	.FUNCT V-EAT
	CALL1 DANGEROUS-FOOD? >STACK
	CALL PRINT-ID,STR?82,STACK
	EQUAL? WINNER,PLAYER \?L1
	CALL NOT-LIKELY,PRSO,STR?83
	RTRUE
?L1:	PRINTI """It"
	CALL2 PICK-NEXT,LIKELIES >STACK
	PRINT STACK
	PRINTI " that "
	CALL1 THE-PRINT
	PRINTR "[RIDX: 252]"

	.FUNCT V-ENTER
	EQUAL? PRSO,ROOMS \?L1
	CALL2 DO-WALK,P?IN
	RTRUE
?L1:	FSET? PRSO,CLOTHING \?L3
	PRINTI "[RIDX: 254]"
	CALL1 THE-PRINT
	PRINTI "."
	PRINT BRACKET
	CALL PERFORM,V?WEAR,PRSO
	RTRUE
?L3:	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-ESCAPE
	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT PRE-DUMB-EXAMINE
	ZERO? LIT? \?L1
	CALL1 TOO-DARK
	RTRUE
?L1:	CALL1 LOOK-INTDIR? >STACK
	ZERO? STACK \TRUE
	PRINTI "[RIDX: 256]"
	CALL1 THE-PRINT
	PRINTI "[RIDX: 257]"
	CALL1 THE-PRINT
	PRINTC 46
	PRINT BRACKET
	CALL PERFORM,V?EXAMINE,PRSO
	RTRUE

	.FUNCT V-DUMB-EXAMINE
	CALL1 V-EXAMINE
	RTRUE

	.FUNCT LOOK-INTDIR?,PTR=7,TBL,X
	EQUAL? PRSO,RIGHT,LEFT /?L10
	EQUAL? PRSO,INTDIR \FALSE
	GET DIRTABLES,0 >X
	FSET? HERE,SHADOWY \?L7
	ZERO? FLIP? \?L5
?L7:	GET DIRTABLES,1 >TBL
	JUMP ?L8
?L5:	GET DIRTABLES,2 >TBL
?L8:	GET X,PTR >STACK
	EQUAL? P-DIRECTION,STACK \?L11
	GET TBL,PTR >STACK
	GETP HERE,STACK >X
	ZERO? X /?L10
	CALL2 SEE-DIR,X
	RTRUE
?L11:	DLESS? 'PTR,0 \?L8
?L10:	GETP HERE,P?SEE-ALL >X
	ZERO? X /?L18
	CALL2 SEE-DIR,X
	RTRUE
?L18:	CALL1 NOTHING-INTERESTING
	PRINTI " in "
	PRINTD RIGHT
	PRINT PERIOD
	RTRUE

	.FUNCT SEE-DIR,X
	CALL2 THIS-IS-IT,X
	PRINT YOU-SEE
	FSET? X,NOARTICLE /?L1
	FSET? X,PLURAL /?L1
	PRINTI "the "
?L1:	PRINTD X
	PRINTR " that way."

	.FUNCT PRE-EXAMINE
	ZERO? LIT? \FALSE
	CALL1 TOO-DARK
	RETURN 2

	.FUNCT V-EXAMINE
	FSET? PRSO,OPENABLE \?L1
	PRINTI "It looks as if "
	CALL1 THE-PRINT
	CALL1 IS-ARE
	FSET? PRSO,OPENED \?L3
	PRINTI "open"
	JUMP ?L5
?L3:	PRINTI "closed"
?L5:	PRINT PERIOD
	RTRUE
?L1:	FSET? PRSO,SURFACE \?L6
	PRINT YOU-SEE
	CALL2 PRINT-CONTENTS,PRSO
	PRINTI " on "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L6:	FSET? PRSO,CONTAINER \?L7
	FSET? PRSO,OPENED /?L10
	FSET? PRSO,TRANSPARENT \?L8
?L10:	CALL1 V-LOOK-INSIDE
	RTRUE
?L8:	CALL2 ITS-CLOSED,PRSO
	RTRUE
?L7:	CALL1 LOOK-INTDIR? >STACK
	ZERO? STACK \TRUE
	FSET? PRSO,PERSON \?L13
	CALL2 SEE-ANYTHING-IN?,PRSO >STACK
	ZERO? STACK /?L13
	CALL1 CTHE-PRINT
	PRINTI " has "
	CALL2 PRINT-CONTENTS,PRSO
	PRINT PERIOD
	RTRUE
?L13:	CALL1 NOTHING-INTERESTING
	PRINTI " about "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT NOTHING-INTERESTING
	RANDOM 100 >STACK
	LESS? 50,STACK /?L1
	PRINT YOU-SEE
	PRINTI "no"
	JUMP ?L3
?L1:	PRINT DONT
	PRINTI "see any"
?L3:	PRINTI "thing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	RTRUE

	.FUNCT PRE-WATCH
	CALL1 PRE-EXAMINE >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT V-WATCH
	FSET? PRSO,PERSON \?L1
	CALL1 CTHE-PRINT
	CALL1 ISNT-ARENT
	PRINTI "doing anything "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	JUMP ?L3
?L1:	PRINTI "Nothing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINTI " is happening"
?L3:	PRINT PERIOD
	RTRUE

	.FUNCT V-EXIT,L
	EQUAL? PRSO,ROOMS \?L1
	CALL2 DO-WALK,P?OUT
	RTRUE
?L1:	LOC PRSO >L
	ZERO? L \?L4
	CALL2 DO-WALK,P?OUT
	RTRUE
?L4:	FSET? L,CONTAINER \?L6
	CALL2 VISIBLE?,PRSO >STACK
	ZERO? STACK /?L6
	PRINTI "[from "
	PRINTD L
	PRINT BRACKET
	CALL PERFORM,V?TAKE,PRSO
	RTRUE
?L6:	CALL2 DO-WALK,P?OUT
	RTRUE

	.FUNCT V-FILL
	CALL1 HOW?
	RTRUE

	.FUNCT V-FIND,L
	LOC PRSO >L
	ZERO? L \?L1
	CALL1 DO-IT-YOURSELF
	RTRUE
?L1:	EQUAL? PRSO,ME,HANDS \?L3
	PRINTR "You're right here."
?L3:	IN? PRSO,PLAYER \?L4
	PRINTR "You're holding it."
?L4:	IN? PRSO,HERE /?L6
	IN? PRSO,LOCAL-GLOBALS \?L5
	CALL GLOBAL-IN?,PRSO,HERE >STACK
	ZERO? STACK /?L5
?L6:	CALL1 ITS-RIGHT-HERE
	RTRUE
?L5:	FSET? L,PERSON /?L8
	FSET? L,LIVING \?L7
?L8:	CALL2 VISIBLE?,L >STACK
	ZERO? STACK /?L7
	CALL2 CTHE-PRINT,L
	PRINTR " has it."
?L7:	CALL2 SEE-INSIDE?,L >STACK
	ZERO? STACK /?L9
	CALL2 VISIBLE?,L >STACK
	ZERO? STACK /?L9
	CALL1 SAY-ITS
	FSET? L,SURFACE \?L10
	PRINTI "on "
	JUMP ?L12
?L10:	PRINTI "in "
?L12:	CALL2 THE-PRINT,L
	PRINT PERIOD
	RTRUE
?L9:	CALL1 DO-IT-YOURSELF
	RTRUE

	.FUNCT DO-IT-YOURSELF
	PRINTI "[RIDX: 287]"
	PRINTD ME
	PRINT PERIOD
	RTRUE

	.FUNCT ITS-RIGHT-HERE
	CALL1 SAY-ITS
	PRINTR "[RIDX: 288]"

	.FUNCT SAY-ITS
	FSET? PRSO,PLURAL \?L1
	PRINTI "They're "
	RTRUE
?L1:	FSET? PRSO,FEMALE \?L3
	PRINTI "She's "
	RTRUE
?L3:	EQUAL? PRSO,BOY,GIANT,CHARON \?L4
	PRINTI "He's "
	RTRUE
?L4:	PRINTI "It's "
	RTRUE

	.FUNCT V-FLUSH
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-FLY
	PRINT CANT
	PRINTR "possibly do that."

	.FUNCT V-FOLD
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-UNFOLD
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-UNTANGLE
	CALL1 CTHE-PRINT
	PRINTR " isn't tangled."

	.FUNCT V-FOLLOW
	ZERO? PRSO \?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	PRINTI "But "
	EQUAL? PRSO,ME \?L6
	PRINTR "you're right here."
?L6:	CALL1 THE-PRINT
	FSET? PRSO,PLURAL \?L9
	PRINTI " are"
	JUMP ?L11
?L9:	PRINTI " is"
?L11:	CALL2 VISIBLE?,PRSO >STACK
	ZERO? STACK \?L14
	IN? PRSO,GLOBAL-OBJECTS \?L12
?L14:	PRINTI " right here"
	JUMP ?L15
?L12:	PRINTI "[RIDX: 300]"
?L15:	PRINT PERIOD
	RTRUE

	.FUNCT PRE-FEED
	CALL2 PRE-GIVE,1 >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT V-FEED
	EQUAL? PRSI,ME \?L1
	PRINTI "You "
	JUMP ?L3
?L1:	CALL1 CTHEI-PRINT
	PRINTI " "
?L3:	PRINTR "can't eat that."

	.FUNCT V-SFEED
	CALL PERFORM,V?FEED,PRSI,PRSO
	RTRUE

	.FUNCT PRE-GIVE,FEED?=0
	ZERO? PRSO /?L3
	ZERO? PRSI \?L1
?L3:	CALL1 REFERRING
	RTRUE
?L1:	EQUAL? PRSO,PRSI /?L5
	IN? PRSI,GLOBAL-OBJECTS \?L4
?L5:	CALL1 IMPOSSIBLE
	RTRUE
?L4:	FSET? PRSI,LIVING /?L6
	PRINT CANT
	ZERO? FEED? /?L7
	PRINTI "feed "
	JUMP ?L9
?L7:	PRINTI "give "
?L9:	PRINTI "anything to "
	CALL2 PRINTA,PRSI
	PRINT PERIOD
	RTRUE
?L6:	EQUAL? PRSI,ME \?L17
	IN? PRSO,PLAYER \?L10
	CALL1 ALREADY-HAVE-PRSO
	RTRUE
?L10:	EQUAL? PRSI,ME /?L11
?L17:	CALL2 DONT-HAVE?,PRSO >STACK
	ZERO? STACK \TRUE
?L11:	EQUAL? PRSO,HONEY \?L12
	CALL1 HONEY-STICKS
	RTRUE
?L12:	CALL1 CRANE-LIT? >STACK
	ZERO? STACK \TRUE
	CALL1 CRUMBS-GONE? >STACK
	ZERO? STACK \TRUE
	FSET? PRSO,WORN \FALSE
	IN? PRSO,PLAYER \FALSE
	CALL1 TAKE-OFF-PRSO-FIRST
	RFALSE

	.FUNCT CRUMBS-GONE?
	CALL1 SAID-CRUMBS? >STACK
	ZERO? STACK /FALSE
	EQUAL? PRSO,BAG \?L3
	CALL1 TAKE-CRUMBS
	RTRUE
?L3:	EQUAL? PRSO,EBAG,SOGGY \FALSE
	PRINTR "[RIDX: 308]"

	.FUNCT V-SGIVE
	CALL PERFORM,V?GIVE,PRSI,PRSO
	RTRUE

	.FUNCT V-GIVE
	EQUAL? PRSI,ME \?L1
	CALL1 NOBODY-TO-ASK
	RTRUE
?L1:	FSET? PRSO,PERSON \?L3
	CALL1 CTHEI-PRINT
	PRINTI "[RIDX: 309]"
	CRLF
	FSET? PRSO,SHARPENED /?L4
	PUSH 0
	JUMP ?L5
?L4:	PUSH 1
?L5:	CALL PRINT-ID,STR?84,STACK
	RTRUE
?L3:	CALL NOT-LIKELY,PRSI,STR?85
	RTRUE

	.FUNCT V-SELL
	EQUAL? WINNER,PLAYER /?L1
	CALL NOT-LIKELY,WINNER,STR?86
	RTRUE
?L1:	EQUAL? PRSI,PRSO,ME,WINNER \?L3
	CALL1 IMPOSSIBLE
	RTRUE
?L3:	FSET? PRSI,PERSON /?L4
	CALL NOT-LIKELY,PRSI,STR?87
	RTRUE
?L4:	CALL2 NOT-A,STR?88
	RTRUE

	.FUNCT V-SSELL
	CALL PERFORM,V?SELL,PRSI,PRSO
	RTRUE

	.FUNCT PRE-SHOW
	ZERO? PRSO /?L3
	ZERO? PRSI \?L1
?L3:	CALL1 REFERRING
	RTRUE
?L1:	EQUAL? PRSO,PRSI /?L5
	IN? PRSI,GLOBAL-OBJECTS \?L4
?L5:	CALL1 IMPOSSIBLE
	RTRUE
?L4:	FSET? PRSI,LIVING /?L6
	PRINT CANT
	PRINTI "show things to "
	CALL2 PRINTA,PRSI
	PRINT PERIOD
	RTRUE
?L6:	EQUAL? PRSI,ME \?L10
	IN? PRSO,PLAYER \?L7
	CALL1 ALREADY-HAVE-PRSO
	RTRUE
?L7:	EQUAL? PRSI,ME /FALSE
?L10:	CALL2 DONT-HAVE?,PRSO >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT V-SSHOW
	CALL PERFORM,V?SHOW,PRSI,PRSO
	RTRUE

	.FUNCT V-SHOW
	CALL1 CTHEI-PRINT
	PRINTI " glances at "
	CALL1 THE-PRINT
	PRINTR "[RIDX: 317]"

	.FUNCT V-REFUSE
	FSET? PRSO,TAKEABLE /?L1
	CALL1 WASTE-OF-TIME
	RTRUE
?L1:	PRINTI "[RIDX: 318]"
	PRINTD PRSO
	PRINTR "?"

	.FUNCT V-HIDE
	PRINTR "[RIDX: 320]"

	.FUNCT V-KICK
	CALL1 IS-POPA? >STACK
	CALL PRINT-ID,STR?89,STACK
	CALL1 IS-SELF? >STACK
	CALL PRINT-ID,STR?90,STACK
	CALL2 HACK-HACK,STR?91
	RTRUE

	.FUNCT V-BOUNCE
	EQUAL? PRSO,ROOMS \?L1
	CALL1 WASTE-OF-TIME
	RTRUE
?L1:	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-KILL
	CALL1 IS-PERSON? >STACK
	CALL PRINT-ID,STR?92,STACK
	CALL1 IS-ANIMAL? >STACK
	CALL PRINT-ID,STR?93,STACK
	CALL1 IS-SOPOS? >STACK
	CALL PRINT-ID,STR?94,STACK
	FSET? PRSO,LIVING /?L1
	PRINT CANT
	PRINTI "possibly attack "
	CALL2 PRINTA,PRSO
	EQUAL? PRSI,0,HANDS /?L3
	PRINTI ", even with "
	CALL2 PRINTA,PRSI
?L3:	PRINT PERIOD
	RTRUE
?L1:	CALL1 V-HIT
	RTRUE

	.FUNCT V-HIT
	PRINTI "Attacking "
	CALL1 THE-PRINT
	CALL1 IS-POPA? >STACK
	CALL PRINT-ID,STR?95,STACK
	CALL1 IS-SELF? >STACK
	CALL PRINT-ID,STR?96,STACK
	EQUAL? PRSI,0,HANDS /?L1
	PRINTI " with "
	CALL2 PRINTA,PRSI
?L1:	CALL1 WONT-HELP
	RTRUE

	.FUNCT V-KNOCK
	FSET? PRSO,DOORLIKE \?L1
	FSET? PRSO,OPENED \?L3
	CALL2 ITS-ALREADY,STR?70
	RTRUE
?L3:	PRINTR "There's no answer."
?L1:	FSET? PRSO,PERSON \?L6
	CALL PERFORM,V?USE,PRSO
	RTRUE
?L6:	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT V-KISS
	CALL1 IS-PERSON? >STACK
	CALL PRINT-ID,STR?97,STACK
	CALL1 IS-OBJECT-OR-PROPERTY? >STACK
	CALL PRINT-ID,STR?98,STACK
	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT V-LAMP-OFF
	CALL2 V-LAMP-ON,1
	RTRUE

	.FUNCT V-LAMP-ON,OFF?=0
	PRINTI "[RIDX: 338]"
	ZERO? OFF? /?L1
	PRINTI "off"
	JUMP ?L3
?L1:	PRINTI "on"
?L3:	EQUAL? PRSI,0,HANDS /?L4
	PRINTI ", "
	PRINTD PRSI
	PRINTI " or no "
	PRINTD PRSI
?L4:	PRINT PERIOD
	RTRUE

	.FUNCT V-LEAP
	EQUAL? PRSO,ROOMS /?L1
	PRINTR "[RIDX: 343]"
?L1:	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT V-LEAVE
	EQUAL? PRSO,ROOMS /?L3
	FSET? PRSO,TAKEABLE /?L1
?L3:	CALL2 DO-WALK,P?OUT
	RTRUE
?L1:	CALL2 DONT-HAVE?,PRSO >STACK
	ZERO? STACK \TRUE
	CALL PERFORM,V?DROP,PRSO
	RTRUE

	.FUNCT V-SLEEP
	CALL1 V-LIE-DOWN
	RTRUE

	.FUNCT V-LIE-DOWN
	PRINTR "[RIDX: 344]"

	.FUNCT V-LISTEN,OBJ=0
	EQUAL? HERE,IN-ORBIT \?L1
	ZERO? SUITED? \?L1
	CALL1 DONT-PROPAGATE
	RTRUE
?L1:	EQUAL? PRSO,ROOMS,SOUND,SKY \?L3
	ZERO? RAID? /?L4
	CALL PERFORM,V?LISTEN,SIRENS
	RTRUE
?L4:	GETP HERE,P?HEAR >OBJ
	ZERO? OBJ \?L7
	IN? BEE,HERE \?L9
	CALL PERFORM,V?LISTEN,BEE
	RTRUE
?L9:	EQUAL? HERE,SBOG,NBOG \?L11
	CALL1 HEAR-DRIPPING
	RTRUE
?L11:	CALL2 VISIBLE?,WTK >STACK
	ZERO? STACK /?L12
	FSET? WSWITCH,OPENED /?L12
	CALL PERFORM,V?LISTEN,WTK
	RTRUE
?L12:	PRINT DONT
	PRINTI "hear anything "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L7:	CALL PERFORM,V?LISTEN,OBJ
	RTRUE
?L3:	PRINTI "At the moment, "
	CALL1 THE-PRINT
	CALL1 IS-ARE
	PRINTR "silent."

	.FUNCT V-LOCK
	FSET? PRSO,OPENABLE /?L3
	FSET? PRSO,CONTAINER \?L1
?L3:	FSET? PRSO,OPENED \?L4
	CALL YOUD-HAVE-TO,STR?99,PRSO
	RTRUE
?L4:	FSET? PRSO,LOCKED \?L6
	CALL1 CTHE-PRINT
	CALL1 IS-ARE
	PRINTR "already locked."
?L6:	CALL THING-WONT-LOCK,PRSI,PRSO
	RTRUE
?L1:	CALL1 CANT-LOCK
	RTRUE

	.FUNCT V-UNLOCK
	FSET? PRSO,OPENABLE /?L3
	FSET? PRSO,CONTAINER \?L1
?L3:	FSET? PRSO,OPENED /?L6
	FSET? PRSO,LOCKED /?L4
?L6:	CALL1 CTHE-PRINT
	CALL1 ISNT-ARENT
	PRINTR "locked."
?L4:	CALL THING-WONT-LOCK,PRSI,PRSO,1
	RTRUE
?L1:	CALL2 CANT-LOCK,1
	RTRUE

	.FUNCT CANT-LOCK,UN?=0
	PRINT CANT
	ZERO? UN? /?L1
	PRINTI "un"
?L1:	PRINTI "lock "
	CALL2 PRINTA,PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT THING-WONT-LOCK,THING,CLOSED-THING,UN?=0
	CALL2 CTHE-PRINT,THING
	PRINTI " won't "
	ZERO? UN? /?L1
	PRINTI "un"
?L1:	PRINTI "lock "
	CALL2 THE-PRINT,CLOSED-THING
	PRINT PERIOD
	RTRUE

	.FUNCT V-SCREW
	PRINT CANT
	PRINTI "screw "
	CALL1 THE-PRINT
	PRINTI " into "
	CALL1 THEI-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT V-SCREW-WITH
	CALL NOT-LIKELY,PRSI,STR?100
	RTRUE

	.FUNCT V-UNSCREW
	PRINT CANT
	PRINTI "unscrew "
	CALL1 THE-PRINT
	EQUAL? PRSI,HANDS /?L1
	PRINTI ", with or without "
	CALL1 THEI-PRINT
?L1:	PRINT PERIOD
	RTRUE

	.FUNCT V-UNSCREW-FROM
	EQUAL? PRSO,PRSI \?L1
	CALL1 IMPOSSIBLE
	RTRUE
?L1:	IN? PRSO,PRSI /?L3
	FSET? PRSI,LIVING \?L4
	CALL1 CTHEI-PRINT
	PRINTI " doesn't have "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L4:	CALL1 CTHE-PRINT
	CALL1 ISNT-ARENT
	FSET? PRSI,SURFACE \?L7
	PRINTI "on "
	JUMP ?L9
?L7:	PRINTI "in "
?L9:	CALL1 THEI-PRINT
	PRINT PERIOD
	RTRUE
?L3:	IN? SDRIVER,PLAYER \?L10
	PRINTI "[with the "
	PRINTD SDRIVER
	PRINT BRACKET
	CALL PERFORM,V?UNSCREW,PRSO,SDRIVER
	RTRUE
?L10:	PRINT CANT
	PRINTI "unscrew "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT V-UNTIE
	PRINT CANT
	PRINTB P-PRSA-WORD
	PRINTC 32
	CALL2 PRINTA,PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT V-LOOK
	CALL2 DESCRIBE-ROOM,1 >STACK
	ZERO? STACK /TRUE
	CALL1 DESCRIBE-OBJECTS
	CALL1 MENTION-PRAM
	RTRUE

	.FUNCT MENTION-PRAM
	EQUAL? HERE,DEATH,THE-END /TRUE
	IN? PRAM,PLAYER \TRUE
	SET 'P-IT-OBJECT,PRAM
	CRLF
	CALL2 CTHE-PRINT,PRAM
	PRINTR " rolls to a stop."

	.FUNCT V-LOOK-ON
	ZERO? LIT? \?L1
	CALL1 TOO-DARK
	RETURN 2
?L1:	FSET? PRSO,SURFACE \?L5
	PRINT YOU-SEE
	CALL2 PRINT-CONTENTS,PRSO
	PRINTI " on "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L5:	FSET? PRSO,READABLE \?L6
	CALL1 CTHE-PRINT
	PRINTR " is undecipherable."
?L6:	CALL1 NOTHING-INTERESTING
	PRINTI " on "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT V-LOOK-BEHIND
	ZERO? LIT? \?L1
	CALL1 TOO-DARK
	RETURN 2
?L1:	FSET? PRSO,DOORLIKE \?L5
	FSET? PRSO,OPENED \?L6
	CALL1 CANT-SEE-MUCH
	RTRUE
?L6:	CALL2 ITS-CLOSED,PRSO
	RTRUE
?L5:	PRINTI "[RIDX: 373]"
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT V-LOOK-DOWN
	ZERO? LIT? \?L1
	CALL1 TOO-DARK
	RTRUE
?L1:	EQUAL? PRSO,ROOMS \?L3
	EQUAL? HERE,OSSUARY \?L4
	CALL PERFORM,V?EXAMINE,BONES
	RTRUE
?L4:	EQUAL? HERE,CLIFF-EDGE \?L6
	CALL1 LOOK-DOWN-TCLIFF
	RTRUE
?L6:	EQUAL? HERE,ON-CIST,IN-CIST,UNDER-WATER \?L7
	CALL1 LOOK-IN-RWATER
	RTRUE
?L7:	EQUAL? HERE,IN-MILL \?L8
	PRINT YOU-SEE
	CALL2 THE-PRINT,RESERVOIR
	PRINTR " down below."
?L8:	EQUAL? HERE,IN-JEEP \?L9
	CALL1 V-LOOK
	RTRUE
?L9:	EQUAL? HERE,TOWER-PLAT,ON-TOWER \?L10
	CALL1 LOOK-AT-ZERO
	RTRUE
?L10:	EQUAL? HERE,IN-SHACK \?L11
	CALL1 CANT-SEE-MUCH
	RTRUE
?L11:	EQUAL? HERE,ON-PLATFORM \?L12
	CALL1 CANT-SEE-MUCH
	RTRUE
?L12:	FSET? HERE,CHILLY \?L13
	EQUAL? HERE,ICE-CAVE,ON-GNOMON,HALFWAY /?L13
	FSET? RODENTS,TOUCHED /?L13
	CALL PERFORM,V?EXAMINE,RATS
	RTRUE
?L13:	FSET? HERE,INDOORS \?L15
	PUSH FLOOR
	JUMP ?L17
?L15:	PUSH GROUND
?L17:	CALL PERFORM,V?EXAMINE,STACK
	RTRUE
?L3:	CALL PERFORM,V?LOOK-INSIDE,PRSO
	RTRUE

	.FUNCT V-LOOK-UP,X=0
	ZERO? LIT? \?L1
	CALL1 TOO-DARK
	RETURN 2
?L1:	EQUAL? PRSO,ROOMS \?L5
	GETP HERE,P?OVERHEAD >X
	ZERO? X /?L6
	CALL PERFORM,V?EXAMINE,X
	RTRUE
?L6:	CALL1 NOTHING-INTERESTING
	PRINT PERIOD
	RTRUE
?L5:	PRINT CANT
	PRINTI "look up "
	CALL2 PRINTA,PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT V-LOOK-INSIDE
	ZERO? LIT? \?L1
	CALL1 TOO-DARK
	RTRUE
?L1:	FSET? PRSO,PERSON \?L3
	CALL2 NOT-A,STR?101
	RTRUE
?L3:	FSET? PRSO,LIVING \?L4
	CALL2 NOT-A,STR?102
	RTRUE
?L4:	FSET? PRSO,CONTAINER \?L5
	FSET? PRSO,OPENED /?L6
	FSET? PRSO,TRANSPARENT /?L6
	CALL2 ITS-CLOSED,PRSO
	RTRUE
?L6:	PRINT YOU-SEE
	CALL2 PRINT-CONTENTS,PRSO
	PRINTI " in "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L5:	FSET? PRSO,DOORLIKE \?L9
	FSET? PRSO,OPENED \?L10
	CALL1 CANT-SEE-MUCH
	RTRUE
?L10:	CALL2 ITS-CLOSED,PRSO
	RTRUE
?L9:	PRINT CANT
	PRINTI "look inside "
	CALL2 PRINTA,PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT V-LOOK-OUTSIDE
	ZERO? LIT? \?L1
	CALL1 TOO-DARK
	RTRUE
?L1:	EQUAL? PRSO,ROOMS \?L3
	EQUAL? HERE,TUN1,TUN2,TUN3 /?L6
	EQUAL? HERE,IN-CLOSET,UNDER-WATER,WABE /?L6
	EQUAL? HERE,IHOUSE,ARBOR-TOP,NORTH-ARBOR /?L6
	EQUAL? HERE,SOUTH-ARBOR \?L4
?L6:	CALL1 CANT-SEE-MUCH
	RTRUE
?L4:	FSET? HERE,INDOORS \?L7
	CALL1 NOTHING-INTERESTING
	PRINTR " outside."
?L7:	PRINT YOURE-ALREADY
	PRINTR "outside."
?L3:	FSET? PRSO,DOORLIKE \?L9
	FSET? PRSO,OPENED \?L10
	CALL1 CANT-SEE-MUCH
	RTRUE
?L10:	CALL2 ITS-CLOSED,PRSO
	RTRUE
?L9:	PRINT CANT
	PRINTI "look out of "
	CALL2 PRINTA,PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT V-SLOOK-THRU
	CALL PERFORM,V?LOOK-THRU,PRSI,PRSO
	RTRUE

	.FUNCT V-LOOK-THRU
	ZERO? LIT? \?L1
	CALL1 TOO-DARK
	RETURN 2
?L1:	ZERO? PRSI /?L5
	FSET? PRSI,TRANSPARENT /?L5
	PRINT CANT
	PRINTR "look through that."
?L5:	CALL1 NOTHING-INTERESTING
	PRINT PERIOD
	RTRUE

	.FUNCT V-LOOK-UNDER
	ZERO? LIT? \?L1
	CALL1 TOO-DARK
	RETURN 2
?L1:	CALL1 NOTHING-INTERESTING
	PRINTI " under "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT V-WEDGE
	CALL PERFORM,V?LOOSEN,PRSI,PRSO
	RTRUE

	.FUNCT V-LOOSEN
	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT V-LOWER
	EQUAL? PRSO,ROOMS \?L1
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L1:	CALL1 V-RAISE
	RTRUE

	.FUNCT V-MAKE
	CALL1 HOW?
	RTRUE

	.FUNCT V-MELT
	CALL1 IS-PERSON? >STACK
	CALL PRINT-ID,STR?103,STACK
	CALL1 IS-OBJ-PROP-ANIMAL? >STACK
	CALL PRINT-ID,STR?104,STACK
	CALL1 IS-SOPOS? >STACK
	CALL PRINT-ID,STR?105,STACK
	CALL1 HOW?
	RTRUE

	.FUNCT V-MOVE
	EQUAL? PRSO,ROOMS \?L1
	CALL1 V-WALK-AROUND
	RTRUE
?L1:	FSET? PRSO,TAKEABLE \?L3
	PRINTI "Moving "
	CALL1 THE-PRINT
	PRINTI " would"
	CALL2 PICK-NEXT,HO-HUM >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L3:	PRINT CANT
	PRINTI "possibly move "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT V-MUNG
	CALL1 IS-POPA? >STACK
	CALL PRINT-ID,STR?106,STACK
	CALL1 IS-SOPOS? >STACK
	CALL PRINT-ID,STR?107,STACK
	CALL2 HACK-HACK,STR?108
	RTRUE

	.FUNCT V-PAY
	CALL PERFORM,V?GIVE,PRSI,PRSO
	RTRUE

	.FUNCT V-PLAY
	EQUAL? PRSO,ROOMS \?L1
	CALL1 WASTE-OF-TIME
	RTRUE
?L1:	CALL2 HACK-HACK,STR?109
	RTRUE

	.FUNCT V-PICK
	FSET? PRSO,OPENABLE \?L1
	CALL2 NOT-A,STR?110
	RTRUE
?L1:	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-POINT,M=0,F=0
	CALL2 VISIBLE?,MEEP >STACK
	ZERO? STACK /?L1
	SET 'M,1
	JUMP ?L3
?L1:	CALL2 VISIBLE?,FLIPPER >STACK
	ZERO? STACK /?L3
	SET 'F,1
?L3:	EQUAL? PRSO,MEEP,FLIPPER /?L9
	EQUAL? PRSI,FLIPPER /?L8
	ZERO? PRSI \?L7
	ZERO? F /?L7
?L8:	CALL2 SHOW-TO-FLIPPER,PRSO
	RTRUE
?L7:	EQUAL? PRSI,MEEP /?L10
	ZERO? PRSI \?L21
	ZERO? M /?L9
?L10:	CALL2 SHOW-TO-MEEP,PRSO
	RTRUE
?L9:	ZERO? PRSI /?L12
?L21:	FSET? PRSI,PERSON \?L14
	CALL1 CTHEI-PRINT
	EQUAL? PRSO,PRSI \?L16
	PRINTR " looks confused."
?L16:	PRINTI " glances at "
	CALL1 THE-PRINT
	PRINTR "[RIDX: 403]"
?L14:	CALL NOT-LIKELY,PRSI,STR?45
	RTRUE
?L12:	PRINTI "You point at "
	CALL1 THE-PRINT
	PRINTI ", but nothing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINTR " happens."

	.FUNCT V-SSHINE-AT
	CALL PERFORM,V?SHINE-AT,PRSI,PRSO
	RTRUE

	.FUNCT V-SHINE-AT
	PRINT CANT
	PRINTI "[RIDX: 408]"
	CALL2 PRINTA,PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT V-SPOINT-AT
	CALL PERFORM,V?POINT-AT,PRSI,PRSO
	RTRUE

	.FUNCT V-POINT-AT
	IN? FLIPPER,HERE \?L1
	EQUAL? PRSI,FLIPPER /?L1
	CALL2 SHOW-TO-FLIPPER,PRSI
	RTRUE
?L1:	PRINTI "You "
	PRINTB P-PRSA-WORD
	PRINTC 32
	CALL1 THE-PRINT
	PRINTI " at "
	CALL1 THEI-PRINT
	PRINTI ", but nothing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINTR " happens."

	.FUNCT V-POP
	PRINT CANT
	PRINTB P-PRSA-WORD
	PRINTC 32
	CALL2 PRINTA,PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT V-POUR
	EQUAL? PRSO,HANDS \?L1
	PRINTI "[RIDX: 413]"
	CRLF
	RETURN 2
?L1:	EQUAL? PRSO,POCKET \?L5
	CALL YOUD-HAVE-TO,STR?111,CLOTHES
	RTRUE
?L5:	FSET? PRSO,SURFACE \?L6
	CALL2 EMPTY-PRSO,GROUND
	RTRUE
?L6:	FSET? PRSO,CONTAINER \?L7
	FSET? PRSO,OPENED \?L8
	CALL2 EMPTY-PRSO,GROUND
	RTRUE
?L8:	CALL1 ITS-CLOSED
	RTRUE
?L7:	PRINT CANT
	PRINTR "empty that."

	.FUNCT V-POUR-FROM
	EQUAL? PRSI,HANDS \?L1
	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L1:	EQUAL? PRSI,POCKET \?L3
	CALL YOUD-HAVE-TO,STR?111,CLOTHES
	RTRUE
?L3:	FSET? PRSI,CONTAINER /?L11
	FSET? PRSI,SURFACE /?L4
	PRINT CANT
	PRINTB P-PRSA-WORD
	PRINTI " things from "
	CALL2 PRINTA,PRSI
	PRINT PERIOD
	RTRUE
?L4:	FSET? PRSI,CONTAINER \?L5
?L11:	FSET? PRSI,OPENED /?L5
	CALL2 ITS-CLOSED,PRSI
	RTRUE
?L5:	IN? PRSO,PRSI \?L6
	FSET? PRSO,TAKEABLE \?L7
	CALL1 CTHE-PRINT
	PRINTC 32
	CALL1 LANDS-AT-YOUR-FEET
	RTRUE
?L7:	CALL1 IMPOSSIBLE
	RTRUE
?L6:	CALL1 CTHE-PRINT
	PRINTI " isn't in "
	CALL1 THEI-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT V-EMPTY-INTO
	EQUAL? PRSI,HANDS,ME \?L1
	CALL2 V-EMPTY,PLAYER
	RTRUE
?L1:	EQUAL? PRSI,GROUND,FLOOR \?L3
	CALL2 V-EMPTY,PRSI
	RTRUE
?L3:	FSET? PRSI,SURFACE \?L4
	CALL2 V-EMPTY,PRSI
	RTRUE
?L4:	FSET? PRSI,CONTAINER \?L5
	FSET? PRSI,OPENED \?L6
	CALL2 V-EMPTY,PRSI
	RTRUE
?L6:	CALL2 ITS-CLOSED,PRSI
	RTRUE
?L5:	PRINT CANT
	PRINTI "empty "
	CALL1 THE-PRINT
	PRINTI " into "
	CALL1 THEI-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT V-EMPTY,DEST=0
	ZERO? DEST \?L1
	SET 'DEST,PLAYER
?L1:	FSET? PRSO,SURFACE \?L4
	CALL2 EMPTY-PRSO,DEST
	RTRUE
?L4:	FSET? PRSO,CONTAINER \?L6
	FSET? PRSO,OPENED \?L7
	CALL2 EMPTY-PRSO,DEST
	RTRUE
?L7:	CALL2 ITS-CLOSED,PRSO
	RTRUE
?L6:	PRINT CANT
	PRINTI "possibly empty "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT EMPTY-PRSO,DEST,OBJ,NXT,X,?TMP
	FIRST? PRSO >OBJ /?L2
	PRINTI "There's nothing "
	FSET? PRSO,SURFACE \?L4
	PRINTI "on "
	JUMP ?L6
?L4:	PRINTI "in "
?L6:	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L2:	SET 'P-MULT?,1
?L8:	FSET? OBJ,NOARTICLE /?L10
	PRINTI "The "
?L10:	PRINTD OBJ
	PRINTI ": "
	EQUAL? DEST,PLAYER \?L13
	CALL PERFORM,V?TAKE,OBJ,PRSO >X
	EQUAL? X,M-FATAL \?L26
	JUMP ?L9
?L13:	EQUAL? DEST,GROUND,FLOOR \?L18
	FSET? PRSO,PLURAL \?L19
	PRINTI "They "
	JUMP ?L21
?L19:	PRINTI "It "
?L21:	CALL1 LANDS-AT-YOUR-FEET
	JUMP ?L26
?L18:	CALL2 WEIGHT,DEST >?TMP
	CALL2 WEIGHT,OBJ >STACK
	ADD ?TMP,STACK >?TMP
	GETP DEST,P?SIZE >STACK
	SUB ?TMP,STACK >?TMP
	GETP DEST,P?CAPACITY >STACK
	GRTR? ?TMP,STACK \?L22
	PRINTI "[RIDX: 431]"
	FSET? DEST,CONTAINER \?L23
	PRINTI "in "
	JUMP ?L25
?L23:	PRINTI "on "
?L25:	CALL2 THE-PRINT,DEST
	PRINT PERIOD
	JUMP ?L26
?L22:	MOVE OBJ,DEST
	PRINTI "Done."
	CRLF
?L26:	SET 'OBJ,NXT
	ZERO? OBJ \?L8
?L9:	SET 'P-MULT?,0
	RTRUE

	.FUNCT V-PULL
	CALL2 HACK-HACK,STR?112
	RTRUE

	.FUNCT V-PUSH
	CALL1 IS-PERSON? >STACK
	CALL PRINT-ID,STR?113,STACK
	CALL2 HACK-HACK,STR?114
	RTRUE

	.FUNCT V-PUSH-TO
	EQUAL? PRSO,HANDS \?L1
	ZERO? PRSI /?L1
	CALL PERFORM,V?REACH-IN,PRSI
	RTRUE
?L1:	PRINT CANT
	PRINTI "push "
	CALL1 THE-PRINT
	PRINTR " around like that."

	.FUNCT PRE-POCKET
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK \TRUE
	IN? PRSO,GLOBAL-OBJECTS \?L3
	CALL1 IMPOSSIBLE
	RTRUE
?L3:	IN? PRSO,POCKET \FALSE
	CALL1 CTHE-PRINT
	CALL1 IS-ARE
	PRINTI "already in "
	PRINTD POCKET
	PRINT PERIOD
	RTRUE

	.FUNCT V-POCKET
	CALL PERFORM,V?PUT,PRSO,POCKET
	RTRUE

	.FUNCT PRE-PUT
	EQUAL? PRSO,CLOTHES \?L1
	CALL1 INAPPROPRIATE
	RTRUE
?L1:	EQUAL? PRSO,PRSI \?L3
	EQUAL? PRSO,BAG \?L4
	GET P-NAMW,0 >STACK
	CALL2 CRUMBS?,STACK >STACK
	ZERO? STACK /?L4
	PRINTR "[RIDX: 441]"
?L4:	CALL1 HOW?
	RTRUE
?L3:	EQUAL? PRSI,INTDIR,RIGHT,LEFT \?L7
	PRINTR "[RIDX: 442]"
?L7:	EQUAL? PRSI,HANDS \?L8
	CALL NOT-LIKELY,PRSO,STR?115
	RTRUE
?L8:	EQUAL? FEET,PRSO,PRSI \?L9
	EQUAL? GBOOT,PRSO,PRSI /FALSE
	EQUAL? RBOOT,PRSO,PRSI /FALSE
	CALL1 WASTE-OF-TIME
	RTRUE
?L9:	IN? PRSI,GLOBAL-OBJECTS \?L14
	CALL1 IMPOSSIBLE
	RTRUE
?L14:	EQUAL? PRSO,HANDS \?L15
	CALL PERFORM,V?REACH-IN,PRSI
	RTRUE
?L15:	IN? PRSO,PRSI \?L16
	CALL1 CTHE-PRINT
	CALL1 IS-ARE
	PRINTI "already "
	FSET? PRSI,SURFACE \?L17
	PRINTI "o"
	JUMP ?L19
?L17:	PRINTI "i"
?L19:	PRINTI "n "
	CALL1 THEI-PRINT
	PRINT PERIOD
	RTRUE
?L16:	CALL1 CRUMBS-GONE? >STACK
	ZERO? STACK \TRUE
	EQUAL? PRSO,HONEY \?L21
	CALL1 HONEY-STICKS
	RTRUE
?L21:	EQUAL? PRSO,ICE \?L22
	EQUAL? PRSA,V?THROW,V?THROW-OVER \?L22
	CALL1 SHATTER-ICE
	RTRUE
?L22:	CALL1 CRANE-LIT? >STACK
	ZERO? STACK \TRUE
	EQUAL? PRSO,PRSI /?L25
	IN? PRSO,GLOBAL-OBJECTS /?L25
	FSET? PRSO,TAKEABLE /?L24
?L25:	CALL1 IMPOSSIBLE
	RTRUE
?L24:	CALL2 ACCESSIBLE?,PRSI >STACK
	ZERO? STACK \?L26
	CALL2 CANT-SEE-ANY,PRSI
	RTRUE
?L26:	FSET? PRSO,WORN \FALSE
	IN? PRSO,PLAYER \FALSE
	EQUAL? PRSI,ME /FALSE
	CALL1 TAKE-OFF-PRSO-FIRST
	RFALSE

	.FUNCT CRANE-LIT?
	EQUAL? PRSO,CRANE \FALSE
	FSET? PRSO,LIGHTED \FALSE
	PRINTI "You hesitate as the "
	PRINTD PRSO
	PRINTR " glows brighter."

	.FUNCT TAKE-OFF-PRSO-FIRST
	FCLEAR PRSO,WORN
	PRINTI "[taking off "
	CALL1 THE-PRINT
	PRINTI " first"
	PRINT BRACKET
	RTRUE

	.FUNCT PRE-PUT-ON
	CALL1 PRE-PUT >STACK
	ZERO? STACK \TRUE
	FSET? PRSI,SURFACE /FALSE
	CALL1 NO-GOOD-SURFACE
	RTRUE

	.FUNCT NO-GOOD-SURFACE
	PRINTI "There's no good "
	PRINTD CSURFACE
	PRINTI " on "
	CALL1 THEI-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT V-PUT-ON
	EQUAL? PRSI,ME \?L1
	CALL PERFORM,V?WEAR,PRSO
	RTRUE
?L1:	CALL1 V-PUT
	RTRUE

	.FUNCT V-PUT,L,?TMP
	LOC PRSO >L
	ZERO? L /?L3
	ZERO? PRSI /?L1
	FSET? PRSI,SURFACE /?L1
	FSET? PRSI,CONTAINER /?L1
	FSET? PRSI,OPENED /?L4
	FSET? PRSI,OPENABLE /?L1
?L3:	CALL1 IMPOSSIBLE
	RTRUE
?L1:	FSET? PRSI,OPENED /?L4
	FSET? PRSI,SURFACE /?L4
	CALL2 THIS-IS-IT,PRSI
	CALL1 CTHEI-PRINT
	CALL2 ISNT-ARENT,PRSI
	PRINTR "open."
?L4:	CALL2 WEIGHT,PRSI >?TMP
	CALL2 WEIGHT,PRSO >STACK
	ADD ?TMP,STACK >?TMP
	GETP PRSI,P?SIZE >STACK
	SUB ?TMP,STACK >?TMP
	GETP PRSI,P?CAPACITY >STACK
	GRTR? ?TMP,STACK \?L5
	PRINTI "[RIDX: 431]"
	FSET? PRSI,CONTAINER \?L6
	PRINTI "in "
	JUMP ?L8
?L6:	PRINTI "on "
?L8:	CALL1 THEI-PRINT
	PRINT PERIOD
	RTRUE
?L5:	EQUAL? L,PLAYER /?L9
	PRINTI "[RIDX: 459]"
	CALL1 THE-PRINT
	FSET? L,SURFACE \?L10
	PRINTI " off "
	JUMP ?L12
?L10:	PRINTI " out of "
?L12:	CALL2 THE-PRINT,L
	PRINTR " first."
?L9:	MOVE PRSO,PRSI
	FSET PRSO,TOUCHED
	ZERO? P-MULT? /?L14
	PRINTI "Done."
	CRLF
	JUMP ?L16
?L14:	PRINTI "You put "
	CALL1 THE-PRINT
	FSET? PRSI,CONTAINER \?L17
	PRINTI " in "
	JUMP ?L19
?L17:	PRINTI " on "
?L19:	CALL1 THEI-PRINT
	PRINT PERIOD
?L16:	EQUAL? PRSI,POCKET \TRUE
	EQUAL? PRSO,LEM,SKINK \TRUE
	CRLF
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 467]"

	.FUNCT V-PLUG
	PRINT CANT
	PRINTB P-PRSA-WORD
	PRINTC 32
	CALL1 THE-PRINT
	PRINTI " into "
	ZERO? PRSI /?L1
	CALL1 THEI-PRINT
	JUMP ?L3
?L1:	PRINTI "anything"
?L3:	PRINT PERIOD
	RTRUE

	.FUNCT V-UNPLUG
	CALL1 CTHE-PRINT
	CALL1 ISNT-ARENT
	PRINTI "connected to "
	ZERO? PRSI /?L1
	CALL1 THEI-PRINT
	JUMP ?L3
?L1:	PRINTI "anything"
?L3:	PRINT PERIOD
	RTRUE

	.FUNCT V-PUT-BEHIND
	PRINTR "[RIDX: 472]"

	.FUNCT V-PUT-UNDER
	PRINT CANT
	PRINTR "[RIDX: 473]"

	.FUNCT V-RAPE
	PRINTI "[RIDX: 474]"
	CRLF
	CALL1 IS-PERSON? >STACK
	CALL PRINT-ID,STR?116,STACK
	CALL1 IS-ANIMAL? >STACK
	CALL PRINT-ID,STR?117,STACK
	RTRUE

	.FUNCT V-RAISE
	EQUAL? PRSO,ROOMS \?L1
	CALL1 V-STAND
	RTRUE
?L1:	CALL2 HACK-HACK,STR?118
	RTRUE

	.FUNCT V-REACH-IN,OBJ
	FIRST? PRSO >OBJ /?L1
?L1:	FSET? PRSO,PERSON /?L4
	FSET? PRSO,LIVING \?L2
?L4:	CALL2 NOT-A,STR?101
	RTRUE
?L2:	FSET? PRSO,DOORLIKE \?L5
	FSET? PRSO,OPENED \?L6
	PRINTI "You reach into "
	CALL1 THE-PRINT
	PRINTI "[RIDX: 481]"
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L6:	CALL1 ITS-CLOSED
	RTRUE
?L5:	FSET? PRSO,CONTAINER /?L9
	CALL1 IMPOSSIBLE
	RTRUE
?L9:	FSET? PRSO,OPENED /?L10
	PRINTR "It's not open."
?L10:	ZERO? OBJ /?L12
	FSET? OBJ,TAKEABLE /?L11
?L12:	PRINTR "It's empty."
?L11:	SET 'P-IT-OBJECT,OBJ
	PRINTI "You reach into "
	CALL1 THE-PRINT
	PRINTR " and feel something."

	.FUNCT V-READ
	ZERO? LIT? \?L1
	CALL1 TOO-DARK
	RETURN 2
?L1:	FSET? PRSO,READABLE /?L5
	CALL1 HOW-READ
	PRINTR "?"
?L5:	PRINTR "[RIDX: 487]"

	.FUNCT V-READ-TO
	ZERO? LIT? \?L1
	CALL1 TOO-DARK
	RETURN 2
?L1:	FSET? PRSO,READABLE /?L5
	CALL1 HOW-READ
	PRINTI " to "
	CALL2 PRINTA,PRSI
	PRINTR "?"
?L5:	EQUAL? WINNER,PLAYER \?L6
	CALL NOT-LIKELY,PRSI,STR?119
	RTRUE
?L6:	PRINTR "[RIDX: 491]"

	.FUNCT HOW-READ
	PRINTI "How can you read "
	CALL2 PRINTA,PRSO
	RTRUE

	.FUNCT V-RELEASE
	IN? PRSO,WINNER \?L1
	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L1:	IN? PRSO,CAGE \?L3
	FSET? CAGE,OPENED \?L4
	CALL2 CTHE-PRINT,CAGE
	PRINTR " isn't closed."
?L4:	CALL PERFORM,V?OPEN,CAGE
	RTRUE
?L3:	EQUAL? PRSO,LEM \?L7
	IN? PRSO,FISSURE \?L7
	CALL1 HOW?
	RTRUE
?L7:	EQUAL? PRSO,ME \?L9
	PRINTI "You aren't "
	JUMP ?L11
?L9:	CALL1 CTHE-PRINT
	CALL1 ISNT-ARENT
?L11:	PRINTR "[RIDX: 495]"

	.FUNCT V-REPLACE
	EQUAL? PRSO,ME \?L1
	PRINTR "Easily done."
?L1:	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 497]"

	.FUNCT V-REPAIR
	EQUAL? PRSO,ME \?L1
	PRINTI "You aren't "
	JUMP ?L3
?L1:	CALL1 CTHE-PRINT
	CALL1 ISNT-ARENT
?L3:	PRINTR "in need of repair."

	.FUNCT V-HELP
	PRINTI "[RIDX: 500]"
	CALL2 ITALICIZE,STR?44
	PRINTR " package.]"

	.FUNCT V-RESCUE
	EQUAL? PRSO,ME \?L1
	EQUAL? WINNER,PLAYER \?L3
	CALL1 V-HELP
	RTRUE
?L3:	CALL1 HOW?
	RTRUE
?L1:	CALL1 CTHE-PRINT
	FSET? PRSO,PLURAL \?L7
	PRINTI " do"
	JUMP ?L9
?L7:	PRINTI " does"
?L9:	PRINTR "n't need any help."

	.FUNCT V-RIDE
	FSET? PRSO,LIVING \?L1
	CALL1 IS-PERSON? >STACK
	CALL PRINT-ID,STR?120,STACK
	CALL NOT-LIKELY,PRSO,STR?121
	RTRUE
?L1:	PRINT CANT
	PRINTR "ride that."

	.FUNCT V-TOUCH
	CALL1 IS-PERSON? >STACK
	CALL PRINT-ID,STR?122,STACK
	CALL2 HACK-HACK,STR?123
	RTRUE

	.FUNCT V-STOUCH-TO
	CALL PERFORM,V?TOUCH-TO,PRSI,PRSO
	RTRUE

	.FUNCT V-TOUCH-TO
	EQUAL? PRSO,HANDS \?L1
	CALL PERFORM,V?TOUCH,PRSI
	RTRUE
?L1:	PRINTI "You "
	PRINTB P-PRSA-WORD
	PRINTI " "
	CALL1 THE-PRINT
	PRINTI " next to "
	CALL1 THEI-PRINT
	PRINTI ", but nothing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINTR " happens."

	.FUNCT V-TUNE-TO
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-BOW
	CALL2 HACK-HACK,STR?124
	RTRUE

	.FUNCT V-SEARCH
	FSET? PRSO,CONTAINER \?L1
	FSET? PRSO,OPENED /?L3
	FSET? PRSO,TRANSPARENT /?L3
	CALL YOUD-HAVE-TO,STR?70,PRSO
	RTRUE
?L3:	PRINT YOU-SEE
	CALL2 PRINT-CONTENTS,PRSO
	PRINTI " inside "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L1:	FSET? PRSO,SURFACE \?L6
	PRINT YOU-SEE
	CALL2 PRINT-CONTENTS,PRSO
	PRINTI " on "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L6:	FSET? PRSO,PERSON \?L7
	CALL PERFORM,V?USE,PRSO
	RTRUE
?L7:	CALL1 NOTHING-INTERESTING
	PRINT PERIOD
	RTRUE

	.FUNCT V-SHAKE,X
	FSET? PRSO,PERSON \?L1
	CALL PERFORM,V?ALARM,PRSO
	RTRUE
?L1:	FSET? PRSO,TAKEABLE /?L3
	FSET? PRSO,TRYTAKE /?L3
	CALL2 HACK-HACK,STR?125
	RTRUE
?L3:	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT V-SHOOT
	PRINT DONT
	PRINTI "have any weapons."
	CRLF
	CALL1 IS-PERSON? >STACK
	CALL PRINT-ID,STR?126,STACK
	CALL1 IS-OBJ-PROP-ANIMAL? >STACK
	CALL PRINT-ID,STR?127,STACK
	CALL1 IS-SOPOS? >STACK
	CALL PRINT-ID,STR?128,STACK
	RTRUE

	.FUNCT V-SIT
	EQUAL? PRSO,0,ROOMS \?L1
	EQUAL? HERE,IN-JEEP \?L3
	PRINTR "[RIDX: 526]"
?L3:	EQUAL? HERE,N75 \?L5
	CALL YOUD-HAVE-TO,STR?129,JEEP
	RTRUE
?L5:	EQUAL? HERE,BROAD-WALK \?L6
	CALL PERFORM,V?SIT,BENCH
	RTRUE
?L6:	CALL1 NO-SWIM
	RTRUE
?L1:	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT V-SMELL,OBJ=0
	EQUAL? HERE,IN-ORBIT \?L1
	ZERO? SUITED? \?L1
	CALL1 DONT-PROPAGATE
	RTRUE
?L1:	EQUAL? PRSO,ROOMS,SKY \?L3
	GETP HERE,P?ODOR >OBJ
	ZERO? OBJ \?L4
	PRINT DONT
	PRINTI "smell anything "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L4:	CALL PERFORM,V?SMELL,OBJ
	RTRUE
?L3:	PRINTI "It smells just like "
	CALL2 PRINTA,PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT V-SPIN
	EQUAL? PRSO,ROOMS \?L1
	EQUAL? HERE,IN-CLOSET \?L3
	PRINTR "[RIDX: 531]"
?L3:	PRINTR "[RIDX: 532]"
?L1:	PRINT CANT
	PRINTR "spin that."

	.FUNCT V-SQUEEZE
	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT V-DUCK
	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT V-STAND
	ZERO? IN-PRAM? /?L1
	CALL PERFORM,V?STAND-ON,PRAM
	RTRUE
?L1:	EQUAL? HERE,IN-JEEP \?L3
	CALL YOUD-HAVE-TO,STR?130,JEEP
	RTRUE
?L3:	CALL1 ALREADY-STANDING
	RTRUE

	.FUNCT ALREADY-STANDING
	PRINT YOURE-ALREADY
	PRINTR "standing."

	.FUNCT V-STAND-ON
	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT V-STAND-UNDER
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-SWING
	ZERO? PRSI \?L1
	CALL1 WASTE-OF-TIME
	RTRUE
?L1:	CALL PERFORM,V?KILL,PRSI,PRSO
	RTRUE

	.FUNCT V-SWIM
	EQUAL? PRSO,ROOMS \?L1
	ZERO? IN-DISH? /?L3
	EQUAL? HERE,PROM \?L3
	CALL PERFORM,V?SWIM,DISH
	RTRUE
?L3:	CALL GLOBAL-IN?,STREAM,HERE >STACK
	ZERO? STACK /?L5
	CALL PERFORM,V?SWIM,STREAM
	RTRUE
?L5:	EQUAL? HERE,LONG-WATER,ROUND-POND,ON-CIST \?L6
	CALL2 DO-WALK,P?IN
	RTRUE
?L6:	EQUAL? HERE,IN-WATER,IN-CIST,UNDER-WATER \?L7
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L7:	EQUAL? HERE,DOCKSIDE,AT-BEND,ON-MOOR \?L8
	CALL PERFORM,V?SWIM,STYX
	RTRUE
?L8:	EQUAL? HERE,SSAND,WSAND,ESAND /?L10
	EQUAL? HERE,NSAND \?L9
?L10:	CALL PERFORM,V?SWIM,LAGOON
	RTRUE
?L9:	CALL1 NO-SWIM
	RTRUE
?L1:	EQUAL? PRSO,INTDIR \?L12
	ZERO? P-DIRECTION /?L12
	EQUAL? WINNER,PLAYER \?L12
	EQUAL? HERE,IN-WATER,UNDER-WATER /?L15
	EQUAL? HERE,ON-CIST \?L16
	EQUAL? P-DIRECTION,P?NORTH,P?IN /?L15
?L16:	EQUAL? HERE,IN-CIST \?L17
	EQUAL? P-DIRECTION,P?SOUTH,P?OUT /?L15
?L17:	EQUAL? HERE,LONG-WATER \?L18
	EQUAL? P-DIRECTION,P?EAST,P?IN /?L15
?L18:	EQUAL? HERE,SSAND \?L19
	EQUAL? P-DIRECTION,P?SOUTH,P?SE,P?SW /?L15
?L19:	EQUAL? HERE,ESAND \?L20
	EQUAL? P-DIRECTION,P?EAST,P?SE,P?NE /?L15
?L20:	EQUAL? HERE,WSAND \?L21
	EQUAL? P-DIRECTION,P?WEST,P?NW,P?SW /?L15
?L21:	EQUAL? HERE,NSAND \?L13
	EQUAL? P-DIRECTION,P?NORTH,P?NE,P?NW \?L13
?L15:	CALL2 DO-WALK,P-DIRECTION
	RTRUE
?L13:	PRINT CANT
	PRINTB P-PRSA-WORD
	PRINTR " that way from here."
?L12:	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT NO-SWIM
	PRINTI "There's no place to "
	PRINTB P-PRSA-WORD
	PRINTR " here."

	.FUNCT V-DIVE
	EQUAL? PRSO,ROOMS \?L1
	EQUAL? HERE,HALFWAY,ON-GNOMON \?L3
	CALL2 DO-WALK,P?EAST
	RTRUE
?L3:	EQUAL? HERE,LONG-WATER,ROUND-POND,ON-CIST \?L5
	CALL2 DO-WALK,P?IN
	RTRUE
?L5:	EQUAL? HERE,IN-WATER,IN-CIST,UNDER-WATER \?L6
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L6:	EQUAL? HERE,SSAND,WSAND,ESAND /?L8
	EQUAL? HERE,NSAND \?L7
?L8:	CALL PERFORM,V?SWIM,LAGOON
	RTRUE
?L7:	CALL1 NO-SWIM
	RTRUE
?L1:	EQUAL? PRSO,INTDIR \?L10
	ZERO? P-DIRECTION /?L10
	EQUAL? WINNER,PLAYER \?L10
	EQUAL? HERE,IN-WATER,UNDER-WATER /?L13
	EQUAL? HERE,ON-CIST \?L14
	EQUAL? P-DIRECTION,P?NORTH,P?IN /?L13
?L14:	EQUAL? HERE,LONG-WATER \?L11
	EQUAL? P-DIRECTION,P?EAST,P?IN \?L11
?L13:	CALL2 DO-WALK,P-DIRECTION
	RTRUE
?L11:	PRINT CANT
	PRINTB P-PRSA-WORD
	PRINTR " that way from here."
?L10:	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-SGET-FOR
	CALL PERFORM,V?TAKE,PRSI
	RTRUE

	.FUNCT V-GET-FOR
	CALL PERFORM,V?TAKE,PRSO
	RTRUE

	.FUNCT V-TAKE-WITH
	CALL1 HOW?
	RTRUE

	.FUNCT V-TAKE-OFF
	EQUAL? PRSO,CLOTHES,FEET \?L1
	CALL1 INAPPROPRIATE
	RTRUE
?L1:	FSET? PRSO,TAKEABLE \?L3
	IN? PRSO,WINNER \?L4
	FSET? PRSO,WORN \?L4
	FCLEAR PRSO,WORN
	PRINTI "You take off "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L4:	CALL PERFORM,V?TAKE,PRSO
	RTRUE
?L3:	FSET? PRSO,VEHBIT \?L7
	CALL PERFORM,V?EXIT,PRSO
	RTRUE
?L7:	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-TASTE
	CALL PERFORM,V?EAT,PRSO
	RTRUE

	.FUNCT V-ADJUST
	EQUAL? P-PRSA-WORD,W?ADJUST \?L1
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 541]"
?L1:	PRINT CANT
	PRINTI " focus "
	CALL2 PRINTA,PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT V-FOCUS-ON
	ZERO? PRSI \?L1
	EQUAL? PRSO,BINOS \?L3
	CALL1 IMPOSSIBLE
	RTRUE
?L3:	IN? BINOS,PLAYER \?L5
	CALL PERFORM,V?LOOK-THRU,PRSO,BINOS
	RTRUE
?L5:	CALL1 HOW?
	RTRUE
?L1:	EQUAL? PRSO,BINOS \?L8
	CALL PERFORM,V?LOOK-THRU,PRSI,PRSO
	RTRUE
?L8:	PRINT CANT
	PRINTI "focus "
	CALL1 THE-PRINT
	PRINTI " on "
	CALL1 THEI-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT SILLY-SPEAK?
	EQUAL? PRSO,0,ROOMS /FALSE
	FSET? PRSO,PERSON /?L3
	CALL NOT-LIKELY,PRSO,STR?45
	CALL1 PCLEAR
	RTRUE
?L3:	EQUAL? PRSO,ME,PRSI,WINNER \?L4
	CALL1 WASTE-OF-TIME
	CALL1 PCLEAR
	RTRUE
?L4:	CALL2 THIS-IS-IT,PRSO
	RFALSE

	.FUNCT NO-RESPONSE
	CALL1 CTHE-PRINT
	PRINTI " doesn't respond."
	CRLF
	CALL1 PCLEAR
	RTRUE

	.FUNCT V-ASK-ABOUT
	CALL1 SILLY-SPEAK? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	EQUAL? WINNER,PRSI \?L5
	CALL1 WASTE-OF-TIME
	RETURN 2
?L5:	EQUAL? PRSO,ME \?L8
	CALL1 TALK-TO-SELF
	RTRUE
?L8:	CALL1 NO-RESPONSE
	RTRUE

	.FUNCT V-REPLY,WHO
	CALL1 SILLY-SPEAK? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	CALL1 NO-RESPONSE
	RTRUE

	.FUNCT V-QUESTION
	EQUAL? WINNER,PLAYER \?L1
	CALL TO-DO-THING-USE,STR?47,STR?46
	RETURN 2
?L1:	CALL1 NO-RESPONSE
	RTRUE

	.FUNCT V-ALARM
	CALL1 IS-PERSON? >STACK
	CALL PRINT-ID,STR?131,STACK
	CALL1 SILLY-SPEAK? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	EQUAL? PRSO,ROOMS,ME \?L6
	PRINT YOURE-ALREADY
	PRINTR "wide awake."
?L6:	EQUAL? PRSO,DSKINK,DLEM,DMEEP \?L8
	CALL2 THIS-IS-NOT,STR?132
	RTRUE
?L8:	FSET? PRSO,LIVING \?L9
	CALL1 CTHE-PRINT
	CALL1 IS-ARE
	PRINTR "already wide awake."
?L9:	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-YELL
	EQUAL? PRSO,ROOMS \?L1
	EQUAL? HERE,S100 \?L3
	CALL PERFORM,V?YELL,GIS
	RTRUE
?L3:	EQUAL? HERE,W100 \?L5
	CALL2 PRINT-ID,STR?133
	CALL1 WAKE-DOG
	RTRUE
?L5:	PRINTR "[RIDX: 557]"
?L1:	CALL NOT-LIKELY,PRSO,STR?45
	RTRUE

	.FUNCT V-SAY
	EQUAL? WINNER,PLAYER \?L1
	CALL1 ANYONE-HERE? >STACK
	ZERO? STACK /?L3
	CALL1 WAY-TO-TALK
	RTRUE
?L3:	CALL1 TALK-TO-SELF
	RTRUE
?L1:	CALL1 NO-RESPONSE
	RTRUE

	.FUNCT V-GOODBYE
	CALL1 V-HELLO
	RTRUE

	.FUNCT V-HELLO
	CALL1 SILLY-SPEAK? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	EQUAL? PRSO,ROOMS \?L5
	CALL1 TALK-TO-SELF
	RTRUE
?L5:	CALL1 NO-RESPONSE
	RTRUE

	.FUNCT V-WAVE-AT
	CALL1 V-WHAT
	RTRUE

	.FUNCT V-ASK-FOR,WHO
	CALL1 SILLY-SPEAK? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	EQUAL? WINNER,PRSI /?L6
	FSET? PRSI,TAKEABLE /?L5
?L6:	CALL1 IMPOSSIBLE
	RTRUE
?L5:	CALL1 NO-RESPONSE
	RTRUE

	.FUNCT V-TELL
	CALL1 SILLY-SPEAK? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	EQUAL? PRSO,ME \?L5
	EQUAL? WINNER,PLAYER \?L6
	CALL1 TALK-TO-SELF
	RTRUE
?L6:	CALL1 NO-RESPONSE
	RTRUE
?L5:	SET 'QCONTEXT,PRSO
	LOC PRSO >QCONTEXT-ROOM
	ZERO? P-CONT /?L10
	SET 'WINNER,PRSO
	CALL2 THIS-IS-IT,PRSO
	RTRUE
?L10:	CALL1 NO-RESPONSE
	RTRUE

	.FUNCT V-TELL-ABOUT
	CALL1 V-WHAT
	RTRUE

	.FUNCT V-THANK
	CALL1 SILLY-SPEAK? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	EQUAL? WINNER,PLAYER \TRUE
	EQUAL? PRSO,ME \?L6
	PRINTI "Self-congratulations"
	CALL1 WONT-HELP
	RTRUE
?L6:	PRINTI "[RIDX: 561]"
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT V-WHO
	CALL1 V-WHAT
	RTRUE

	.FUNCT V-WHERE
	CALL1 V-WHAT
	RTRUE

	.FUNCT V-WHAT
	CALL1 SILLY-SPEAK? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	CALL1 NO-RESPONSE
	RTRUE

	.FUNCT V-THROUGH
	EQUAL? PRSO,ROOMS \?L1
	CALL2 DO-WALK,P?IN
	RTRUE
?L1:	FSET? PRSO,LIVING \?L3
	CALL1 V-RAPE
	RTRUE
?L3:	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-STHROW
	CALL PERFORM,V?THROW,PRSI,PRSO
	RTRUE

	.FUNCT PRE-THROW-OVER
	CALL1 PRE-THROW >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT V-THROW-OVER
	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT PRE-THROW
	CALL1 CRUMBS-GONE? >STACK
	ZERO? STACK \TRUE
	EQUAL? PRSO,BAG \?L3
	PRINTR "[RIDX: 565]"
?L3:	EQUAL? PRSO,CRANE,OCRANE,BAD-CRANE /?L5
	EQUAL? PRSO,SOGGY /?L5
	EQUAL? PRSO,EBAG \?L4
	FIRST? PRSO >STACK /?L4
?L5:	CALL NOT-LIKELY,PRSO,STR?134
	RTRUE
?L4:	CALL1 PRE-PUT >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT V-THROW
	CALL1 IDROP >STACK
	ZERO? STACK /TRUE
	PRINTI "Thrown"
	PRINT PCR
	CALL1 CTHE-PRINT
	PRINTI " lands on the "
	FSET? HERE,INDOORS \?L3
	PRINTD FLOOR
	JUMP ?L5
?L3:	PRINTD GROUND
?L5:	PRINTR " nearby."

	.FUNCT V-TIE
	PRINT CANT
	PRINTI "possibly tie "
	CALL1 THE-PRINT
	CALL1 IS-PERSON? >STACK
	CALL PRINT-ID,STR?135,STACK
	ZERO? PRSI /?L1
	PRINTI " to "
	CALL1 THEI-PRINT
?L1:	PRINT PERIOD
	RTRUE

	.FUNCT V-TIE-UP
	PRINT CANT
	PRINTI "[RIDX: 573]"
	CRLF
	CALL1 IS-PERSON? >STACK
	CALL PRINT-ID,STR?136,STACK
	RTRUE

	.FUNCT V-TURN
	FSET? PRSO,TAKEABLE /?L1
	FSET? PRSO,TRYTAKE /?L1
	CALL1 IMPOSSIBLE
	RTRUE
?L1:	CALL2 HACK-HACK,STR?137
	RTRUE

	.FUNCT V-TURN-TO
	CALL2 VISIBLE?,PRSO >STACK
	ZERO? STACK /?L1
	CALL PERFORM,V?WATCH,PRSO
	RTRUE
?L1:	PRINT DONT
	PRINTI "see "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT DO-WALK,DIR1,DIR2=0,DIR3=0,X
	SET 'P-WALK-DIR,DIR1
	CALL PERFORM,V?WALK,DIR1 >X
	ZERO? DIR2 /?L3
	EQUAL? X,0,M-FATAL /?L3
	CRLF
	SET 'P-WALK-DIR,DIR2
	CALL PERFORM,V?WALK,DIR2 >X
	ZERO? DIR3 /?L3
	EQUAL? X,0,M-FATAL /?L3
	CRLF
	SET 'P-WALK-DIR,DIR3
	CALL PERFORM,V?WALK,DIR3 >X
?L3:	RETURN X

	.FUNCT V-WALK,PT,PTS,STR,OBJ,RM
	ZERO? FLIP? /?L9
	ZERO? P-WALK-DIR /?L61
	FSET? HERE,SHADOWY \?L9
	EQUAL? PRSO,P?EAST \?L3
	SET 'PRSO,P?WEST
	JUMP ?L9
?L3:	EQUAL? PRSO,P?WEST \?L5
	SET 'PRSO,P?EAST
	JUMP ?L9
?L5:	EQUAL? PRSO,P?SE \?L6
	SET 'PRSO,P?SW
	JUMP ?L9
?L6:	EQUAL? PRSO,P?SW \?L7
	SET 'PRSO,P?SE
	JUMP ?L9
?L7:	EQUAL? PRSO,P?NE \?L8
	SET 'PRSO,P?NW
	JUMP ?L9
?L8:	EQUAL? PRSO,P?NW \?L9
	SET 'PRSO,P?NE
?L9:	ZERO? P-WALK-DIR \?L12
?L61:	ZERO? PRSO /?L14
	PRINTI "[RIDX: 580]"
	CALL1 THE-PRINT
	PRINTI "."
	PRINT BRACKET
	CALL PERFORM,V?WALK-TO,PRSO
	RTRUE
?L14:	CALL1 V-WALK-AROUND
	RTRUE
?L12:	GETPT HERE,PRSO >PT
	ZERO? PT /?L18
	PTSIZE PT >PTS
	EQUAL? PTS,UEXIT \?L20
	GET PT,REXIT >RM
	CALL2 FLY-TO?,RM
	CALL2 GOTO,RM
	RTRUE
?L20:	EQUAL? PTS,NEXIT \?L22
	GET PT,NEXITSTR >STACK
	PRINT STACK
	CRLF
	RETURN 2
?L22:	EQUAL? PTS,FEXIT \?L25
	GET PT,FEXITFCN >STACK
	CALL1 STACK >RM
	ZERO? RM \?L26
	RETURN 2
?L26:	CALL2 GOTO,RM
	RTRUE
?L25:	EQUAL? PTS,CEXIT \?L31
	GETB PT,CEXITFLAG >STACK
	VALUE STACK >STACK
	ZERO? STACK /?L32
	GET PT,REXIT >STACK
	CALL2 GOTO,STACK
	RTRUE
?L32:	GET PT,CEXITSTR >STR
	ZERO? STR /?L35
	PRINT STR
	CRLF
	RETURN 2
?L35:	CALL1 CANT-GO
	RETURN 2
?L31:	EQUAL? PTS,DEXIT \FALSE
	GET PT,DEXITOBJ >OBJ
	GET PT,DEXITSTR >STR
	FSET? OBJ,OPENED \?L43
	GET PT,REXIT >STACK
	CALL2 GOTO,STACK
	RTRUE
?L43:	ZERO? STR /?L45
	PRINT STR
	CRLF
	CALL2 THIS-IS-IT,OBJ
	RETURN 2
?L45:	CALL2 ITS-CLOSED,OBJ
	RETURN 2
?L18:	EQUAL? P-WALK-DIR,P?OUT \?L52
	FSET? HERE,INDOORS /?L52
	PRINT YOURE-ALREADY
	PRINTI "outside."
	CRLF
	RETURN 2
?L52:	EQUAL? P-WALK-DIR,P?IN \?L55
	FSET? HERE,INDOORS \?L55
	PRINT YOURE-ALREADY
	PRINTI "inside."
	CRLF
	RETURN 2
?L55:	CALL1 CANT-GO
	RETURN 2

	.FUNCT FLY-TO?,DEST,N=0
	ZERO? TR? /?L3
	ZERO? DEST /?L3
	FSET? HERE,DESERT \?L3
	IN? DEST,ROOMS \?L3
	FSET? DEST,DESERT /?L1
?L3:	SET 'MDELAY,0
	RFALSE
?L1:	FSET? RBOOT,WORN \?L4
	FSET? RBOOT,CHILLY \?L4
	FSET? GBOOT,WORN \?L4
	FSET? GBOOT,CHILLY \?L4
	SET 'MDELAY,2
	FSET? FEET,TOUCHED /?L5
	FSET FEET,TOUCHED
	CALL QUEUE,I-WHOOSH,1
	PRINTI "[RIDX: 585]"
	PRINT PCR
	CALL2 ITALICIZE,STR?138
	PRINTI " The "
	PRINTD GDESERT
	PRINTI "[RIDX: 588]"
	PRINT PCR
	RTRUE
?L5:	FSET? FEET,CHILLY /?L7
	FSET FEET,CHILLY
	CALL2 ITALICIZE,STR?138
	PRINTI " "
?L7:	CALL2 PICK-NEXT,FDEFAULTS >STACK
	PRINT STACK
	PRINT PCR
	RTRUE
?L4:	SET 'MDELAY,0
	PRINTI "You "
	EQUAL? P-PRSA-WORD,W?RUN,W?JOG \?L10
	FSET? HERE,BORING \?L12
	SET 'N,19
	JUMP ?L14
?L12:	SET 'N,9
?L14:	PRINTB P-PRSA-WORD
	PRINTI " for a few "
	JUMP ?L15
?L10:	FSET? HERE,BORING \?L16
	SET 'N,29
	JUMP ?L18
?L16:	SET 'N,19
?L18:	CALL2 PICK-NEXT,WALK-TYPES >STACK
	PRINT STACK
	RANDOM 100 >STACK
	LESS? 50,STACK /?L19
	PRINTI "along "
?L19:	PRINTI "for several "
?L15:	PRINTI "minutes."
	CRLF
	CALL2 DO-MOVES,N
	CRLF
	RTRUE

	.FUNCT AIMLESS,DEST,N=0
	CALL2 FLY-TO?,DEST >STACK
	ZERO? STACK \TRUE
	PRINTI "You "
	EQUAL? P-PRSA-WORD,W?RUN,W?JOG \?L4
	PRINTB P-PRSA-WORD
	PRINTC 32
	SET 'N,19
	JUMP ?L6
?L4:	RANDOM 100 >STACK
	LESS? 50,STACK /?L7
	PRINTI "wander "
	JUMP ?L9
?L7:	CALL2 PICK-NEXT,WALK-TYPES >STACK
	PRINT STACK
?L9:	SET 'N,29
?L6:	RANDOM 100 >STACK
	LESS? 50,STACK /?L10
	PRINTI "uncertain"
	JUMP ?L12
?L10:	PRINTI "aimless"
?L12:	PRINTI "ly across the "
	PRINTD GDESERT
	PRINT PERIOD
	CALL2 DO-MOVES,N
	RTRUE

	.FUNCT IFENCE-BLOCKS
	CALL2 BLOCKS-YOUR-PATH,IFENCE
	RFALSE

	.FUNCT VICTORIA-BLOCKS
	CALL2 BLOCKS-YOUR-PATH,VICTORIA
	RFALSE

	.FUNCT THICKET-BLOCKS
	CALL2 BLOCKS-YOUR-PATH,THICKET
	RFALSE

	.FUNCT GFENCE-BLOCKS
	CALL2 BLOCKS-YOUR-PATH,GFENCE
	RFALSE

	.FUNCT CLIFF-BLOCKS
	CALL2 BLOCKS-YOUR-PATH,CLIFF
	RFALSE

	.FUNCT HEDGE-BLOCKS
	CALL2 BLOCKS-YOUR-PATH,HEDGE
	RFALSE

	.FUNCT LANDSLIDE-BLOCKS
	ZERO? LIT? \?L1
	PRINTI "A rock wall"
	CALL1 BLOCKS-YOUR-PATH
	RFALSE
?L1:	CALL2 BLOCKS-YOUR-PATH,LANDSLIDE
	RFALSE

	.FUNCT ESHED-BLOCKS
	CALL2 BLOCKS-YOUR-PATH,ESHED
	RFALSE

	.FUNCT BUILDING-BLOCKS
	ZERO? IN-SAND? /?L1
	CALL1 EXIT-SPILE
?L1:	CALL2 BLOCKS-YOUR-PATH,SCHOOL
	RFALSE

	.FUNCT SWALL-BLOCKS
	CALL2 BLOCKS-YOUR-PATH,SWALL
	RFALSE

	.FUNCT RESERVOIR-BLOCKS
	CALL2 BLOCKS-YOUR-PATH,RESERVOIR
	RFALSE

	.FUNCT BLOCKS-YOUR-PATH,OBJ=0
	ZERO? OBJ /?L1
	CALL2 THIS-IS-IT,OBJ
	CALL2 CTHE-PRINT,OBJ
?L1:	PRINTR " blocks your path."

	.FUNCT V-WALK-AROUND
	CALL1 PCLEAR
	PRINTR "[RIDX: 612]"

	.FUNCT V-WALK-TO
	EQUAL? PRSO,INTDIR \?L1
	CALL2 DO-WALK,P-DIRECTION
	RTRUE
?L1:	EQUAL? PRSO,RIGHT,LEFT \?L3
	CALL1 MORE-SPECIFIC
	RTRUE
?L3:	CALL1 V-FOLLOW
	RTRUE

	.FUNCT V-WAIT,N=3,X=0
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	PRINTI "Time passes."
	CRLF
?L6:	ZERO? X \TRUE
	LESS? N,1 /TRUE
	CALL1 CLOCKER >STACK
	ZERO? STACK /?L11
	SET 'X,1
	SET 'CLOCK-WAIT?,1
?L11:	DEC 'N
	JUMP ?L6

	.FUNCT V-WAIT-FOR
	CALL1 WRONG-WINNER? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	EQUAL? PRSO,INTNUM \?L5
	ZERO? P-NUMBER \?L6
	SET 'CLOCK-WAIT?,1
	CALL1 IMPOSSIBLE
	RTRUE
?L6:	GRTR? P-NUMBER,120 \?L8
	SET 'CLOCK-WAIT?,1
	PRINTR "[RIDX: 616]"
?L8:	SUB P-NUMBER,1 >STACK
	CALL2 V-WAIT,STACK
	RTRUE
?L5:	CALL2 VISIBLE?,PRSO >STACK
	ZERO? STACK /?L10
	CALL1 CTHE-PRINT
	CALL1 IS-ARE
	PRINTR "already here."
?L10:	PRINTR "[RIDX: 618]"

	.FUNCT V-WEAR
	IN? PRSO,WINNER \?L4
	FSET? PRSO,WORN /?L3
?L4:	EQUAL? PRSO,CLOTHES,POCKET \?L1
?L3:	PRINT YOURE-ALREADY
	PRINTI "wearing "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L1:	FSET? PRSO,CLOTHING /?L5
	PRINT CANT
	PRINTI "wear "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L5:	CALL2 DONT-HAVE?,PRSO >STACK
	ZERO? STACK \TRUE
	FSET PRSO,WORN
	EQUAL? WINNER,PLAYER \?L8
	PRINTI "You put "
	JUMP ?L10
?L8:	CALL2 CTHE-PRINT,WINNER
	PRINTI " obligingly puts "
?L10:	PRINTI "on "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT V-WIND
	PRINT CANT
	PRINTI "wind "
	CALL2 PRINTA,PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT PRE-TAKE,L=0,WHO
	EQUAL? PRSO,BREATH \?L1
	ZERO? PRSI /FALSE
?L1:	IN? PRSO,GLOBAL-OBJECTS \?L3
	CALL1 IMPOSSIBLE
	RTRUE
?L3:	LOC PRSO >L
	EQUAL? L,WINNER \?L5
	CALL1 CRUMBS-GONE? >STACK
	ZERO? STACK \TRUE
	EQUAL? WINNER,PLAYER \?L9
	PRINTI "You're "
	JUMP ?L10
?L9:	CALL2 CTHE-PRINT,WINNER
	CALL2 IS-ARE,WINNER
?L10:	PRINTI "already "
	FSET? PRSO,WORN \?L11
	PRINTI "wear"
	JUMP ?L13
?L11:	PRINTI "hold"
?L13:	PRINTI "ing "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L5:	ZERO? L /?L14
	FSET? L,CONTAINER \?L14
	FSET? L,OPENABLE \?L14
	FSET? L,OPENED /?L14
	EQUAL? WINNER,PLAYER \?L15
	PRINT CANT
	JUMP ?L17
?L15:	CALL2 CTHE-PRINT,WINNER
	PRINTI " can't "
?L17:	PRINTI "reach into "
	CALL2 THE-PRINT,L
	PRINTR ". It's closed."
?L14:	ZERO? PRSI /FALSE
	EQUAL? PRSO,PRSI \?L19
	GET P-NAMW,1 >STACK
	GET P-NAMW,0 >STACK
	EQUAL? STACK,STACK /?L23
	GET P-ADJW,1 >STACK
	GET P-ADJW,0 >STACK
	EQUAL? STACK,STACK \FALSE
?L23:	CALL1 IMPOSSIBLE
	RTRUE
?L19:	EQUAL? PRSI,ME \?L25
	EQUAL? WINNER,PLAYER \?L26
	CALL1 NOBODY-TO-ASK
	RTRUE
?L26:	EQUAL? L,PLAYER /FALSE
	PRINT DONT
	PRINTI "have "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L25:	EQUAL? PRSI,CRYPT \?L30
	EQUAL? L,LID \?L30
	CALL PERFORM,PRSA,PRSO,LID
	RTRUE
?L30:	EQUAL? PRSO,GNOMON \?L31
	EQUAL? PRSI,DIAL-HOLE,BDIAL-HOLE \?L31
	FSET? PRSO,NODESC \?L31
	CALL PERFORM,V?UNSCREW,PRSO
	RTRUE
?L31:	EQUAL? PRSI,DIAL-HOLE \?L32
	EQUAL? PRSO,GNOMON \?L32
	FSET? PRSO,NODESC \?L32
	CALL PERFORM,V?UNSCREW,PRSO
	RTRUE
?L32:	EQUAL? L,PRSI /FALSE
	CALL1 CTHE-PRINT
	CALL1 ISNT-ARENT
	FSET? PRSI,SURFACE \?L34
	PRINTI "on "
	JUMP ?L36
?L34:	PRINTI "in "
?L36:	CALL1 THEI-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT V-TAKE,L
	CALL1 ITAKE >L
	ZERO? L \?L2
	PUSH 0
	JUMP ?L1
?L2:	CALL1 IS-THEFT? >STACK
?L1:	CALL PRINT-ID,STR?139,STACK
	ZERO? L /TRUE
	ZERO? P-MULT? /?L5
	PRINTI "Taken."
	CRLF
	JUMP ?L14
?L5:	FSET? L,CONTAINER /?L8
	FSET? L,SURFACE /?L8
	FSET? L,PERSON /?L8
	FSET? L,LIVING \?L7
?L8:	PRINTI "You take "
	CALL1 THE-PRINT
	FSET? L,CONTAINER \?L9
	PRINTI " out of "
	JUMP ?L12
?L9:	FSET? L,SURFACE \?L11
	PRINTI " off "
	JUMP ?L12
?L11:	PRINTI " from "
?L12:	CALL2 THE-PRINT,L
	PRINT PERIOD
	JUMP ?L14
?L7:	RANDOM 100 >STACK
	LESS? 50,STACK /?L13
	PRINTI "Taken."
	CRLF
	JUMP ?L14
?L13:	PRINTI "You "
	EQUAL? P-PRSA-WORD,W?GRAB,W?SEIZE,W?SNATCH \?L15
	PRINTB P-PRSA-WORD
	PRINTC 32
	JUMP ?L18
?L15:	RANDOM 100 >STACK
	LESS? 50,STACK /?L17
	PRINTI "pick up "
	JUMP ?L18
?L17:	PRINTI "take "
?L18:	CALL1 THE-PRINT
	PRINT PERIOD
?L14:	GETP PRSO,P?VALUE >L
	ZERO? L /TRUE
	PUTP PRSO,P?VALUE,0
	CALL2 UPDATE-SCORE,L
	RTRUE

	.FUNCT ITAKE,VB=1,L,?TMP
	ZERO? PRSO /?L3
	LOC PRSO >STACK
	ZERO? STACK \?L1
?L3:	CALL1 CANT-SEE-ANY
	RFALSE
?L1:	LOC PRSO >L
	CALL2 THIS-IS-IT,PRSO
	FSET? PRSO,TAKEABLE /?L5
	ZERO? VB /FALSE
	CALL1 IMPOSSIBLE
	RFALSE
?L5:	FSET? L,CONTAINER \?L10
	FSET? L,OPENABLE \?L10
	FSET? L,OPENED /?L10
	ZERO? VB /FALSE
	CALL YOUD-HAVE-TO,STR?70,L
	RFALSE
?L10:	IN? L,WINNER /?L14
	CALL2 WEIGHT,PRSO >?TMP
	CALL2 WEIGHT,WINNER >STACK
	ADD ?TMP,STACK >STACK
	GRTR? STACK,LOAD-ALLOWED \?L14
	ZERO? VB /FALSE
	FIRST? WINNER >STACK \?L17
	PRINTI "Your load is"
	JUMP ?L19
?L17:	CALL1 CTHE-PRINT
	PRINTI " is"
?L19:	PRINTI " too heavy."
	CRLF
	RFALSE
?L14:	CALL2 CCOUNT,WINNER >STACK
	GRTR? STACK,FUMBLE-NUMBER \?L21
	ZERO? VB /FALSE
	PRINTI "[RIDX: 656]"
	CRLF
	RFALSE
?L21:	FSET PRSO,TOUCHED
	FCLEAR PRSO,NODESC
	FCLEAR PRSO,NOALL
	MOVE PRSO,WINNER
	RETURN L

	.FUNCT CCOUNT,THING,OBJ,CNT=0
	FIRST? THING >OBJ /?L4
	RETURN CNT
?L4:	FSET? OBJ,WORN /?L6
	EQUAL? OBJ,POCKET /?L6
	INC 'CNT
?L6:	NEXT? OBJ >OBJ /?L4
	RETURN CNT

	.FUNCT WEIGHT,THING,OBJ,WT=0
	FIRST? THING >OBJ \?L3
?L4:	EQUAL? OBJ,POCKET /?L9
	EQUAL? THING,WINNER \?L7
	FSET? OBJ,WORN \?L7
	INC 'WT
	JUMP ?L9
?L7:	CALL2 WEIGHT,OBJ >STACK
	ADD WT,STACK >WT
?L9:	NEXT? OBJ >OBJ /?L4
?L3:	GETP THING,P?MASS >OBJ
	ZERO? OBJ /?L12
	ADD WT,OBJ >WT
?L12:	RETURN WT

	.FUNCT DESCRIBE-ROOM,LOOK?=0,V?=0,ACT
	ZERO? LOOK? \?L3
	EQUAL? VERBOSITY,2 \?L1
?L3:	SET 'V?,1
?L1:	ZERO? LIT? \?L5
	PRINTI "[RIDX: 664]"
	CRLF
	RFALSE
?L5:	FSET? HERE,TOUCHED /?L7
	FSET HERE,TOUCHED
	INC 'MAPCNT
	SET 'V?,1
?L7:	IN? HERE,ROOMS \?L9
	HLIGHT H-BOLD
	CALL1 SAY-HERE
	HLIGHT H-NORMAL
	CRLF
	HLIGHT H-NORMAL
?L9:	ZERO? LOOK? \?L14
	ZERO? VERBOSITY /?L15
?L14:	GETP HERE,P?ACTION >ACT
	ZERO? V? /?L15
	ZERO? ACT /?L15
	ZERO? VERBOSITY /?L17
	CRLF
?L17:	CALL2 ACT,M-LOOK >STACK
?L15:	RETURN LIT?

	.FUNCT GOTO,WHERE,LOOK?=1,X
	GETP HERE,P?ACTION >STACK
	CALL2 STACK,M-EXIT >X
	FSET? HERE,BORING \?L1
	SET 'DROOM,0
	JUMP ?L3
?L1:	SET 'DROOM,HERE
?L3:	SET 'HERE,WHERE
	MOVE PLAYER,WHERE
	CALL1 IS-LIT? >LIT?
	GETP HERE,P?ACTION >STACK
	CALL2 STACK,M-ENTERING >X
	EQUAL? HERE,WHERE \TRUE
	ZERO? LOOK? /?L7
	CALL1 DESCRIBE-ROOM >STACK
	ZERO? STACK /?L7
	ZERO? VERBOSITY /?L9
	CALL1 DESCRIBE-OBJECTS
?L9:	CALL1 MENTION-PRAM
?L7:	GETP HERE,P?ACTION >STACK
	CALL2 STACK,M-ENTERED >X
	CALL1 RESET-THEM
	RTRUE

	.FUNCT RESET-THEM
	CALL2 VISIBLE?,P-IT-OBJECT >STACK
	ZERO? STACK \?L1
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
?L1:	CALL2 VISIBLE?,P-THEM-OBJECT >STACK
	ZERO? STACK \?L4
	SET 'P-THEM-OBJECT,NOT-HERE-OBJECT
?L4:	CALL2 VISIBLE?,P-HIM-OBJECT >STACK
	ZERO? STACK \?L7
	SET 'P-HIM-OBJECT,NOT-HERE-OBJECT
?L7:	CALL2 VISIBLE?,P-HER-OBJECT >STACK
	ZERO? STACK \TRUE
	SET 'P-HER-OBJECT,NOT-HERE-OBJECT
	RTRUE

	.FUNCT HACK-HACK,STR
	PRINT STR
	PRINTC 32
	CALL1 THE-PRINT
	PRINTI " would"
	CALL2 PICK-NEXT,HO-HUM >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE

	.FUNCT IMPOSSIBLE
	CALL2 PICK-NEXT,YUKS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE

	.FUNCT TOO-DARK
	PRINTI "It's too dark "
	EQUAL? HERE,UNDER-WATER \?L1
	PRINTI "and murky "
?L1:	PRINTR "to see."

	.FUNCT CANT-GO
	FSET? HERE,INDOORS \?L1
	PRINTI "There's no exit "
	JUMP ?L3
?L1:	PRINT CANT
	PRINTI "go "
?L3:	PRINTR "that way."

	.FUNCT ITS-ALREADY,STR
	PRINTI "It's already "
	PRINT STR
	PRINT PERIOD
	RTRUE

	.FUNCT REFERRING
	PRINTR "[RIDX: 684]"

	.FUNCT MORE-SPECIFIC
	PRINTR "[RIDX: 685]"

	.FUNCT WASTE-OF-TIME
	CALL2 PICK-NEXT,POINTLESS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE

	.FUNCT LOOKS-PUZZLED,WHO
	CALL2 CTHE-PRINT,WHO
	PRINTI " "
	RANDOM 100 >STACK
	LESS? 50,STACK /?L1
	PRINTI "looks "
	JUMP ?L3
?L1:	PRINTI "appears "
?L3:	CALL2 PICK-NEXT,PUZZLES >STACK
	PRINT STACK
	PRINTI ". """
	RTRUE

	.FUNCT V-INHALE
	EQUAL? PRSO,BREATH,ROOMS /?L1
	CALL1 IMPOSSIBLE
	RTRUE
?L1:	EQUAL? HERE,IN-ORBIT,ON-SAT \?L3
	ZERO? SUITED? \?L3
	CALL1 CLUTCH-THROAT
	RTRUE
?L3:	ZERO? BREATH-HELD? /?L4
	PRINT YOURE-ALREADY
	PRINTI "holding "
	PRINTD BREATH
	PRINT PERIOD
	RTRUE
?L4:	SET 'BREATH-HELD?,4
	CALL QUEUE,I-HOLD-BREATH,-1
	PRINTR "[RIDX: 698]"

	.FUNCT CLUTCH-THROAT
	PRINTR "[RIDX: 699]"

	.FUNCT V-EXHALE
	EQUAL? PRSO,BREATH,ROOMS /?L1
	CALL1 IMPOSSIBLE
	RTRUE
?L1:	ZERO? BREATH-HELD? \?L3
	PRINTR "[RIDX: 700]"
?L3:	EQUAL? HERE,IN-ORBIT,ON-SAT \?L4
	ZERO? SUITED? \?L4
	CALL2 DEQUEUE,I-HOLD-BREATH
	SET 'BREATH-HELD?,0
	CALL1 CLUTCH-THROAT
	RTRUE
?L4:	EQUAL? HERE,UNDER-WATER \?L5
	CALL1 NOT-RECOMMENDED
	RTRUE
?L5:	SET 'BREATH-HELD?,0
	CALL2 DEQUEUE,I-HOLD-BREATH
	PRINTR "[RIDX: 701]"

	.FUNCT NOT-RECOMMENDED
	PRINTR "[RIDX: 702]"

	.FUNCT V-SURFACE
	EQUAL? HERE,UNDER-WATER \?L1
	CALL2 DO-WALK,P?UP
	RTRUE
?L1:	PRINTR "[RIDX: 703]"

	.FUNCT V-SWRAP
	CALL PERFORM,V?WRAP-AROUND,PRSI,PRSO
	RTRUE

	.FUNCT V-WRAP-AROUND
	PRINTI "[RIDX: 704]"
	PRINTB P-PRSA-WORD
	PRINTC 32
	CALL1 THE-PRINT
	PRINTI " around "
	CALL1 THEI-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT V-DRESS
	EQUAL? PRSO,ROOMS \?L1
	PRINT YOURE-ALREADY
	PRINTR "dressed."
?L1:	FSET? PRSO,PERSON \?L3
	CALL1 CTHE-PRINT
	PRINTR " is already dressed."
?L3:	PRINT CANT
	PRINTI "dress "
	CALL2 PRINTA,PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT V-UNDRESS
	EQUAL? PRSO,ROOMS /?L3
	FSET? PRSO,PERSON \?L1
?L3:	CALL2 PRINT-ID,STR?140
	CALL1 INAPPROPRIATE
	RTRUE
?L1:	PRINT CANT
	PRINTB P-PRSA-WORD
	PRINTC 32
	CALL2 PRINTA,PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT V-WISH
	ZERO? TR? \?L3
	FSET? HERE,WINDY /?L1
?L3:	CALL VOICE-MUTTERS,STR?141,0
	RTRUE
?L1:	PRINTR "[Sigh.]"

	.FUNCT V-HEEL
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT V-PISS
	CALL1 CRUDITY
	RETURN 2

	.FUNCT V-SUCK
	CALL1 CRUDITY
	RETURN 2

	.FUNCT CRUDITY
	CALL2 PRINT-ID,STR?142
	ZERO? TR? \?L3
	FSET? HERE,WINDY /?L1
?L3:	CALL VOICE-MUTTERS,STR?143,0
	RTRUE
?L1:	PRINTR "[RIDX: 714]"

	.FUNCT V-BANDAGE
	IN? BANDAGE,PLAYER \?L1
	CALL1 WASTE-OF-TIME
	RTRUE
?L1:	CALL1 HOW?
	RTRUE

	.FUNCT DEQUEUE,RTN
	CALL2 QUEUED?,RTN >RTN
	ZERO? RTN /TRUE
	PUT RTN,C-RTN,0
	RTRUE

	.FUNCT QUEUED?,RTN,C,E
	ADD C-TABLE,C-TABLELEN >E
	ADD C-TABLE,C-INTS >C
?L1:	EQUAL? C,E /FALSE
	GET C,C-RTN >STACK
	EQUAL? STACK,RTN \?L8
	GET C,C-TICK >STACK
	ZERO? STACK /FALSE
	RETURN C
?L8:	ADD C,C-INTLEN >C
	JUMP ?L1

	.FUNCT QUEUE,RTN,TICK,C,E,INT=0
	ADD C-TABLE,C-TABLELEN >E
	ADD C-TABLE,C-INTS >C
?L1:	EQUAL? C,E \?L3
	ZERO? INT /?L5
	SET 'C,INT
	JUMP ?L7
?L5:	LESS? C-INTS,C-INTLEN \?L8
	PRINTI "[RIDX: 722]"
	CRLF
?L8:	SUB C-INTS,C-INTLEN >C-INTS
	ADD C-TABLE,C-INTS >INT
?L7:	PUT INT,C-RTN,RTN
	JUMP ?L2
?L3:	GET C,C-RTN >STACK
	EQUAL? STACK,RTN \?L11
	SET 'INT,C
	JUMP ?L2
?L11:	GET C,C-RTN >STACK
	ZERO? STACK \?L12
	SET 'INT,C
?L12:	ADD C,C-INTLEN >C
	JUMP ?L1
?L2:	GRTR? INT,CLOCK-HAND \?L14
	ADD TICK,3 >STACK
	SUB 0,STACK >TICK
?L14:	PUT INT,C-TICK,TICK
	RETURN INT

	.FUNCT DO-MOVES,N,X
	SET 'OLD-HERE,0
	SET 'QUIET?,1
?L1:	ZERO? N /?L2
	CALL1 CLOCKER >X
	DEC 'N
	JUMP ?L1
?L2:	SET 'QUIET?,0
	RTRUE

	.FUNCT CLOCKER,E,TICK,RTN,FLG=0,Q?=0
	ZERO? CLOCK-WAIT? /?L1
	SET 'CLOCK-WAIT?,0
	RFALSE
?L1:	ADD C-TABLE,C-INTS >CLOCK-HAND
	ADD C-TABLE,C-TABLELEN >E
?L4:	EQUAL? CLOCK-HAND,E \?L6
	INC 'MOVES
	ZERO? FREEZE? \?L5
	ADD SECONDS,15 >SECONDS
	GRTR? SECONDS,59 \?L5
	SUB SECONDS,60 >SECONDS
	IGRTR? 'MINUTES,59 \?L15
	SUB MINUTES,60 >MINUTES
	IGRTR? 'HOURS,23 \?L15
	SET 'HOURS,0
?L15:	RETURN FLG
?L6:	GET CLOCK-HAND,C-RTN >STACK
	ZERO? STACK /?L38
	GET CLOCK-HAND,C-TICK >TICK
	LESS? TICK,-1 \?L21
	SUB 0,TICK >STACK
	SUB STACK,3 >STACK
	PUT CLOCK-HAND,C-TICK,STACK
	SET 'Q?,CLOCK-HAND
	JUMP ?L38
?L21:	ZERO? TICK /?L38
	GRTR? TICK,0 \?L24
	DEC 'TICK
	PUT CLOCK-HAND,C-TICK,TICK
?L24:	ZERO? TICK /?L27
	SET 'Q?,CLOCK-HAND
?L27:	GRTR? TICK,0 /?L38
	GET CLOCK-HAND,C-RTN >RTN
	ZERO? TICK \?L32
	PUT CLOCK-HAND,C-RTN,0
?L32:	CALL1 RTN >STACK
	ZERO? STACK /?L35
	SET 'FLG,1
?L35:	ZERO? Q? \?L38
	GET CLOCK-HAND,C-RTN >STACK
	ZERO? STACK /?L38
	SET 'Q?,1
?L38:	ADD CLOCK-HAND,C-INTLEN >CLOCK-HAND
	ZERO? Q? \?L4
	ADD C-INTS,C-INTLEN >C-INTS
	JUMP ?L4
?L5:	RETURN FLG

	.FUNCT I-BLOW,ST=0
	FCLEAR TREE,NODESC
	MOVE PARASOL,TREE
	FCLEAR PARASOL,OPENED
	SET 'P-HER-OBJECT,NOT-HERE-OBJECT
	SET 'P-IT-OBJECT,PARASOL
	FSET JWOMAN,CHILLY
	FSET JWOMAN,NODESC
	CRLF
	PRINTI "[RIDX: 727]"
	PRINTD PARASOL
	PRINTI " out of the "
	PRINTD JWOMAN
	PRINTI "[RIDX: 729]"
	PRINTD PARASOL
	PRINTI "[RIDX: 730]"
	PRINTD JWOMAN
	PRINTI "[RIDX: 731]"
	PRINTD LNWALK
	PRINT PERIOD
	ZERO? TR? /TRUE
	CRLF
	PRINTI "You stare up at the "
	PRINTD PARASOL
	ZERO? RAID? \?L4
	PRINT PCR
	PRINTI "[RIDX: 733]"
	JUMP ?L6
?L4:	PRINTI "[RIDX: 734]"
?L6:	PRINTI "[RIDX: 735]"
	PRINTD EWIND
	PRINTI "[RIDX: 736]"
	PRINTD PARASOL
	PRINTI "[RIDX: 737]"
	GETB 0,30 >STACK
	EQUAL? STACK,5 \?L7
	INC 'ST
	CALL1 ST-QUOTE
	HLIGHT H-ITALIC
	JUMP ?L9
?L7:	PRINTI """"
?L9:	PRINTI "It's time."
	HLIGHT H-NORMAL
	ZERO? ST \?L10
	PRINTI """"
	JUMP ?L12
?L10:	CALL1 ST-QUOTE
?L12:	CRLF
	CRLF
	PRINTI "You bend to pet the "
	PRINTD MEEP
	PRINTI "[RIDX: 743]"
	CALL2 VISIBLE?,BALL >STACK
	ZERO? STACK /?L13
	PRINTI ". Then you "
	IN? BALL,PLAYER /?L15
	PRINTI "pick up the "
	PRINTD BALL
	PRINTI ", "
?L15:	PRINTI "retrieve the "
	PRINTD PARASOL
	IN? BALL,PLAYER \?L18
	PRINTI " with the "
	PRINTD BALL
?L18:	PRINTI " and hurry off"
	IN? PRAM,HERE \?L21
	PRINTI ", pushing the "
	PRINTD PRAM
	PRINTI " before you"
	JUMP ?L24
?L21:	PRINTI " to find a "
	PRINTD PRAM
	JUMP ?L24
?L13:	PRINTI "[RIDX: 753]"
	PRINTD BALL
?L24:	PRINTI "[RIDX: 754]"
	CALL2 UPDATE-SCORE,5
	CALL1 CARRIAGE-RETURNS
	SET 'HERE,THE-END
	MOVE PLAYER,HERE
	CALL1 V-$0024PRAMS
	CRLF
	PRINTI "[RIDX: 755]"
	CALL2 ITALICIZE,STR?144
	CRLF
	CALL1 FINISH
	RTRUE

	.FUNCT V-$0024PRAMS,X
	PRINT ALLPRAMS
	CALL1 V-LOOK
	RTRUE

	.FUNCT I-CRANE-APPEARS
	EQUAL? HERE,ROUND-POND \FALSE
	FSET? CRANE,NODESC \?L3
	FCLEAR CRANE,NODESC
	RFALSE
?L3:	CALL2 DEQUEUE,I-CRANE-APPEARS
	MOVE CRANE,RPOND
	SET 'P-IT-OBJECT,CRANE
	CRLF
	PRINTI "One of the "
	PRINTD BOAT
	PRINTI " on the "
	PRINTD RPOND
	PRINTI "[RIDX: 761]"
	CALL1 SAY-WIND
	PRINTI "[RIDX: 762]"
	PRINTD CRANE
	PRINTR "[RIDX: 763]"

	.FUNCT I-BWOMAN,COIN?=0,BAG?=0,BOTH?=0
	EQUAL? HERE,BROAD-WALK \FALSE
	SET 'P-HER-OBJECT,BWOMAN
	ZERO? RAID? /?L4
	FSET? BWOMAN,SEEN \?L6
	FCLEAR BWOMAN,SEEN
	RFALSE
?L6:	RANDOM 100 >STACK
	LESS? 50,STACK \FALSE
	CRLF
	CALL1 BWOMAN-CRY
	RTRUE
?L4:	IN? SCOIN,BWOMAN \?L11
	SET 'P-IT-OBJECT,COIN
	SET 'COIN?,1
?L11:	IN? BAG,BWOMAN \?L14
	SET 'P-IT-OBJECT,BAG
	SET 'BAG?,1
?L14:	ZERO? BAG? \?L48
	ZERO? COIN? \?L17
	FSET? BWOMAN,SEEN \?L19
	FCLEAR BWOMAN,SEEN
	RFALSE
?L19:	RANDOM 100 >STACK
	LESS? 50,STACK \FALSE
	CRLF
	CALL1 BWOMAN-CRY
	RTRUE
?L17:	ZERO? BAG? /?L23
?L48:	ZERO? COIN? /?L23
	SET 'BOTH?,1
?L23:	DEC 'LAYAWAY
	ZERO? LAYAWAY \?L25
	FSET BWOMAN,SEEN
	CRLF
	CALL2 CTHE-PRINT,BWOMAN
	PRINTI " shrugs and "
	ZERO? BOTH? \?L29
	ZERO? COIN? /?L27
?L29:	REMOVE SCOIN
	ZERO? BAG? /?L30
	REMOVE BAG
?L30:	PRINTI "pockets your change"
	JUMP ?L33
?L27:	REMOVE BAG
	PRINTI "puts your bag away"
?L33:	PRINTI ". ""Keep "
	ZERO? BOTH? /?L34
	PRINTI "'em"
	JUMP ?L36
?L34:	PRINTI "it"
?L36:	PRINTR "[RIDX: 771]"
?L25:	FSET BWOMAN,SEEN
	CRLF
	EQUAL? LAYAWAY,1 \?L38
	CALL2 CTHE-PRINT,BWOMAN
	PRINTI "[RIDX: 772]"
?L38:	PRINTI """Take yer "
	ZERO? COIN? /?L41
	ZERO? BAG? /?L43
	PRINTI "bag and change"
	JUMP ?L44
?L41:	ZERO? BAG? /?L43
	PRINTI "bag"
	JUMP ?L44
?L43:	PRINTI "change"
?L44:	PRINTI ", guv'ner"
	EQUAL? LAYAWAY,1 \?L45
	PRINTI "! Ain't got all day"
?L45:	PRINTR "!"""

	.FUNCT BWOMAN-CRY,X=0
	ZERO? RAID? /?L1
	SET 'X,1
?L1:	FSET BWOMAN,SEEN
	PRINTI """"
	GET BWOMAN-CRIES,X >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTI "!"""
	RANDOM 100 >STACK
	LESS? 50,STACK /?L4
	GET BWOMAN-CRIES,2 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTI "s the "
	PRINTD BWOMAN
	PRINTC 46
?L4:	CRLF
	RTRUE

	.FUNCT I-RUBY,CR=1
	FSET? RUBY,CHILLY \?L1
	FCLEAR RUBY,CHILLY
	RFALSE
?L1:	CALL2 VISIBLE?,RUBY >STACK
	ZERO? STACK /FALSE
	ZERO? CR \?L5
	PRINTI "[RIDX: 798]"
	JUMP ?L7
?L5:	CRLF
	PRINT ALLATONCE
?L7:	CALL1 MEEP-GETS-RUBY
	RTRUE

	.FUNCT MEEP-GETS-RUBY
	SET 'RUBYROOM,HERE
	FCLEAR RUBY,CHILLY
	FSET RUBY,TOUCHED
	CALL2 DEQUEUE,I-RUBY
	CALL QUEUE,I-MEEP,-1
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	PRINTI "[RIDX: 799]"
	EQUAL? HERE,WABE \?L1
	PRINTI "of the "
	PRINTD THICKET
	JUMP ?L3
?L1:	PRINTI "from behind a tree"
?L3:	PRINTI ". It "
	IN? RUBY,PRAM \?L4
	PRINTI "[RIDX: 803]"
?L4:	PRINTI "snatches away the "
	PRINTD RUBY
	PRINTI " with its beak"
	IN? RUBY,PRAM /?L10
	EQUAL? HERE,WABE /?L9
	PRINTI ", "
	GET MEEP-TABLE,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	JUMP ?L10
?L9:	PRINTI "[RIDX: 807]"
?L10:	MOVE RUBY,MEEP
	CALL1 MOVE-MEEP
	EQUAL? HERE,BROAD-WALK \?L11
	FCLEAR MEEP,TOLD
	FCLEAR RUBY,TOLD
	CRLF
	PRINTI "[RIDX: 808]"
	PRINTD BWOMAN
	PRINT PERIOD
?L11:	FSET? EWIND,SEEN \TRUE
	FCLEAR EWIND,SEEN
	FSET WWIND,SEEN
	CRLF
	CALL2 CTHE-PRINT,EWIND
	PRINTR "[RIDX: 809]"

	.FUNCT I-MEEP
	IN? MEEP,HERE \FALSE
	CRLF
	PRINTI "[RIDX: 810]"
	PRINTD RUBY
	PRINTI " in its beak as it "
	GET MEEP-TABLE,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	CALL1 MOVE-MEEP
	RTRUE

	.FUNCT MOVE-MEEP,CNT=0,X,TBL
	CALL1 PCLEAR
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	PRINTI "[RIDX: 848]"
	EQUAL? HERE,LAN-WALK \?L1
	REMOVE MEEP
	PRINTI "east"
	JUMP ?L5
?L1:	GET MEEP-TABLE,1 >X
?L4:	GET X,CNT >TBL
	GET TBL,0 >STACK
	EQUAL? HERE,STACK \?L6
	GET TBL,2 >STACK
	MOVE MEEP,STACK
	GET TBL,1 >STACK
	PRINT STACK
	JUMP ?L5
?L6:	INC 'CNT
	JUMP ?L4
?L5:	FSET? TREE,BORING /?L9
	FSET TREE,BORING
	PRINTI "[RIDX: 852]"
	PRINTD MEEP
?L9:	PRINT PERIOD
	RTRUE

	.FUNCT I-FMEEP
	EQUAL? HERE,ON-ISLE \FALSE
	FSET? TS6-DOOR,OPENED \?L3
	CALL2 DEQUEUE,I-FMEEP
	CALL1 MEEP-TO-ZERO
	CRLF
	PRINT CTHEMEEP
	PRINTI "[RIDX: 853]"
	PRINTD TS6
	PRINTR "[RIDX: 854]"
?L3:	FSET? MEEP,SEEN \?L4
	FCLEAR MEEP,SEEN
	RFALSE
?L4:	RANDOM 100 >STACK
	LESS? 50,STACK \FALSE
	FSET MEEP,SEEN
	CRLF
	PRINT CTHEMEEP
	GET MEEP-TABLE,2 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE

	.FUNCT I-AIR-RAID,Q=0
	ZERO? RAID? \?L5
	EQUAL? MINUTES,57 \FALSE
	EQUAL? SECONDS,45 \FALSE
	PUTP BWOMAN,P?FDESC,STR?145
	SET 'RAID?,10
?L5:	EQUAL? HERE,WABE \?L7
	SET 'Q,1
?L7:	DEC 'RAID?
	CRLF
	EQUAL? RAID?,9 \?L10
	FSET TREE,TOUCHED
	PRINTI "[RIDX: 857]"
	CALL1 SAY-WIND
	PRINTI "[RIDX: 858]"
	PRINTD SOUND
	PRINTI "[RIDX: 859]"
	CRLF
	GET QUOTES,THOREAU >DO-WINDOW
	RTRUE
?L10:	EQUAL? RAID?,8 \?L12
	PRINTI "[RIDX: 860]"
	ZERO? Q \?L13
	PRINTI "[RIDX: 861]"
?L13:	PRINT PERIOD
	EQUAL? HERE,AT-TERRACE \?L16
	IN? BOY,HERE \?L16
	CRLF
	PRINTI "[RIDX: 862]"
	PRINTD SPHONES
	PRINTI "[RIDX: 863]"
	CRLF
	CALL1 LAST-BUBBLE
?L16:	CALL1 BOY-SCRAMS
	RTRUE
?L12:	EQUAL? RAID?,7 \?L19
	PRINTI "[RIDX: 864]"
	ZERO? Q \?L20
	PRINTI "[RIDX: 865]"
	PRINTD NANNIES
?L20:	PRINT PERIOD
	RTRUE
?L19:	EQUAL? RAID?,6 \?L23
	PRINTI "[RIDX: 866]"
	ZERO? Q \?L24
	PRINTI ". Worried "
	PRINTD NANNIES
	PRINTI " turn their "
	PRINTD GPRAM
	PRINTI " toward the gates"
?L24:	PRINT PERIOD
	RTRUE
?L23:	EQUAL? RAID?,5 \?L27
	PRINTI "[RIDX: 870]"
	ZERO? Q \?L28
	PRINTI "[RIDX: 871]"
?L28:	PRINT PERIOD
	RTRUE
?L27:	EQUAL? RAID?,4 \?L31
	PRINTI "[RIDX: 872]"
	ZERO? Q \?L32
	PRINTI ". Frightened "
	PRINTD TOURISTS
	PRINTI " and screaming "
	PRINTD GPRAM
	PRINTI " flee in every "
	PRINTD INTDIR
?L32:	PRINT PERIOD
	RTRUE
?L31:	EQUAL? RAID?,3 \?L35
	PRINTI "[RIDX: 876]"
	PRINTD SIRENS
	ZERO? Q \?L36
	PRINTI "[RIDX: 877]"
?L36:	PRINT PERIOD
	RTRUE
?L35:	EQUAL? RAID?,2 \?L39
	CALL2 CTHE-PRINT,GROUND
	PRINTI "[RIDX: 878]"
	ZERO? Q \?L40
	PRINTI ". Terror-stricken "
	PRINTD TOURISTS
	PRINTI " dive for cover"
?L40:	PRINT PERIOD
	RTRUE
?L39:	EQUAL? RAID?,1 \TRUE
	CALL1 VAPORIZE-GARDENS
	RTRUE

	.FUNCT VAPORIZE-GARDENS
	PRINTI "The "
	CALL1 SAY-WIND
	PRINTI "[RIDX: 882]"
	CALL2 PRINT-ID,STR?146
	CALL1 JIGS-UP
	RTRUE

	.FUNCT I-LONDON-HOLE,CR?=1
	DEC 'HCNT
	EQUAL? HERE,LONG-WATER,IN-WATER \FALSE
	ZERO? CR? /?L3
	CRLF
?L3:	EQUAL? HCNT,6 \?L5
	CALL2 CTHE-PRINT,WWIND
	PRINTR "[RIDX: 885]"
?L5:	EQUAL? HCNT,5 \?L7
	PUTP LONG-WATER,P?OVERHEAD,MISSILE
	PUTP IN-WATER,P?OVERHEAD,MISSILE
	FSET MISSILE,TOUCHED
	SET 'P-IT-OBJECT,MISSILE
	PRINTI "[RIDX: 886]"
	PRINTD MISSILE
	PRINTR "[RIDX: 887]"
?L7:	EQUAL? HCNT,4 \?L8
	FSET LWDOOR,TOUCHED
	PUTP LONG-WATER,P?SEE-E,LWDOOR
	PUTP IN-WATER,P?SEE-E,LWDOOR
	SET 'P-IT-OBJECT,LWDOOR
	CALL2 CTHE-PRINT,MISSILE
	PRINTI "[RIDX: 888]"
	PRINTD LWATER
	PRINT PCR
	PRINTI "[RIDX: 889]"
	PRINTD MISSILE
	PRINTI "[RIDX: 890]"
	PRINTD LWDOOR
	PRINTI "[RIDX: 891]"
	PRINTD CSURFACE
	PRINTR " of the water."
?L8:	EQUAL? HCNT,3 \?L9
	PRINTI "[RIDX: 893]"
	PRINTD LWATER
	PRINTI "[RIDX: 894]"
	PRINTD LWDOOR
	PRINT PCR
	CALL2 CTHE-PRINT,MISSILE
	PRINTR "[RIDX: 895]"
?L9:	EQUAL? HCNT,2 \?L10
	PRINTI "[RIDX: 896]"
	PRINTD LWDOOR
	PRINTI "[RIDX: 897]"
	PRINT PCR
	CALL2 CTHE-PRINT,MISSILE
	PRINTR "[RIDX: 898]"
?L10:	EQUAL? HCNT,1 \?L11
	PRINTI "[RIDX: 899]"
	PRINTD LWATER
	PRINTI "[RIDX: 900]"
	PRINTD CSURFACE
	PRINTI "[RIDX: 901]"
	PRINTD GARDENS
	PRINTI ", including the "
	PRINTD MEEP
	PRINTI " you met before"
	CALL1 ENTICINGLY
	PRINTI "[RIDX: 904]"
	PRINTD LWDOOR
	PRINT PCR
	CALL2 CTHE-PRINT,MISSILE
	PRINTR " is closing in fast."
?L11:	CALL2 CTHE-PRINT,MISSILE
	PRINTI "[RIDX: 906]"
	PRINTD LWDOOR
	PRINTI "[RIDX: 907]"
	PRINTD LWATER
	PRINTI "[RIDX: 908]"
	CALL2 PRINT-ID,STR?147
	CALL1 JIGS-UP
	RTRUE

	.FUNCT I-HOLD-BREATH,CR?=1
	DEC 'BREATH-HELD?
	EQUAL? BREATH-HELD?,3,2 /FALSE
	ZERO? CR? /?L3
	CRLF
?L3:	EQUAL? BREATH-HELD?,1 \?L5
	PRINT CANT
	PRINTI "hold "
	PRINTD BREATH
	PRINTR " much longer."
?L5:	SET 'BREATH-HELD?,0
	CALL2 DEQUEUE,I-HOLD-BREATH
	EQUAL? HERE,UNDER-WATER \?L8
	PRINTI "[RIDX: 913]"
	PRINTD CSURFACE
	PRINTI " as "
	PRINTD BREATH
	PRINTI " gives out"
	PRINT PCR
	CALL2 GOTO,IN-CIST
	RTRUE
?L8:	PRINTR "[RIDX: 916]"

	.FUNCT NEW-OSIGN,DOOR,V=1,OLD
	FCLEAR TS1-DOOR,OPENED
	FCLEAR TS2-DOOR,OPENED
	FCLEAR TS3-DOOR,OPENED
	FCLEAR TS4-DOOR,OPENED
	FCLEAR TS5-DOOR,OPENED
	FCLEAR TS6-DOOR,OPENED
	SET 'OLD,OSIGN
	SET 'OSIGN,DOOR
	SET 'ODEG,5
	DIV OSIGN,2 >ISIGN
	SET 'IDEG,12
	GET OROOMS,OSIGN >STACK
	MOVE OUTER-SHADOW,STACK
	GET IROOMS,ISIGN >STACK
	MOVE INNER-SHADOW,STACK
	GET OSIGN-DOORS,OSIGN >DOOR
	ZERO? DOOR /?L3
	FSET? DOOR,NOALL /?L3
	FSET DOOR,OPENED
	EQUAL? DOOR,TS2-DOOR \?L3
	FSET TUN1,LIGHTED
?L3:	CALL1 RESET-SHDIRS
	ZERO? V /?L7
	PRINTI "[RIDX: 919]"
	GET SYMBOL-NAMES,OSIGN >STACK
	PRINT STACK
	PRINTI " symbol."
	CRLF
?L7:	EQUAL? PRSI,LEFT,RIGHT \TRUE
	GRTR? OLD,11 \?L12
	ZERO? OSIGN \?L12
	CALL1 REPORT-SUNSET
	RTRUE
?L12:	EQUAL? OLD,0,1 \TRUE
	GRTR? OSIGN,11 \TRUE
	CALL2 REPORT-SUNSET,1
	RTRUE

	.FUNCT RESET-SHDIRS,X,Y,Z,Q
	LESS? OSIGN,3 \?L1
	SET 'X,STR?148
	SET 'Y,P?NORTH
	ZERO? FLIP? \?L3
	SET 'Z,STR?149
	SET 'Q,STR?150
	JUMP ?L21
?L3:	SET 'Z,STR?150
	SET 'Q,STR?149
	JUMP ?L21
?L1:	LESS? OSIGN,5 \?L6
	ZERO? FLIP? \?L7
	SET 'X,STR?151
	SET 'Y,P?NE
	SET 'Z,STR?152
	SET 'Q,STR?153
	JUMP ?L21
?L7:	SET 'X,STR?153
	SET 'Y,P?NW
	SET 'Z,STR?154
	SET 'Q,STR?151
	JUMP ?L21
?L6:	LESS? OSIGN,8 \?L10
	SET 'Z,STR?155
	SET 'Q,STR?148
	ZERO? FLIP? \?L11
	SET 'X,STR?149
	SET 'Y,P?EAST
	JUMP ?L21
?L11:	SET 'X,STR?150
	SET 'Y,P?WEST
	JUMP ?L21
?L10:	LESS? OSIGN,10 \?L14
	ZERO? FLIP? \?L15
	SET 'X,STR?152
	SET 'Y,P?NW
	SET 'Z,STR?154
	SET 'Q,STR?151
	JUMP ?L21
?L15:	SET 'X,STR?154
	SET 'Y,P?NE
	SET 'Z,STR?152
	SET 'Q,STR?153
	JUMP ?L21
?L14:	SET 'X,STR?155
	SET 'Y,P?SOUTH
	ZERO? FLIP? \?L19
	SET 'Z,STR?150
	SET 'Q,STR?149
	JUMP ?L21
?L19:	SET 'Z,STR?149
	SET 'Q,STR?150
?L21:	PUT SHDIRS,0,X
	PUT SHDIRS,1,Y
	PUT SHDIRS,2,Z
	PUT SHDIRS,3,Q
	RTRUE

	.FUNCT I-SHADOW,V=0,DOOR=0,OHERE=0
	ZERO? SUN-MOVING? /FALSE
	IGRTR? 'ODEG,12 \?L18
	SET 'ODEG,0
	INC 'OSIGN
	CALL1 RESET-SHDIRS
	IN? OUTER-SHADOW,HERE \?L6
	INC 'V
	CALL1 SHADOW-GOES
?L6:	GRTR? OSIGN,12 \?L9
	SET 'OSIGN,0
	SET 'ODEG,0
	SET 'ISIGN,0
	SET 'IDEG,7
	CALL1 RESET-SHDIRS
	MOVE OUTER-SHADOW,IN-MEADOW
	MOVE INNER-SHADOW,FCLEARING
	FSET? HERE,SHADOWY \?L11
	FSET? HERE,INDOORS /?L11
	CALL1 REPORT-SUNSET
	EQUAL? HERE,IN-MEADOW,FCLEARING \TRUE
	CALL1 SHADOW-COMES
	RTRUE
?L11:	RETURN V
?L9:	GET OROOMS,OSIGN >STACK
	MOVE OUTER-SHADOW,STACK
	IN? OUTER-SHADOW,HERE \?L18
	INC 'V
	CALL1 SHADOW-COMES
?L18:	GET OSIGN-DOORS,OSIGN >DOOR
	EQUAL? ODEG,5 \?L22
	ZERO? DOOR /?L22
	EQUAL? HERE,ON-GNOMON \?L22
	SET 'V,1
	SET 'P-IT-OBJECT,RING
	CRLF
	CALL2 CTHE-PRINT,RING
	PRINTI " on the "
	PRINTD BDIAL
	PRINTI "[RIDX: 955]"
	CALL2 ITALICIZE,STR?156
	CRLF
?L22:	IGRTR? 'IDEG,25 \?L30
	SET 'IDEG,0
	INC 'ISIGN
	IN? INNER-SHADOW,HERE \?L27
	INC 'V
	CALL1 SHADOW-GOES
?L27:	GET IROOMS,ISIGN >STACK
	MOVE INNER-SHADOW,STACK
	IN? INNER-SHADOW,HERE \?L30
	INC 'V
	CALL1 SHADOW-COMES
?L30:	IN? OUTER-SHADOW,HERE \?L34
	SET 'OHERE,1
?L34:	EQUAL? ODEG,5 \?L37
	ZERO? DOOR /?L37
	ZERO? OHERE /?L39
	INC 'V
	CRLF
	PRINTI "The tip of the "
	PRINTD OUTER-SHADOW
	PRINTI " touches the "
	PRINTD TS0
	PRINT PERIOD
?L39:	FSET? DOOR,NOALL /?L47
	FSET DOOR,OPENED
	EQUAL? DOOR,TS2-DOOR \?L44
	FSET TUN1,LIGHTED
?L44:	ZERO? OHERE /?L47
	CRLF
	PRINTI "[RIDX: 961]"
	PRINTD DOOR
	PRINTI " in the "
	PRINTD TS0
	PRINTI " swings open."
	CRLF
	EQUAL? HERE,ON-ISLE \TRUE
	IN? MEEP,TS6 \TRUE
	CALL1 I-FMEEP
	RTRUE
?L47:	RETURN V
?L37:	EQUAL? ODEG,6 \?L54
	ZERO? DOOR /?L54
	ZERO? OHERE /?L54
	SET 'P-IT-OBJECT,OUTER-SHADOW
	CRLF
	CALL2 CTHE-PRINT,OUTER-SHADOW
	CALL2 PICK-NEXT,CREEPERS >STACK
	PRINT STACK
	PRINTI "across the "
	PRINTD TS0
	FSET? DOOR,NOALL /?L55
	SET 'P-IT-OBJECT,DOOR
	PRINTI "'s open door"
?L55:	PRINT PERIOD
	RTRUE
?L54:	EQUAL? ODEG,7 \?L58
	ZERO? DOOR /?L59
	FCLEAR DOOR,OPENED
	EQUAL? DOOR,TS2-DOOR \?L61
	FCLEAR TUN1,LIGHTED
?L61:	EQUAL? HERE,IN-ORBIT,ON-SAT,PLAYGROUND /?L66
	EQUAL? HERE,ON-BIRD \?L64
?L66:	RETURN V
?L64:	ZERO? OHERE /?L67
	INC 'V
	CRLF
	CALL2 CTHE-PRINT,OUTER-SHADOW
	CALL2 PICK-NEXT,CREEPERS >STACK
	PRINT STACK
	PRINTI "away from the "
	PRINTD TS0
?L67:	FSET? DOOR,NOALL \?L69
	ZERO? OHERE /?L71
	PRINT PERIOD
?L71:	RETURN V
?L69:	ZERO? OHERE /?L74
	PRINTI ", and the "
	JUMP ?L76
?L74:	CALL GLOBAL-IN?,DOOR,HERE >STACK
	ZERO? STACK /?L75
	CRLF
	PRINTI "The "
	JUMP ?L76
?L75:	RETURN V
?L76:	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	PRINTI "door "
	FSET? HERE,SHADOWY \?L77
	PRINTI "in the stem "
?L77:	PRINTI "[RIDX: 971]"
	EQUAL? DOOR,TS0-DOOR /?L82
	FSET? HERE,SHADOWY /?L80
?L82:	FSET DOOR,NOALL
	PRINTI "[RIDX: 972]"
	CRLF
	EQUAL? HERE,TUN1 \TRUE
	CALL1 SAY-IF-HERE-LIT
	RTRUE
?L80:	PRINT PERIOD
	RTRUE
?L59:	ZERO? OHERE /?L87
	CALL1 SHADOW-CREEPS
	PRINT PERIOD
	RTRUE
?L87:	RETURN V
?L58:	IN? INNER-SHADOW,HERE \?L89
	MOD IDEG,5 >STACK
	ZERO? STACK \?L89
	SET 'P-IT-OBJECT,INNER-SHADOW
	CALL1 SHADOW-CREEPS
	PRINT PERIOD
	RTRUE
?L89:	ZERO? OHERE /?L92
	EQUAL? ODEG,11 /?L91
?L92:	IN? INNER-SHADOW,HERE \?L90
	EQUAL? IDEG,23 \?L90
?L91:	ZERO? OHERE \?L93
	SET 'P-IT-OBJECT,INNER-SHADOW
	JUMP ?L95
?L93:	SET 'P-IT-OBJECT,OUTER-SHADOW
?L95:	CALL1 SHADOW-CREEPS
	PRINTI ". It's almost"
	PRINT OUTASITE
	RTRUE
?L90:	RETURN V

	.FUNCT SHADOW-CREEPS
	IN? OUTER-SHADOW,HERE \?L1
	SET 'P-IT-OBJECT,OUTER-SHADOW
	JUMP ?L3
?L1:	SET 'P-IT-OBJECT,INNER-SHADOW
?L3:	CRLF
	CALL2 CTHE-PRINT,OUTER-SHADOW
	CALL2 PICK-NEXT,CREEPERS >STACK
	PRINT STACK
	CALL1 SHDIRWARD
	RTRUE

	.FUNCT SHDIRWARD
	GET SHDIRS,0 >STACK
	PRINT STACK
	PRINTI "ward"
	RTRUE

	.FUNCT SHADOW-COMES
	IN? OUTER-SHADOW,HERE \?L1
	SET 'P-IT-OBJECT,OUTER-SHADOW
	JUMP ?L3
?L1:	SET 'P-IT-OBJECT,INNER-SHADOW
?L3:	CALL1 EDGE-OF
	CALL2 PRINTA,OUTER-SHADOW
	CALL2 PICK-NEXT,CREEPERS >STACK
	PRINT STACK
	PRINTR "into view."

	.FUNCT EDGE-OF
	CRLF
	PRINTI "The edge of "
	RTRUE

	.FUNCT SHADOW-GOES
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	CALL1 EDGE-OF
	CALL2 THE-PRINT,OUTER-SHADOW
	PRINTI " disappears "
	CALL1 SHDIRWARD
	PRINT PERIOD
	RTRUE

	.FUNCT REPORT-SUNSET,BW=0
	CRLF
	FSET? SUN,TOUCHED /?L1
	PRINTI "[RIDX: 982]"
?L1:	PRINTI "[RIDX: 983]"
	ZERO? BW \?L4
	CALL1 SAY-WEST
	JUMP ?L6
?L4:	CALL1 SAY-EAST
?L6:	PRINTI "ern "
	PRINTD HORIZON
	FSET? SUN,TOUCHED \?L7
	PRINTI "[RIDX: 985]"
	ZERO? BW \?L9
	CALL1 SAY-EAST
	JUMP ?L11
?L9:	CALL1 SAY-WEST
?L11:	PRINT PERIOD
	RTRUE
?L7:	FSET SUN,TOUCHED
	PRINTI "[RIDX: 986]"
	CALL2 ITALICIZE,STR?157
	PRINTI "[RIDX: 988]"
	PRINTD DMOUNTS
	PRINTI " and "
	PRINTD TREETOPS
	PRINTI "[RIDX: 990]"
	PRINTD HORIZON
	PRINTI ", casting double "
	PRINTD DSHADOW
	PRINTI "[RIDX: 992]"
	CALL2 PRINT-ID,STR?158
	ZERO? BW \?L13
	CALL1 SAY-WEST
	JUMP ?L15
?L13:	CALL1 SAY-EAST
?L15:	PRINTI "[RIDX: 994]"
	ZERO? BW \?L16
	CALL1 SAY-EAST
	JUMP ?L18
?L16:	CALL1 SAY-WEST
?L18:	PRINTR "[RIDX: 995]"

	.FUNCT I-DROP-OAK
	FSET OAK,TOUCHED
	EQUAL? HERE,AT-CHASM \FALSE
	CRLF
	PRINTI "[RIDX: 996]"
	PRINTD OAK
	PRINTR "[RIDX: 997]"

	.FUNCT I-ORBIT,ON?=0,MAG?=0,DOOR=0
	EQUAL? HERE,ON-SAT \?L3
	ZERO? SUITED? /?L3
	SET 'ON?,1
	FSET? TS1-DOOR,OPENED \?L3
	FSET? TS1-DOOR,NOALL /?L3
	SET 'DOOR,1
?L3:	CALL2 GOT?,LUMP >STACK
	ZERO? STACK /?L7
	SET 'MAG?,1
?L7:	INC 'ORBCNT
	CRLF
	EQUAL? ORBCNT,1 \?L10
	ZERO? SUITED? /?L12
	CALL2 CTHE-PRINT,FILM
	PRINTI "[RIDX: 999]"
	PRINT PCR
?L12:	CALL2 CTHE-PRINT,TS1-DOOR
	PRINTR "[RIDX: 1000]"
?L10:	EQUAL? ORBCNT,2 \?L15
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	PRINTI "[RIDX: 1001]"
	PRINTD TS1-DOOR
	PRINTR "[RIDX: 1002]"
?L15:	EQUAL? ORBCNT,3 \?L16
	FSET XRAY,TOUCHED
	SET 'P-IT-OBJECT,XRAY
	PRINTI "Far ahead, a "
	PRINTD XRAY
	PRINTR " drifts into view."
?L16:	EQUAL? ORBCNT,4 \?L17
	CALL2 CTHE-PRINT,XRAY
	PRINTI " drifts closer."
	CRLF
	ZERO? MAG? /TRUE
	CRLF
	PRINTI "You feel the "
	PRINTD LUMP
	PRINTI "[RIDX: 1007]"
	PRINTD XRAY
	PRINTR "!"
?L17:	EQUAL? ORBCNT,5 \?L21
	ZERO? MAG? /?L22
	MOVE LUMP,ON-SAT
	FSET LUMP,NODESC
	FCLEAR LUMP,TAKEABLE
	FSET LUMP,TRYTAKE
	CALL2 CTHE-PRINT,LUMP
	PRINTI "[RIDX: 1009]"
	PRINTD XRAY
	PRINTI " glides past. "
	ZERO? SUITED? \?L24
	PRINTI "It"
	CALL1 CLANGS
	PRINTI "just out of reach"
	JUMP ?L26
?L24:	SET 'ON?,1
	SET 'HERE,ON-SAT
	MOVE PLAYER,HERE
	SET 'OLD-HERE,0
	PRINTI "You find "
	PRINTD ME
	PRINTI "[RIDX: 1014]"
	PRINT PCR
	CALL2 ITALICIZE,STR?159
	PRINTI " The "
	PRINTD FILM
	PRINTI "[RIDX: 1017]"
	PRINTD XRAY
	PRINT PTHE
	PRINTD LUMP
	CALL1 CLANGS
	PRINTI "[RIDX: 1018]"
?L26:	PRINT PCR
	CALL2 VOICE-MUTTERS,STR?160
?L22:	CALL2 CTHE-PRINT,XRAY
	ZERO? ON? \?L28
	SET 'P-IT-OBJECT,XRAY
	PRINTR "[RIDX: 1020]"
?L28:	SET 'P-THEM-OBJECT,THRUSTERS
	PRINTI "'s "
	PRINTD THRUSTERS
	PRINTR "[RIDX: 1022]"
?L21:	EQUAL? ORBCNT,6 \?L31
	CALL2 CTHE-PRINT,XRAY
	PRINTI " drifts "
	ZERO? ON? \?L32
	PRINTI "farther "
?L32:	PRINTI "back in the "
	PRINTD INTDIR
	PRINTI " you just came from."
	CRLF
	ZERO? DOOR /TRUE
	SET 'P-IT-OBJECT,TS1-DOOR
	CRLF
	CALL2 CTHE-PRINT,TS1-DOOR
	PRINTR "[RIDX: 1027]"
?L31:	EQUAL? ORBCNT,7 \?L38
	SET 'P-IT-OBJECT,ICBM
	FSET ICBM,TOUCHED
	PRINTI "[RIDX: 1028]"
	PRINTD ICBM
	PRINTI "[RIDX: 1029]"
	CRLF
	ZERO? DOOR /TRUE
	CRLF
	CALL2 CTHE-PRINT,XRAY
	PRINTI "[RIDX: 1030]"
	PRINTD TS1-DOOR
	PRINT PERIOD
	RTRUE
?L38:	EQUAL? ORBCNT,8 \?L42
	CALL2 CTHE-PRINT,THRUSTERS
	PRINTI " on the "
	ZERO? ON? \?L43
	PRINTI "distant "
?L43:	PRINTD XRAY
	PRINTI "[RIDX: 1033]"
	PRINTD ICBM
	PRINT PERIOD
	ZERO? DOOR /TRUE
	SET 'P-IT-OBJECT,TS1-DOOR
	CRLF
	CALL2 CTHE-PRINT,TS1-DOOR
	PRINTR " is very close now."
?L42:	CALL2 CTHE-PRINT,XRAY
	PRINTI "[RIDX: 1035]"
	CALL1 STAR-WARS
	RTRUE

	.FUNCT STAR-WARS
	PRINT PA
	PRINTI "[RIDX: 1036]"
	PRINTD ICBM
	PRINTI "[RIDX: 1037]"
	PRINTD XRAY
	PRINTI "[RIDX: 1038]"
	CALL2 PRINT-ID,STR?161
	CALL1 JIGS-UP
	RTRUE

	.FUNCT CLANGS
	PRINTI "[RIDX: 1040]"
	RTRUE

	.FUNCT I-BUBBLES
	EQUAL? HERE,NBOG,AT-CHASM \?L1
	RANDOM 100 >STACK
	LESS? 20,STACK /?L1
	CRLF
	PRINTI "A "
	PRINTD SBUBBLE
	PRINTI "[RIDX: 1043]"
	CALL1 SAY-POP
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? HERE,PROM /?L3
	SET 'BACTION,0
	RFALSE
?L3:	ZERO? BACTION \?L4
	CRLF
	CALL1 BOY-DIPS
	ZERO? IN-DISH? /?L5
	SET 'IN-DISH?,0
	SET 'OLD-HERE,0
	SET 'SUITED?,SUIT-LIFE
	SET 'BACTION,1
	CALL QUEUE,I-BUBBLE-SUIT,-1
	PRINTI "[RIDX: 1045]"
	PRINT PCR
	CALL1 BOY-BLOWS-BUBBLE
	PRINTI ". You find "
	PRINTD ME
	PRINTI "[RIDX: 1047]"
	PRINTD FILM
	PRINTI " of iridescent color"
?L5:	PRINT PERIOD
	RTRUE
?L4:	EQUAL? BACTION,1 \?L8
	CRLF
	CALL1 BOY-BLOWS-BUBBLE
	PRINT PERIOD
	RTRUE
?L8:	CRLF
	CALL1 BOY-WAITS
	RTRUE

	.FUNCT I-BOY,CR=1
	EQUAL? HERE,AT-TERRACE /?L1
	SET 'BACTION,0
	RFALSE
?L1:	ZERO? CR /?L3
	CRLF
?L3:	ZERO? BACTION \?L5
	CALL1 BOY-DIPS
	PRINT PERIOD
	RTRUE
?L5:	EQUAL? BACTION,1 \?L7
	CALL1 BOY-BLOWS-BUBBLE
	PRINT PERIOD
	RTRUE
?L7:	CALL1 BOY-WAITS
	RTRUE

	.FUNCT BOY-DIPS
	INC 'BACTION
	CALL2 CTHE-PRINT,GIANT
	PRINTI " dips the "
	PRINTD WAND
	PRINTI "[RIDX: 1051]"
	RTRUE

	.FUNCT BOY-BLOWS-BUBBLE
	INC 'BACTION
	FCLEAR HERE,NOALL
	CALL2 CTHE-PRINT,GIANT
	PRINTI " pulls the "
	PRINTD WAND
	PRINTI "[RIDX: 1053]"
	PRINTD SBUBBLE
	RTRUE

	.FUNCT BOY-WAITS
	CALL1 SAY-BOY-BOPS
	FSET HERE,NOALL
	ZERO? SUITED? /?L1
	PRINT PERIOD
	RTRUE
?L1:	PRINTI " as the "
	PRINTD SBUBBLE
	FSET? BOY,SEEN /?L4
	FSET BOY,SEEN
	CALL1 SAY-POP
	PRINT PERIOD
	GET QUOTES,POPE >DO-WINDOW
	RTRUE
?L4:	RANDOM 100 >STACK
	LESS? 50,STACK /?L6
	PRINTR " floats away."
?L6:	CALL1 SAY-POP
	PRINT PERIOD
	RTRUE

	.FUNCT SAY-POP
	PRINTI "[RIDX: 1056]"
	HLIGHT H-ITALIC
	PRINTI "pop"
	HLIGHT H-NORMAL
	RTRUE

	.FUNCT SAY-BOY-BOPS
	EQUAL? BACTION,2 \?L1
	SET 'BACTION,0
?L1:	CALL2 CTHE-PRINT,GIANT
	CALL2 PICK-NEXT,BOY-BOPS >STACK
	PRINT STACK
	PRINTI "[RIDX: 1058]"
	RTRUE

	.FUNCT I-VACUUM,X=0
	ZERO? SUITED? \FALSE
	DEC 'VACUUM
	CALL2 VISIBLE?,CAGE >STACK
	ZERO? STACK /?L8
	IN? LEM,CAGE \?L6
	SET 'X,LEM
	JUMP ?L8
?L6:	IN? MAGPIE,CAGE \?L8
	SET 'X,MAGPIE
?L8:	EQUAL? VACUUM,2 \?L11
	CALL1 ICE-VAC
	CRLF
	PRINTI "[RIDX: 1064]"
	CALL2 PRINT-ID,STR?162
	ZERO? X /?L13
	PRINT PTHE
	PRINTD X
	PRINTI "[RIDX: 1066]"
	CALL2 PRINT-ID,STR?163
?L13:	PRINT PERIOD
	RTRUE
?L11:	CRLF
	EQUAL? VACUUM,1 \?L17
	PRINTI "[RIDX: 1068]"
	CALL2 PRINT-ID,STR?164
	ZERO? X /?L19
	PRINTI ". So is the "
	PRINTD X
	PRINTI "[RIDX: 1071]"
	CALL2 PRINT-ID,STR?165
?L19:	PRINT PERIOD
	RTRUE
?L17:	PRINTI "[RIDX: 1073]"
	CALL2 PRINT-ID,STR?166
	CALL1 JIGS-UP
	RTRUE

	.FUNCT I-BUBBLE-SUIT,CR?=1
	EQUAL? HERE,IN-ORBIT,ON-SAT,IN-SKY /FALSE
	ZERO? CR? /?L3
	CRLF
?L3:	DEC 'SUITED?
	CALL2 CTHE-PRINT,FILM
	PRINTI " around you"
	EQUAL? SUITED?,3 \?L5
	PRINTR "[RIDX: 1077]"
?L5:	EQUAL? SUITED?,2 \?L7
	PRINTR " is sagging a bit."
?L7:	EQUAL? SUITED?,1 \?L8
	PRINTR "[RIDX: 1079]"
?L8:	CALL1 POP-BUBBLE-SUIT
	CALL1 SAY-POP
	PRINT PERIOD
	RTRUE

	.FUNCT I-ICE,SEE=0,GOT=0
	CALL2 VISIBLE?,ICE >STACK
	ZERO? STACK /?L3
	INC 'SEE
	CALL2 GOT?,ICE >STACK
	ZERO? STACK /?L3
	INC 'GOT
?L3:	EQUAL? HERE,IN-ORBIT,ON-SAT \?L10
	ZERO? SUITED? /?L9
?L10:	CALL2 CHILLY?,ICE >STACK
	ZERO? STACK /?L7
?L9:	EQUAL? ILIFE,6 /FALSE
	SET 'ILIFE,6
	ZERO? SEE /FALSE
	CALL1 ICE-HARDENS-IN
	EQUAL? HERE,ON-GNOMON \?L16
	PRINTI "thin, "
?L16:	PRINTR "frosty air."
?L7:	DEC 'ILIFE
	ZERO? ILIFE \?L21
	CALL1 REMOVE-ICE
	ZERO? SEE /FALSE
	CRLF
	PRINTI "The "
	ZERO? GOT /?L25
	PRINTI "melting "
?L25:	PRINTD ICE
	ZERO? GOT \?L28
	PRINTR "[RIDX: 1085]"
?L28:	PRINTI "[RIDX: 1086]"
	EQUAL? HERE,IN-ORBIT,ON-SAT,IN-SKY \?L31
	PRINTI "tumbles"
	PRINT OUTASITE
	RTRUE
?L31:	EQUAL? HERE,PROM \?L33
	ZERO? IN-DISH? /?L33
	PRINTR "[RIDX: 1092]"
?L33:	PRINTR "[RIDX: 1093]"
?L21:	ZERO? SEE /FALSE
	EQUAL? ILIFE,3 \?L37
	CRLF
	PRINTI "[RIDX: 1094]"
	PRINTD ICE
	PRINTR " glisten."
?L37:	EQUAL? ILIFE,2 \?L38
	CRLF
	ZERO? GOT \?L39
	PRINTI "It looks as if the "
	PRINTD ICE
	PRINTR "[RIDX: 1097]"
?L39:	PRINTI "[RIDX: 1098]"
	PRINTD ICE
	PRINT PERIOD
	RTRUE
?L38:	EQUAL? ILIFE,1 \FALSE
	CRLF
	CALL2 CTHE-PRINT,ICE
	PRINTI " is "
	ZERO? GOT \?L43
	PRINTR "[RIDX: 1100]"
?L43:	PRINTR "[RIDX: 1101]"

	.FUNCT ICE-VAC
	IN? ICE,PLAYER \FALSE
	SET 'ILIFE,6
	CALL1 ICE-HARDENS-IN
	PRINTR "sudden vacuum."

	.FUNCT ICE-HARDENS-IN
	CRLF
	CALL2 CTHE-PRINT,ICE
	PRINTI " hardens in the "
	RTRUE

	.FUNCT CHILLY?,OBJ,L
	ZERO? OBJ /FALSE
	LOC OBJ >L
	EQUAL? L,0,LOCAL-GLOBALS,GLOBAL-OBJECTS /FALSE
	IN? L,ROOMS \?L8
	FSET? L,CHILLY /TRUE
?L8:	CALL2 CHILLY?,L >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT I-LEM,CR=1,L
	ZERO? QUIET? \FALSE
	LOC LEM >L
	ZERO? L /?L6
	CALL2 VISIBLE?,LEM >STACK
	ZERO? STACK \?L4
?L6:	FCLEAR LEM,SEEN
	FSET LEM,CHILLY
	RFALSE
?L4:	EQUAL? L,PLAYER \?L7
	ZERO? CR /?L8
	CRLF
?L8:	FSET? LEM,CHILLY \?L11
	FCLEAR LEM,CHILLY
	FSET LEM,SEEN
	PRINT CTHELEM
	PRINTI "[RIDX: 1107]"
	PRINTD HANDS
	PRINT PERIOD
	CALL2 PRINT-ID,STR?167
	RTRUE
?L11:	PRINTI "[RIDX: 1109]"
	PRINTD LEM
	PRINTI "[RIDX: 1110]"
	ZERO? LIT? \?L14
	PRINTI "falls with a "
?L14:	CALL1 FREE-LEM
	RTRUE
?L7:	EQUAL? L,FISSURE \?L17
	FSET LEM,CHILLY
	ZERO? CR /?L23
	FSET? LEM,SEEN \?L20
	FCLEAR LEM,SEEN
	RFALSE
?L20:	RANDOM 100 >STACK
	LESS? 50,STACK \FALSE
	ZERO? CR /?L23
	CRLF
?L23:	FSET LEM,SEEN
	PRINT CTHELEM
	GET RAT-TABLE,2 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L17:	EQUAL? L,IN-CLOSET \?L26
	FSET LEM,CHILLY
	FSET? CLOSET-DOOR,OPENED \?L27
	CALL1 EXIT-LEM
	ZERO? CR /?L29
	CRLF
?L29:	PRINT CTHELEM
	CALL1 SNAKE-LUNCH
	RTRUE
?L27:	ZERO? CR /?L35
	FSET? LEM,SEEN \?L33
	FCLEAR LEM,SEEN
	RFALSE
?L33:	RANDOM 100 >STACK
	LESS? 50,STACK \FALSE
	CRLF
?L35:	ZERO? LIT? \?L36
	GET SKINK-TABLE,1 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L36:	PRINT CTHELEM
	GET RAT-TABLE,3 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L26:	EQUAL? L,CAGE \?L39
	FSET LEM,CHILLY
	FSET? L,OPENED \?L40
	ZERO? CR /?L42
	CRLF
?L42:	ZERO? LIT? \?L45
	PRINTI "You hear the "
	JUMP ?L47
?L45:	PRINTI "The "
?L47:	PRINTD LEM
	CALL1 SEE-SNAKE? >STACK
	ZERO? STACK /?L48
	FSET LEM,FLIPPED
	FSET LEM,SEEN
	FCLEAR LEM,TOUCHED
	PRINTR "[RIDX: 1114]"
?L48:	FSET? LEM,TOUCHED \?L50
	FCLEAR LEM,TOUCHED
	FSET LEM,SEEN
	PRINTI " scamper"
	ZERO? LIT? \?L51
	PRINTI "ing"
	JUMP ?L53
?L51:	PRINTI "s"
?L53:	PRINTR "[RIDX: 1118]"
?L50:	PRINTI " scramble"
	ZERO? LIT? /?L55
	PRINTI "s"
?L55:	PRINTI "[RIDX: 1121]"
	CALL1 FREE-LEM
	RTRUE
?L40:	CALL1 SEE-SNAKE? >STACK
	ZERO? STACK /?L58
	ZERO? CR /?L59
	CRLF
?L59:	FSET LEM,SEEN
	PRINT CTHELEM
	FSET? LEM,FLIPPED /?L62
	FSET LEM,FLIPPED
	PRINTI "sees the "
	PRINTD SNAKE
	PRINTR "[RIDX: 1123]"
?L62:	GET RAT-TABLE,3 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L58:	FSET? LEM,SEEN \?L65
	FCLEAR LEM,SEEN
	RFALSE
?L65:	ZERO? CR /?L68
	RANDOM 100 >STACK
	LESS? 25,STACK /FALSE
	ZERO? CR /?L68
	CRLF
?L68:	ZERO? LIT? \?L71
	CALL2 HEAR-LEM-IN,CAGE
	RTRUE
?L71:	FSET LEM,SEEN
	PRINT CTHELEM
	PRINTI "in the cage "
	GET RAT-TABLE,2 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L39:	ZERO? CR /?L76
	CRLF
?L76:	FSET LEM,SEEN
	PRINT CTHELEM
	FSET? L,CONTAINER \?L79
	FSET? L,OPENED \?L79
	PRINTI "leaps out of "
	CALL2 THE-PRINT,L
	PRINTI " and "
	JUMP ?L81
?L79:	FSET? L,SURFACE \?L81
	PRINTI "leaps off "
	CALL2 THE-PRINT,L
	PRINTI " and "
?L81:	CALL1 FREE-LEM
	RTRUE

	.FUNCT SNAKE-LUNCH
	PRINTI "[RIDX: 1129]"
	PRINTD CLOSET-DOOR
	PRINTI "[RIDX: 1130]"
	PRINTD SNAKE
	PRINT PCR
	CALL2 CTHE-PRINT,LEM
	PRINTI "[RIDX: 1131]"
	CALL1 SNAKE-LEAVES
	CALL1 EXIT-LEM
	CALL2 UPDATE-SCORE,3
	RTRUE

	.FUNCT HEAR-LEM-IN,THING
	FSET LEM,SEEN
	PRINTI "You can hear the "
	PRINTD LEM
	GET RAT-TABLE,1 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTI " about in "
	CALL2 THE-PRINT,THING
	PRINT PERIOD
	RTRUE

	.FUNCT FREE-LEM
	FSET LEM,CHILLY
	FSET LEM,SEEN
	ZERO? SUITED? /?L1
	IN? LEM,PLAYER /?L3
	MOVE LEM,PLAYER
?L3:	SET 'P-IT-OBJECT,LEM
	CALL2 BOUNCES-IN-FILM,LEM
	RTRUE
?L1:	EQUAL? HERE,CLIFF-EDGE,TOWER-PLAT,ON-TOWER \?L6
	CALL1 EXIT-LEM
	PRINTI "[RIDX: 1152]"
	EQUAL? HERE,CLIFF-EDGE \?L7
	PRINTD TCLIFF
	JUMP ?L9
?L7:	MOVE DLEM,AT-ZERO
	FSET DLEM,NOGRASS
	PRINTD TOWER
?L9:	PRINT PERIOD
	RTRUE
?L6:	EQUAL? HERE,IN-ORBIT,ON-SAT \?L10
	ZERO? SUITED? \?L10
	CALL1 EXIT-LEM
	PRINTI "tumbles slowly"
	PRINT OUTASITE
	RTRUE
?L10:	EQUAL? HERE,IN-CLOSET \?L11
	MOVE LEM,HERE
	PRINTI "plop"
	ZERO? LIT? /?L12
	PRINTI "s"
?L12:	PRINTI " to the "
	PRINTD FLOOR
	FSET? CLOSET-DOOR,OPENED \?L15
	PRINTI ". Then it "
	CALL1 SNAKE-LUNCH
	RTRUE
?L15:	PRINT PERIOD
	FCLEAR LEM,SEEN
	RTRUE
?L11:	EQUAL? HERE,IN-GARDEN \?L18
	FSET? TS4-DOOR,OPENED \?L19
	FSET? TS4-DOOR,NOALL /?L19
	CALL1 EXIT-LEM
	PRINTI "[RIDX: 1158]"
	PRINTD TS4-DOOR
	PRINT PERIOD
	RTRUE
?L19:	CALL2 OUT-THE-DOOR,GARDEN-DOOR
	FSET? COTTAGE-DOOR,OPENED /TRUE
	FSET COTTAGE-DOOR,OPENED
	CRLF
	PRINTI "[RIDX: 1159]"
	PRINTD COTTAGE
	PRINT PERIOD
	RTRUE
?L18:	EQUAL? HERE,SEROOM \?L25
	PRINTI "races"
	PRINT TON
	PRINTI "[RIDX: 1161]"
	CALL2 OUT-THE-DOOR,SEROOM-DOOR
	RTRUE
?L25:	EQUAL? HERE,SWROOM \?L26
	CALL2 OUT-THE-DOOR,SWROOM-DOOR
	RTRUE
?L26:	EQUAL? HERE,NROOM \?L27
	CALL2 OUT-THE-DOOR,NROOM-DOOR
	RTRUE
?L27:	EQUAL? HERE,BROOM \?L28
	CALL2 OUT-THE-DOOR,BROOM-DOOR
	RTRUE
?L28:	EQUAL? HERE,NWROOM \?L29
	CALL2 SCAMPER-OFF-TO,STR?148
	RTRUE
?L29:	EQUAL? HERE,IN-BATH \?L30
	CALL2 SCAMPER-OFF-TO,STR?155
	RTRUE
?L30:	EQUAL? HERE,IN-COTTAGE \?L31
	CALL2 OUT-THE-DOOR,COTTAGE-DOOR
	RTRUE
?L31:	EQUAL? HERE,IN-MILL \?L32
	CALL1 EXIT-LEM
	MOVE DLEM,UNDER-WATER
	FSET DLEM,CHILLY
	PRINTI "leaps over the "
	PRINTD LANDING
	PRINTR "[RIDX: 1165]"
?L32:	EQUAL? HERE,IN-SHACK \?L33
	MOVE DLEM,AT-ZERO
	FSET DLEM,NOGRASS
?L33:	CALL1 EXIT-LEM
	PRINTI "scurries"
	PRINT OUTASITE
	RTRUE

	.FUNCT SCAMPER-OFF-TO,DIR
	CALL1 EXIT-LEM
	PRINTI "scurries off to the "
	PRINT DIR
	FSET? NROOM-DOOR,OPENED /?L1
	FSET NROOM-DOOR,OPENED
	PRINTI "[RIDX: 1168]"
?L1:	PRINT PERIOD
	RTRUE

	.FUNCT OUT-THE-DOOR,DOOR
	CALL1 EXIT-LEM
	FSET? DOOR,OPENED \?L1
	PRINTI "[RIDX: 1169]"
	PRINTD DOOR
	PRINT PERIOD
	RTRUE
?L1:	FSET DOOR,OPENED
	PRINTI "nudges open the "
	PRINTD DOOR
	PRINTI ". Then it scurries"
	PRINT OUTASITE
	RTRUE

	.FUNCT EXIT-LEM
	CALL2 DEQUEUE,I-LEM
	CALL2 VANISH,LEM
	RTRUE

	.FUNCT I-RODENTS,CR=1
	EQUAL? HERE,ON-PLATFORM \?L1
	FCLEAR RODENTS,SEEN
	RFALSE
?L1:	FSET? RODENTS,TOUCHED \?L3
	FCLEAR RODENTS,TOUCHED
	FSET RODENTS,SEEN
	SET 'P-THEM-OBJECT,RATS
	ZERO? CR /?L4
	CRLF
?L4:	PRINTI "[RIDX: 1173]"
	PRINT OUTASITE
	RTRUE
?L3:	FSET? RODENTS,CHILLY \?L7
	FCLEAR RODENTS,CHILLY
	FSET RODENTS,SEEN
	SET 'P-THEM-OBJECT,RATS
	ZERO? CR /?L8
	CRLF
?L8:	CALL2 CTHE-PRINT,GROUND
	PRINTI " is covered with "
	PRINTD RATS
	PRINTI "! They're racing "
	EQUAL? HERE,ATUN,BTUN \?L11
	PRINTI "east"
	JUMP ?L14
?L11:	PRINTI "north"
	EQUAL? HERE,ETUN,HTUN /?L14
	PRINTI "east"
?L14:	PRINTR "[RIDX: 1179]"
?L7:	ZERO? CR /?L20
	FSET? RODENTS,SEEN \?L18
	FCLEAR RODENTS,SEEN
	RFALSE
?L18:	RANDOM 100 >STACK
	LESS? 30,STACK \FALSE
	CRLF
?L20:	SET 'P-THEM-OBJECT,RATS
	FSET RODENTS,SEEN
	CALL2 CTHE-PRINT,RATS
	GET RAT-TABLE,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE

	.FUNCT I-METEOR
	CRLF
	FSET? METEOR,NOALL \?L1
	FCLEAR METEOR,NOALL
	SET 'P-IT-OBJECT,METEOR
	PRINTI "[RIDX: 1180]"
	PRINTD METEOR
	PRINTR " streak overhead."
?L1:	FSET METEOR,SEEN
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	CALL2 DEQUEUE,I-METEOR
	CALL2 CTHE-PRINT,METEOR
	PRINTI "[RIDX: 1182]"
	PRINTD HORIZON
	PRINT PCR
	PRINTI "[RIDX: 1183]"
	CALL1 ALL-IS-STILL
	RTRUE

	.FUNCT I-MAGPIE,CR=1,X,CNT
	ZERO? QUIET? \FALSE
	ZERO? LIT? /FALSE
	CALL2 VISIBLE?,MAGPIE >STACK
	ZERO? STACK /?L4
	ZERO? CR /?L9
	FSET? MAGPIE,SEEN \?L7
	FCLEAR MAGPIE,SEEN
	RFALSE
?L7:	RANDOM 100 >STACK
	LESS? 30,STACK \FALSE
	CRLF
?L9:	FSET MAGPIE,SEEN
	RANDOM 100 >STACK
	LESS? 30,STACK /?L10
	CALL2 CTHE-PRINT,MAGPIE
	GET PIE-TABLE,2 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L10:	RANDOM 100 >STACK
	LESS? 30,STACK /?L13
	SET 'X,1
	CALL2 CTHE-PRINT,MAGPIE
	GET PIE-TABLE,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTI "s, "
?L13:	PRINTC 34
	RANDOM 100 >STACK
	LESS? 50,STACK /?L16
	PRINTI "Awk! "
?L16:	ZERO? INLEN /?L21
	EQUAL? PRSA,V?WAIT,V?WAIT-FOR,V?LISTEN /?L21
	RANDOM 100 >STACK
	LESS? 50,STACK /?L19
?L21:	GET PIE-TABLE,1 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	JUMP ?L22
?L19:	CALL1 PRINT-SENTENCE
?L22:	ZERO? X \?L25
	RANDOM 100 >STACK
	LESS? 50,STACK /?L23
?L25:	PRINTI "."
	RANDOM 100 >STACK
	LESS? 50,STACK /?L26
	PRINTI " Awk!"
?L26:	PRINTR """"
?L23:	RANDOM 100 >STACK
	LESS? 50,STACK /?L30
	PRINTI ". Awk!"
	JUMP ?L32
?L30:	PRINTI ","
?L32:	PRINTI """"
	GET PIE-TABLE,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTI "s the "
	PRINTD MAGPIE
	PRINT PERIOD
	RTRUE
?L4:	FCLEAR MAGPIE,SEEN
	RFALSE

	.FUNCT EXIT-MAGPIE
	CALL2 DEQUEUE,I-MAGPIE
	CALL2 VANISH,MAGPIE
	RTRUE

	.FUNCT I-JAWS,X=0
	DEC 'JAW-TIME
	ZERO? JAW-TIME \FALSE
	CALL2 DEQUEUE,I-JAWS
	FSET TRAP,OPENED
	REMOVE ICHOR
	FIRST? TRAP >X \?L4
	EQUAL? X,CAGE \?L10
	IN? LEM,X \?L8
	REMOVE LEM
	JUMP ?L10
?L8:	IN? MAGPIE,X \?L10
	REMOVE MAGPIE
?L10:	MOVE X,NBOG
?L4:	MOVE ICHOR,TRAP
	EQUAL? HERE,NBOG \FALSE
	CRLF
	PRINTI "The jaws of the "
	PRINTD TRAP
	PRINTI " slowly reopen"
	ZERO? X /?L16
	PRINTI ", and "
	CALL2 THE-PRINT,X
	PRINTI " fall"
	FSET? X,PLURAL /?L18
	PRINTI "s"
?L18:	PRINTI " out onto the ground"
?L16:	PRINT PERIOD
	RTRUE

	.FUNCT I-BEE
	IN? BEE,HERE /?L1
	FSET BEE,TOUCHED
	FSET? HERE,SHADOWY \FALSE
	FSET? HERE,INDOORS /FALSE
	MOVE BEE,HERE
	CRLF
	GET BEE-TABLE,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	EQUAL? HERE,NBOG \TRUE
	FSET? TRAP,OPENED \?L7
	CALL1 BEE-ENTERS-TRAP
	RTRUE
?L7:	CRLF
	PRINTI "[RIDX: 1225]"
	PRINTD TRAP
	PRINTR "[RIDX: 1226]"
?L1:	EQUAL? HERE,NBOG \?L12
	FSET? TRAP,OPENED \?L12
	CALL1 BEE-ENTERS-TRAP
	RTRUE
?L12:	ZERO? SUITED? /?L13
	CALL1 POP-BUBBLE-SUIT
	CRLF
	CALL2 CTHE-PRINT,BEE
	PRINTI "[RIDX: 1227]"
	PRINTD FILM
	PRINTI "[RIDX: 1228]"
	PRINT PCR
	CALL2 ITALICIZE,STR?168
	CRLF
	RTRUE
?L13:	FSET? BEE,TOUCHED \?L14
	FCLEAR BEE,TOUCHED
	CRLF
	GET BEE-TABLE,1 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L14:	FSET? BEE,SEEN \?L15
	FCLEAR BEE,SEEN
	FSET BEE,TOUCHED
	CRLF
	CALL2 CTHE-PRINT,BEE
	PRINTI "[RIDX: 1230]"
	PRINT PCR
	CALL2 PRINT-ID,STR?169
	CALL VOICE-MUTTERS,STR?170,0
	RTRUE
?L15:	CRLF
	PRINTI "[RIDX: 1233]"
	PRINTD BEE
	PRINTI "[RIDX: 1234]"
	CALL2 PRINT-ID,STR?171
	CALL1 JIGS-UP
	RTRUE

	.FUNCT BEE-ENTERS-TRAP
	CALL1 CLOSE-TRAP
	CALL2 DEQUEUE,I-BEE
	REMOVE BEE
	CRLF
	PRINTI "[RIDX: 1236]"
	PRINTD TRAP
	PRINTI "[RIDX: 1237]"
	CALL2 ITALICIZE,STR?172
	PRINTI " The "
	PRINTD TRAP
	PRINTR "[RIDX: 1240]"

	.FUNCT I-SKINK,L
	LOC SKINK >L
	EQUAL? L,PLAYER /?L1
	FSET SKINK,CHILLY
?L1:	ZERO? LIT? \?L4
	EQUAL? L,HERE \?L4
	FSET? SKINK,SEEN \?L6
	FCLEAR SKINK,SEEN
	RFALSE
?L6:	FSET SKINK,SEEN
	CRLF
	GET SKINK-TABLE,1 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L4:	EQUAL? L,TUN3 \?L9
	EQUAL? HERE,TUN3 \?L9
	CRLF
	IN? SHARD,CREVICE /?L10
	FCLEAR SKINK,SEEN
	MOVE SKINK,CREVICE
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	PRINTI "[RIDX: 1254]"
	PRINTD SKINK
	PRINTI "[RIDX: 1255]"
	PRINTD CREVICE
	PRINT PERIOD
	RTRUE
?L10:	CALL2 CTHE-PRINT,SKINK
	IN? LAMP,TUN2 \?L13
	FSET? LAMP,LIGHTED \?L13
	FSET? SKINK,SHADOWY /?L15
	CALL1 SKINK-TO-TUN2
	CALL1 FIRST-SKINK-EXIT
	RTRUE
?L15:	FSET? SKINK,SEEN /?L17
	GET SKINK-TABLE,2 >STACK
	PUT STACK,1,2
	PRINTI "[RIDX: 1256]"
	PRINTD TUNNEL
	PRINTI ", blinks and"
?L17:	FSET SKINK,SEEN
	SET 'P-IT-OBJECT,SKINK
	GET SKINK-TABLE,2 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L13:	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	FCLEAR SKINK,SEEN
	CALL2 VISIBLE?,LAMP >STACK
	ZERO? STACK /?L20
	FSET? LAMP,LIGHTED \?L20
	PRINTI "[RIDX: 1258]"
	PRINTD LAMP
	PRINTI ", and"
?L20:	CALL1 SKINK-TO-TUN2
	PRINT PERIOD
	RTRUE
?L9:	EQUAL? L,CREVICE \?L23
	EQUAL? HERE,TUN3 \?L23
	IN? SHARD,CREVICE \?L24
	CRLF
	CALL2 CTHE-PRINT,SKINK
	PRINTI "[RIDX: 1260]"
	PRINTD CREVICE
	PRINTI "[RIDX: 1261]"
	CALL1 SKINK-TO-TUN2
	IN? LAMP,TUN2 \?L26
	FSET? LAMP,LIGHTED \?L26
	CALL1 FIRST-SKINK-EXIT
	RTRUE
?L26:	PRINT PERIOD
	RTRUE
?L24:	FSET? SKINK,SEEN \?L29
	FCLEAR SKINK,SEEN
	RFALSE
?L29:	RANDOM 100 >STACK
	LESS? 50,STACK \FALSE
	FSET SKINK,SEEN
	SET 'P-IT-OBJECT,CREVICE
	CRLF
	GET SKINK-TABLE,3 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L23:	EQUAL? L,TUN2 \?L32
	EQUAL? HERE,TUN2 \?L32
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	FCLEAR SKINK,SEEN
	IN? SHARD,TUN3 /?L35
	IN? LAMP,TUN3 \?L33
	FSET? LAMP,LIGHTED \?L33
?L35:	PUSH CREVICE
	JUMP ?L36
?L33:	PUSH TUN3
?L36:	MOVE SKINK,STACK
	CRLF
	CALL2 CTHE-PRINT,SKINK
	PRINTI "[RIDX: 1262]"
	CALL2 VISIBLE?,LAMP >STACK
	ZERO? STACK /?L37
	FSET? LAMP,LIGHTED \?L37
	PRINTI "beam of the "
	PRINTD LAMP
	JUMP ?L39
?L37:	PRINTI "glow of the "
	PRINTD SHARD
?L39:	PRINTI "[RIDX: 1265]"
	PRINTD CAVERN
	PRINT PERIOD
	RTRUE
?L32:	EQUAL? L,POCKET \?L40
	FSET SKINK,CHILLY
	FSET? SKINK,SEEN \?L41
	FCLEAR SKINK,SEEN
	RFALSE
?L41:	RANDOM 100 >STACK
	LESS? 50,STACK \FALSE
	FSET SKINK,SEEN
	CRLF
	GET SKINK-TABLE,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L40:	CALL2 VISIBLE?,SKINK >STACK
	ZERO? STACK \?L45
	FCLEAR SKINK,SEEN
	FSET SKINK,CHILLY
	RFALSE
?L45:	EQUAL? L,PLAYER \?L46
	FCLEAR SKINK,SEEN
	CRLF
	FSET? SKINK,CHILLY \?L47
	FCLEAR SKINK,CHILLY
	SET 'P-IT-OBJECT,SKINK
	CALL2 CTHE-PRINT,SKINK
	PRINTI " [RIDX: 1107]"
	PRINTD HANDS
	PRINT PERIOD
	CALL2 PRINT-ID,STR?173
	RTRUE
?L47:	PRINTI "[RIDX: 1268]"
	PRINTD SKINK
	PRINTI "[RIDX: 1269]"
	CALL1 FREE-SKINK
	RTRUE
?L46:	CRLF
	CALL2 CTHE-PRINT,SKINK
	PRINTC 32
	EQUAL? L,CAGE \?L51
	PRINTI "squeezes[RIDX: 1121]"
	JUMP ?L54
?L51:	FSET? L,CONTAINER \?L53
	FSET? L,OPENED \?L53
	PRINTI "leaps out of "
	CALL2 THE-PRINT,L
	PRINTI " and "
	JUMP ?L54
?L53:	FSET? L,SURFACE \?L54
	PRINTI "leaps off "
	CALL2 THE-PRINT,L
	PRINTI " and "
?L54:	CALL1 FREE-SKINK
	RTRUE

	.FUNCT SKINK-TO-TUN2
	MOVE SKINK,TUN2
	PRINTI "[RIDX: 1275]"
	PRINTD TUNNEL
	RTRUE

	.FUNCT FIRST-SKINK-EXIT
	FSET SKINK,SHADOWY
	SET 'P-IT-OBJECT,SKINK
	FSET SKINK,SEEN
	MOVE SKINK,TUN3
	PRINT PA
	PRINTI "[RIDX: 1276]"
	PRINTD LAMP
	PRINT PCR
	PRINTI "[RIDX: 1277]"
	PRINTD SKINK
	PRINTR "[RIDX: 1278]"

	.FUNCT FREE-SKINK
	FSET SKINK,CHILLY
	FSET SKINK,SEEN
	ZERO? SUITED? /?L1
	IN? SKINK,PLAYER /?L3
	MOVE SKINK,PLAYER
?L3:	SET 'P-IT-OBJECT,SKINK
	CALL2 BOUNCES-IN-FILM,SKINK
	RTRUE
?L1:	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	EQUAL? HERE,TUN2 \?L7
	MOVE SKINK,TUN3
	PRINTI "scurries away"
	PRINT TOW
	PRINT PERIOD
	RTRUE
?L7:	EQUAL? HERE,TUN3 \?L9
	MOVE SKINK,CREVICE
	PRINTI "scurries into the "
	IN? SHARD,CREVICE \?L10
	PRINTI "lighted "
?L10:	PRINTD CREVICE
	PRINT PERIOD
	RTRUE
?L9:	CALL1 EXIT-SKINK
	EQUAL? HERE,IN-ORBIT,ON-SAT \?L14
	ZERO? SUITED? \?L14
	PRINTI "drifts slowly"
	JUMP ?L20
?L14:	EQUAL? HERE,IN-CLOSET \?L16
	PRINTI "disappears"
	ZERO? LIT? /?L17
	PRINTI "[RIDX: 1296]"
	PRINTD FLOOR
?L17:	PRINT PERIOD
	RTRUE
?L16:	EQUAL? HERE,PROM \?L21
	ZERO? IN-DISH? /?L21
	PRINTI "[RIDX: 1297]"
?L21:	PRINTI "scurries"
?L20:	PRINT OUTASITE
	RTRUE

	.FUNCT EXIT-SKINK
	CALL2 PRINT-ID,STR?174
	CALL2 VANISH,SKINK
	CALL2 DEQUEUE,I-SKINK
	RTRUE

	.FUNCT I-STYX,CR?=1,DOCK=0,B=0
	ZERO? IN-DORY? \FALSE
	ZERO? STICKS \?L3
	EQUAL? HERE,DOCKSIDE \FALSE
	INC 'STICKS
	SET 'P-IT-OBJECT,DORY
	MOVE DORY,HERE
	CALL1 DORY-APPEARS
	PRINT PERIOD
	RTRUE
?L3:	IGRTR? 'STICKS,12 \?L8
	SET 'STICKS,1
?L8:	EQUAL? STICKS,1 \?L11
	MOVE DORY,DOCKSIDE
	JUMP ?L19
?L11:	EQUAL? STICKS,3 \?L13
	FSET DORY,TOUCHED
	MOVE SHADES,DOCKSIDE
	JUMP ?L19
?L13:	EQUAL? STICKS,4 \?L14
	MOVE SHADES,DORY
	JUMP ?L19
?L14:	EQUAL? STICKS,6,11 \?L15
	FCLEAR DORY,TOUCHED
	JUMP ?L19
?L15:	EQUAL? STICKS,7 \?L16
	REMOVE DORY
	JUMP ?L19
?L16:	EQUAL? STICKS,8 \?L17
	MOVE DORY,ON-BEACH
	JUMP ?L19
?L17:	EQUAL? STICKS,10 \?L18
	FSET DORY,TOUCHED
	REMOVE SHADES
	JUMP ?L19
?L18:	EQUAL? STICKS,12 \?L19
	REMOVE DORY
?L19:	EQUAL? HERE,DOCKSIDE \?L21
	SET 'DOCK,1
	JUMP ?L24
?L21:	EQUAL? HERE,ON-BEACH \FALSE
	SET 'B,1
?L24:	EQUAL? STICKS,1 \?L28
	ZERO? DOCK \?L27
?L28:	EQUAL? STICKS,8 \?L25
	ZERO? B /?L25
?L27:	ZERO? CR? /?L29
	CRLF
?L29:	SET 'P-HIM-OBJECT,CHARON
	CALL2 CTHE-PRINT,DORY
	PRINTR "[RIDX: 1305]"
?L25:	EQUAL? STICKS,2 \?L34
	ZERO? DOCK \?L33
?L34:	EQUAL? STICKS,9 \?L32
	ZERO? B /?L32
?L33:	ZERO? CR? /?L35
	CRLF
?L35:	SET 'P-HIM-OBJECT,CHARON
	CALL2 CTHE-PRINT,DORY
	PRINTI "[RIDX: 1306]"
	PRINTD BEACH
	FSET? CHARON,TOUCHED /?L38
	FSET CHARON,TOUCHED
	CALL1 MAKE-OUT-CHARON
	RTRUE
?L38:	PRINT PERIOD
	RTRUE
?L32:	EQUAL? STICKS,3 \?L43
	ZERO? DOCK \?L42
?L43:	EQUAL? STICKS,10 \?L41
	ZERO? B /?L41
?L42:	ZERO? CR? /?L44
	CRLF
?L44:	SET 'P-HIM-OBJECT,CHARON
	SET 'P-THEM-OBJECT,SHADES
	CALL1 SOUNDLESS-LANDING
	PRINT PCR
	ZERO? DOCK /?L47
	SET 'P-THEM-OBJECT,SHADES
	PRINTI "[RIDX: 1307]"
	PRINTD BEACH
	PRINTI "[RIDX: 1308]"
	PRINTD ME
	PRINTI "[RIDX: 1309]"
	PRINTD SHADES
	PRINTR "[RIDX: 1310]"
?L47:	CALL1 ONE-BY-ONE
	PRINT PERIOD
	RTRUE
?L41:	EQUAL? STICKS,4 \?L50
	ZERO? DOCK /?L50
	ZERO? CR? /?L51
	CRLF
?L51:	SET 'P-HIM-OBJECT,CHARON
	SET 'P-THEM-OBJECT,SHADES
	PRINTI "The ghostly "
	PRINTD SHADES
	PRINTI "[RIDX: 1312]"
	PRINTD CHARON
	PRINTR "[RIDX: 1313]"
?L50:	EQUAL? STICKS,5 \?L54
	ZERO? DOCK /?L54
	ZERO? CR? /?L55
	CRLF
?L55:	SET 'P-HIM-OBJECT,CHARON
	SET 'P-THEM-OBJECT,SHADES
	PRINTI "The last of the "
	PRINTD SHADES
	PRINTR "[RIDX: 1315]"
?L54:	EQUAL? STICKS,6 \?L60
	ZERO? DOCK \?L59
?L60:	EQUAL? STICKS,11 \?L58
	ZERO? B /?L58
?L59:	ZERO? CR? /?L61
	CRLF
?L61:	SET 'P-HIM-OBJECT,CHARON
	PRINTI "[RIDX: 1316]"
	PRINTD CHARON
	PRINTI " pushes his "
	ZERO? DOCK /?L64
	SET 'P-THEM-OBJECT,SHADES
	PRINTI "crowded "
	JUMP ?L66
?L64:	PRINTI "empty "
?L66:	PRINTD DORY
	PRINTI " away from the "
	PRINTD BEACH
	PRINT PERIOD
	RTRUE
?L58:	EQUAL? STICKS,7 \?L69
	ZERO? DOCK \?L68
?L69:	EQUAL? STICKS,12 \FALSE
	ZERO? B /FALSE
?L68:	ZERO? CR? /?L70
	CRLF
?L70:	SET 'P-THEM-OBJECT,NOT-HERE-OBJECT
	SET 'P-HIM-OBJECT,NOT-HERE-OBJECT
	PRINTI "You watch as the "
	PRINTD DORY
	PRINTI " and its "
	ZERO? DOCK \?L73
	PRINTI "navigator "
	JUMP ?L75
?L73:	PRINTI "passengers "
?L75:	PRINTR "[RIDX: 1325]"

	.FUNCT DORY-APPEARS
	CRLF
	PRINTI "[RIDX: 1326]"
	RTRUE

	.FUNCT MAKE-OUT-CHARON
	PRINTI "[RIDX: 1327]"
	PRINTD CHARON
	PRINTR " at the stern."

	.FUNCT SOUNDLESS-LANDING
	CALL2 CTHE-PRINT,CHARON
	PRINTI "[RIDX: 1329]"
	PRINTD SOUND
	PRINTI "less "
	PRINTD LANDING
	RTRUE

	.FUNCT ONE-BY-ONE
	PRINTI "One by one, the "
	PRINTD SHADES
	PRINTI "[RIDX: 1332]"
	RTRUE

	.FUNCT I-CHARON
	DEC 'PATIENCE
	EQUAL? PATIENCE,2 /FALSE
	CRLF
	CALL2 CTHE-PRINT,CHARON
	EQUAL? PATIENCE,1 \?L4
	PRINTR "[RIDX: 1333]"
?L4:	PRINTI " points you in the "
	PRINTD INTDIR
	PRINTI " of the "
	PRINTD BEACH
	PRINT PA
	PRINTI "[RIDX: 1336]"
	CRLF
	CALL2 PRINT-ID,STR?175
	CALL1 EXIT-DORY
	RTRUE

	.FUNCT I-CRABS,CR=1
	EQUAL? HERE,WSAND \?L3
	FSET? CRABS,SEEN \?L1
?L3:	FCLEAR CRABS,SEEN
	RFALSE
?L1:	ZERO? CR /?L6
	RANDOM 100 >STACK
	LESS? 50,STACK \FALSE
	CRLF
?L6:	PRINTI "The "
	RANDOM 100 >STACK
	LESS? 50,STACK /?L11
	RANDOM 100 >STACK
	LESS? 50,STACK /?L9
	PRINTI "alert "
	JUMP ?L11
?L9:	PRINTI "wretched "
?L11:	PRINTD CRABS
	GET LAGOON-TABLE,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	SET 'P-THEM-OBJECT,CRABS
	RTRUE

	.FUNCT I-FLIPPER,CR=1
	EQUAL? HERE,ON-SCAFFOLD,AT-SDOORS /?L3
	FSET? FLIPPER,SEEN \?L1
?L3:	FCLEAR FLIPPER,SEEN
	RFALSE
?L1:	ZERO? FCOUNT /?L4
	DEC 'FCOUNT
	GRTR? FCOUNT,2 /FALSE
	EQUAL? FCOUNT,2 \?L7
	MOVE FIN,HERE
	SET 'P-IT-OBJECT,FIN
	CRLF
	PRINTI "[RIDX: 1355]"
	PRINTD LAGOON
	PRINT PERIOD
	RTRUE
?L7:	IN? FIN,HERE /?L8
	MOVE FIN,HERE
	SET 'P-IT-OBJECT,FIN
	SET 'FCOUNT,2
	CRLF
	CALL2 CTHE-PRINT,FIN
	PRINTR "[RIDX: 1356]"
?L8:	EQUAL? FCOUNT,1 \?L9
	ZERO? CR /?L10
	CRLF
?L10:	PRINTR "[RIDX: 1357]"
?L9:	SET 'FCOUNT,0
	REMOVE FIN
	MOVE FLIPPER,HERE
	CALL2 THIS-IS-IT,FLIPPER
	FSET FLIPPER,SEEN
	ZERO? CR /?L14
	CRLF
?L14:	PRINTI "[RIDX: 1358]"
	PRINTD HANDS
	PRINTI "[RIDX: 1359]"
	PRINTD LAGOON
	PRINTI "[RIDX: 1360]"
	PRINTD FLIPPER
	PRINTR "[RIDX: 1361]"
?L4:	IN? FLIPPER,HERE /?L17
	FSET FLIPPER,SEEN
	MOVE FLIPPER,HERE
	CALL2 THIS-IS-IT,FLIPPER
	CRLF
	CALL2 CTHE-PRINT,FLIPPER
	PRINTR "[RIDX: 1362]"
?L17:	ZERO? CR /?L21
	RANDOM 100 >STACK
	LESS? 50,STACK /FALSE
	CRLF
?L21:	FSET FLIPPER,SEEN
	CALL2 CTHE-PRINT,FLIPPER
	GET LAGOON-TABLE,1 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE

	.FUNCT I-TIDE,W=0
	ZERO? MINUTES \?L1
	FSET? TSWITCH,OPENED /?L3
	CRLF
	PRINTI "[RIDX: 1364]"
	CRLF
?L3:	CRLF
	PRINTI "[RIDX: 1365]"
	EQUAL? HERE,ON-SCAFFOLD,AT-SDOORS \?L6
	PRINTI "maze of plumbing"
	JUMP ?L8
?L6:	PRINTD ESHED
?L8:	PRINTI "."
	CALL2 PRINT-ID,STR?176
	CALL1 JIGS-UP
	RTRUE
?L1:	EQUAL? HERE,WSAND \?L9
	SET 'W,1
?L9:	EQUAL? HERE,ON-SCAFFOLD,AT-SDOORS /?L46
	LESS? MINUTES,54 /?L46
	EQUAL? SECONDS,45,15 \?L46
	EQUAL? MINUTES,54 \?L14
	CRLF
	EQUAL? SECONDS,15 \?L15
	PRINTI "[RIDX: 1371]"
	CRLF
	JUMP ?L17
?L15:	PRINTI "The "
	ZERO? W /?L18
	PRINTI "distant "
	PRINTD ISLET
	JUMP ?L20
?L18:	PRINTD BEACH
?L20:	PRINTI "[RIDX: 1374]"
	CRLF
?L17:	CALL1 BURNS-QUOTED?
	RTRUE
?L14:	EQUAL? MINUTES,55 \?L21
	EQUAL? SECONDS,15 \?L22
	FSET? COCO,TRYTAKE /?L22
	FSET COCO,TRYTAKE
	MOVE COCO,ISLET
	ZERO? W /FALSE
	SET 'P-IT-OBJECT,COCO
	CRLF
	PRINTI "A faint "
	CALL2 ITALICIZE,STR?177
	PRINTI "[RIDX: 1377]"
	PRINTD ISLET
	PRINTI ". There's now a "
	PRINTD COCO
	PRINTR "[RIDX: 1379]"
?L22:	ZERO? W /FALSE
	EQUAL? SECONDS,45 \FALSE
	CRLF
	PRINTI "[RIDX: 1380]"
	PRINTD COCO
	PRINTI "[RIDX: 1381]"
	CRLF
	CALL1 BURNS-QUOTED?
	RTRUE
?L21:	EQUAL? MINUTES,56 \?L29
	EQUAL? SECONDS,15 \?L30
	MOVE COCO,WSAND
	FSET COCO,CHILLY
	FCLEAR COCO,NODESC
	PUTP COCO,P?DESCFCN,DESCRIBE-COCO
	ZERO? W /FALSE
	SET 'P-IT-OBJECT,COCO
	CRLF
	CALL2 CTHE-PRINT,COCO
	PRINTI "[RIDX: 1382]"
	PRINTD ISLET
	PRINTI " on the rising tide."
	CRLF
	CALL1 BURNS-QUOTED?
	RTRUE
?L30:	FSET? COCO,CHILLY \FALSE
	ZERO? W /FALSE
	CRLF
	CALL2 CTHE-PRINT,COCO
	PRINTI " bobs gently on the "
	PRINTD CSURFACE
	PRINTI " of the "
	PRINTD LAGOON
	PRINT PERIOD
	RTRUE
?L29:	EQUAL? MINUTES,57 \?L37
	EQUAL? SECONDS,45 \?L38
	CRLF
	PRINTI "[RIDX: 1386]"
	CRLF
	ZERO? W /?L40
	FSET? COCO,CHILLY \?L40
	CRLF
	CALL2 CTHE-PRINT,COCO
	PRINTI "[RIDX: 1387]"
	PRINT OUTASITE
?L40:	CALL1 BURNS-QUOTED?
	RTRUE
?L38:	FSET? COCO,CHILLY \FALSE
	ZERO? W /FALSE
	CRLF
	CALL2 CTHE-PRINT,COCO
	PRINTR "[RIDX: 1388]"
?L37:	EQUAL? MINUTES,58 \FALSE
	EQUAL? SECONDS,15 \FALSE
	FSET? COCO,CHILLY \FALSE
	ZERO? W /FALSE
	CALL2 VANISH,COCO
	CRLF
	CALL2 CTHE-PRINT,COCO
	PRINTI "[RIDX: 1389]"
	PRINTD LAGOON
	PRINT PERIOD
	RTRUE
?L46:	FSET? TSWITCH,OPENED /FALSE
	ZERO? SECONDS \?L49
	PRINT Z-MINUS
	SUB 60,MINUTES >STACK
	GET PA-TABLE,1 >STACK
	GET STACK,STACK >STACK
	PRINT STACK
	PRINTI " minute"
	EQUAL? MINUTES,59 /?L50
	PRINTI "s"
?L50:	PRINTR "."""
?L49:	EQUAL? MINUTES,58 \?L53
	EQUAL? SECONDS,30 \?L53
	PRINT Z-MINUS
	PRINTR "ninety seconds."""
?L53:	EQUAL? MINUTES,59 \?L54
	PRINT Z-MINUS
	EQUAL? SECONDS,15 \?L55
	PRINTR "[RIDX: 1396]"
?L55:	EQUAL? SECONDS,30 \?L57
	PRINTR "thirty seconds."""
?L57:	PRINTR "[RIDX: 1398]"
?L54:	EQUAL? SECONDS,30 \FALSE
	CRLF
	PRINTC 34
	GET PA-TABLE,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTR "."""

	.FUNCT BURNS-QUOTED?
	FSET? LAGOON,SEEN /FALSE
	FSET LAGOON,SEEN
	CRLF
	CALL VOICE-MUTTERS,STR?178,0
	RTRUE

	.FUNCT I-FALLING,CR=1,OBJ,NXT
	ZERO? CR /?L1
	CRLF
?L1:	ZERO? SUITED? \?L6
	IN? PARASOL,PLAYER \?L4
	FSET? PARASOL,OPENED \?L4
?L6:	CALL QUEUE,I-NAGASAKI,-1
	CALL2 CTHE-PRINT,CITY
	PRINTI "[RIDX: 1422]"
	PRINTD PGROUND
	PRINTI ".."
	PRINT PCR
	ZERO? SUITED? /?L11
	CALL1 POP-BUBBLE-SUIT
	HLIGHT H-ITALIC
	PRINTI "Pop"
	HLIGHT H-NORMAL
	PRINTI "! The "
	PRINTD FILM
	PRINTI "[RIDX: 1426]"
	CALL1 BROLLY-FILLS? >STACK
	ZERO? STACK /?L9
	CRLF
	JUMP ?L11
?L9:	CALL1 I-FALLING
	RTRUE
?L11:	CALL2 ITALICIZE,STR?179
	CRLF
	CRLF
	FIRST? PLAYER >OBJ /?L16
	JUMP ?L15
?L13:	ZERO? OBJ /?L15
?L16:	NEXT? OBJ >NXT /?L19
?L19:	EQUAL? OBJ,POCKET,HONEY /?L20
	FSET? OBJ,WORN /?L20
	MOVE OBJ,SPILE
?L20:	SET 'OBJ,NXT
	JUMP ?L13
?L15:	SET 'IN-SAND?,1
	CALL2 GOTO,PLAYGROUND
	RTRUE
?L4:	PRINTI "[RIDX: 1428]"
	CALL2 PRINT-ID,STR?180
	CALL1 JIGS-UP
	RTRUE

	.FUNCT I-NAGASAKI,CR=1,S=0
	EQUAL? HERE,IN-SHELTER \?L1
	SET 'S,1
?L1:	EQUAL? MINUTES,56 \?L4
	ZERO? SECONDS \?L4
	MOVE GIRL,PLAYGROUND
	CALL QUEUE,I-GIRL,-1
	ZERO? S \?L6
	ZERO? CR /?L8
	CRLF
?L8:	CALL1 GIRL-APPEARS
	RTRUE
?L6:	IN? PARASOL,PLAYGROUND /?L12
	IN? PARASOL,SPILE \FALSE
?L12:	MOVE PARASOL,GIRL
	RFALSE
?L4:	EQUAL? MINUTES,2 \?L14
	ZERO? CR /?L15
	CRLF
?L15:	PRINT ALLATONCE
	PRINTI "the "
	ZERO? S /?L18
	PRINTD SHELTER
	JUMP ?L20
?L18:	PRINTD SKY
?L20:	PRINTI "[RIDX: 1433]"
	IN? GIRL,HERE \?L21
	PRINTI "[RIDX: 1434]"
	PRINTD GIRL
	PRINTI "[RIDX: 1435]"
	PRINTD CHILDREN
	PRINTI "[RIDX: 1436]"
	PRINTD NAGASAKI
	JUMP ?L23
?L21:	PRINTI "[RIDX: 1437]"
?L23:	PRINTI "."
	CALL2 PRINT-ID,STR?181
	CALL1 JIGS-UP
	RTRUE
?L14:	EQUAL? MINUTES,1 \FALSE
	EQUAL? SECONDS,15 \?L25
	FSET PLANES,SEEN
	SET 'P-THEM-OBJECT,PLANES
	MOVE PLANES,LOCAL-GLOBALS
	PUTP PLAYGROUND,P?HEAR,PLANES
	PUTP PLAYGROUND,P?OVERHEAD,PLANES
	PUTP ON-BIRD,P?HEAR,PLANES
	PUTP ON-BIRD,P?OVERHEAD,PLANES
	PUTP IN-SHELTER,P?HEAR,PLANES
	CRLF
	PRINTI "[RIDX: 1440]"
	PRINTD SOUND
	PRINTI "[RIDX: 1441]"
	CALL1 OVER-OR-OUT
	IN? GIRL,HERE \?L26
	FSET GIRL,SEEN
	PRINT PTHE
	PRINTD GIRL
	PRINTI "[RIDX: 1442]"
	ZERO? S /?L28
	PRINTD CEILING
	JUMP ?L30
?L28:	PRINTD SKY
?L30:	PRINT PERIOD
	RTRUE
?L26:	ZERO? S \?L31
	PRINT PTHE
	PRINTD KIDS
	PRINTI " and "
	PRINTD TEACHERS
	PRINTR "[RIDX: 1444]"
?L31:	PRINT PERIOD
	RTRUE
?L25:	EQUAL? SECONDS,30 \?L33
	ZERO? CR /?L34
	CRLF
?L34:	CALL2 CTHE-PRINT,SOUND
	CALL1 OVER-OR-OUT
	PRINTI "[RIDX: 1445]"
	PRINTD PLANES
	PRINT PERIOD
	IN? GIRL,HERE \?L37
	FSET GIRL,SEEN
	CRLF
	CALL2 CTHE-PRINT,GIRL
	PRINTI "[RIDX: 1446]"
	ZERO? S /?L39
	PRINTI "crouches down in a "
	PRINTD CORNER
	PRINTI " of "
	JUMP ?L41
?L39:	PRINTI "[RIDX: 1449]"
?L41:	CALL2 THE-PRINT,SHELTER
	PRINT PERIOD
?L37:	ZERO? S \TRUE
	CALL1 TEACHERS-COME
	RTRUE
?L33:	EQUAL? SECONDS,45 \FALSE
	ZERO? CR /?L47
	CRLF
?L47:	PRINTI "The drone of the "
	PRINTD PLANES
	CALL1 OVER-OR-OUT
	PRINTI " increases. It "
	PRINTD SOUND
	PRINTI "[RIDX: 1452]"
	CRLF
	IN? GIRL,HERE \?L50
	FSET GIRL,SEEN
	CRLF
	CALL2 CTHE-PRINT,GIRL
	PRINTR "[RIDX: 1453]"
?L50:	ZERO? S \TRUE
	CALL1 TEACHERS-COME
	RTRUE

	.FUNCT GIRL-APPEARS
	PRINTI "[RIDX: 1454]"
	PRINTD SWINGS
	PRINTI "[RIDX: 1455]"
	CRLF
	CALL1 GIRL-SEES-YOU
	RTRUE

	.FUNCT GIRL-SEES-YOU
	FCLEAR GIRL,NODESC
	SET 'P-HER-OBJECT,GIRL
	CRLF
	PRINTI "[RIDX: 1456]"
	PRINTD TEACHERS
	PRINTI "[RIDX: 1457]"
	CRLF
	IN? PARASOL,GIRL \?L1
	SET 'P-IT-OBJECT,PARASOL
	MOVE PARASOL,PLAYGROUND
	CRLF
	PRINTI "[RIDX: 1458]"
	PRINTD PARASOL
	PRINTR "[RIDX: 1459]"
?L1:	CALL2 VISIBLE?,PARASOL >STACK
	ZERO? STACK /TRUE
	SET 'P-IT-OBJECT,PARASOL
	CRLF
	PRINTI "Suddenly, the "
	PRINTD PARASOL
	IN? PARASOL,PLAYER \?L4
	PRINTI " in "
	PRINTD HANDS
	JUMP ?L6
?L4:	PRINTI " at your feet"
?L6:	PRINTR "[RIDX: 1463]"

	.FUNCT OVER-OR-OUT
	EQUAL? HERE,IN-SHELTER \?L1
	PRINTI " outside"
	RTRUE
?L1:	PRINTI " overhead"
	RTRUE

	.FUNCT TEACHERS-COME
	CRLF
	PRINTI "[RIDX: 1466]"
	PRINTD TEACHERS
	PRINTI " drop their "
	PRINTD SPADE
	PRINTI "[RIDX: 1468]"
	PRINTD INTDIR
	PRINTI " of the "
	PRINTD SHELTER
	PRINT PERIOD
	CALL1 TEACHERS-NOTICE
	RTRUE

	.FUNCT I-GIRL,CR=1,S=0
	EQUAL? HERE,IN-SHELTER \?L1
	SET 'S,1
?L1:	IN? GIRL,HERE /?L9
	FSET GIRL,SHADOWY
	FSET? GIRL,NODESC /FALSE
	IN? PARASOL,GIRL /FALSE
	MOVE GIRL,HERE
	SET 'P-HER-OBJECT,GIRL
	CRLF
	CALL2 CTHE-PRINT,GIRL
	ZERO? S /?L10
	FCLEAR GIRL,CHILLY
	PRINTI "[RIDX: 1473]"
	JUMP ?L12
?L10:	PRINTI "[RIDX: 1474]"
?L12:	PRINTI "of the "
	PRINTD SHELTER
	PRINT PERIOD
	RTRUE
?L9:	SET 'P-HER-OBJECT,GIRL
	FSET? GIRL,NODESC \?L14
	CRLF
	PRINTI "[RIDX: 1477]"
	PRINTD SPILE
	IN? PARASOL,GIRL \?L16
	PRINTI ", playing with the "
	PRINTD PARASOL
?L16:	PRINTI "[RIDX: 1479]"
	CRLF
	CALL1 GIRL-SEES-YOU
	RTRUE
?L14:	FSET? GIRL,SEEN \?L19
	FCLEAR GIRL,SEEN
	RFALSE
?L19:	ZERO? CR /?L20
	CRLF
?L20:	IN? PARASOL,GIRL \?L22
	SET 'P-IT-OBJECT,PARASOL
	CALL2 CTHE-PRINT,GIRL
	GET GIRL-TABLE,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L22:	CALL2 VISIBLE?,PARASOL >STACK
	ZERO? STACK /?L24
	SET 'P-IT-OBJECT,PARASOL
	CALL2 CTHE-PRINT,GIRL
	GET GIRL-TABLE,1 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L24:	FSET? GIRL,SHADOWY \?L25
	FCLEAR GIRL,SHADOWY
	CALL2 CTHE-PRINT,GIRL
	PRINTI " looks anxiously "
	ZERO? S /?L26
	PRINTI "around the "
	PRINTD SHELTER
	PRINTR ", then back at you."
?L26:	PRINTI "towards the "
	PRINTD TEACHERS
	PRINTR "[RIDX: 1484]"
?L25:	PRINTI "[RIDX: 1485]"
	ZERO? S /?L30
	CALL2 DEQUEUE,I-GIRL
	REMOVE GIRL
	SET 'P-HER-OBJECT,NOT-HERE-OBJECT
	PRINT OUTASITE
	RTRUE
?L30:	PRINTI " away towards the "
	PRINTD TEACHERS
	PRINT PERIOD
	CALL1 TEACHERS-NOTICE
	RTRUE

	.FUNCT I-NEWCRANE,CR=1
	CALL2 VISIBLE?,CRANE >STACK
	ZERO? STACK \?L1
	FCLEAR CRANE,SEEN
	RFALSE
?L1:	EQUAL? HERE,IN-SHELTER \?L3
	FSET? CRANE,SEEN \?L4
	FCLEAR CRANE,SEEN
	RFALSE
?L4:	ZERO? CR /?L9
	RANDOM 100 >STACK
	LESS? 50,STACK /FALSE
	CRLF
?L9:	GET GIRL-TABLE,2 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L3:	CALL2 DEQUEUE,I-NEWCRANE
	EQUAL? MINUTES,1 /?L12
	SET 'MCOUNT,4
	JUMP ?L17
?L12:	EQUAL? SECONDS,45 \?L14
	SET 'MCOUNT,1
	JUMP ?L17
?L14:	EQUAL? SECONDS,30 \?L15
	SET 'MCOUNT,2
	JUMP ?L17
?L15:	EQUAL? SECONDS,15 \?L16
	SET 'MCOUNT,3
	JUMP ?L17
?L16:	SET 'MCOUNT,4
?L17:	CALL QUEUE,I-MCRANE,-1
	REMOVE CRANE
	MOVE MCRANE,PLAYGROUND
	SET 'P-IT-OBJECT,MCRANE
	CRLF
	PRINTI "[RIDX: 1499]"
	PRINTD HANDS
	PRINT PCR
	CALL2 CTHE-PRINT,CRANE
	PRINTI " is "
	CALL2 ITALICIZE,STR?182
	PRINTR "[RIDX: 1502]"

	.FUNCT I-MCRANE,CR=1
	DEC 'MCOUNT
	ZERO? MCOUNT \?L1
	CALL2 DEQUEUE,I-MCRANE
	REMOVE MCRANE
	EQUAL? HERE,IN-SHELTER \?L3
	CRLF
	PRINTI "[RIDX: 1504]"
	PRINTD SHELTER
	PRINT PERIOD
	RTRUE
?L3:	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	ZERO? CR /?L6
	CRLF
?L6:	CALL2 CTHE-PRINT,MCRANE
	PRINTI "[RIDX: 1505]"
	PRINTD CRANE
	PRINTR "[RIDX: 1506]"
?L1:	EQUAL? HERE,IN-SHELTER /FALSE
	ZERO? CR /?L10
	CRLF
?L10:	SET 'P-IT-OBJECT,MCRANE
	CALL2 CTHE-PRINT,MCRANE
	EQUAL? MCOUNT,1 \?L12
	PRINTI "[RIDX: 1507]"
	PRINT AS-IF
	PRINTR "[RIDX: 1508]"
?L12:	EQUAL? MCOUNT,2 \?L14
	PRINTR "[RIDX: 1509]"
?L14:	PRINTR "[RIDX: 1510]"

	.FUNCT I-FLIGHT,CR=1
	DEC 'MCOUNT
	SET 'MINUTES,1
	SET 'HOURS,11
	SET 'SECONDS,15
	ZERO? CR /?L1
	CRLF
?L1:	EQUAL? MCOUNT,2 \?L4
	FSET PLANES,SEEN
	PUTP ON-BIRD,P?HEAR,PLANES
	PUTP ON-BIRD,P?OVERHEAD,PLANES
	CALL2 CTHE-PRINT,MCRANE
	PRINTI "[RIDX: 1512]"
	PRINTD PLANES
	PRINT PCR
	FSET? TS5-DOOR,OPENED \?L6
	FSET? TS5-DOOR,NOALL /?L6
	PRINTI "[RIDX: 1513]"
	PRINTD TS5-DOOR
	PRINT PTHE
	PRINTR "[RIDX: 1514]"
?L6:	PRINTI "[RIDX: 1515]"
	CALL1 SAY-DRONE-LOUDER
	CRLF
	CALL2 CTHE-PRINT,FATMAN
	PRINTI "[RIDX: 1516]"
	CALL2 PRINT-ID,STR?183
	CALL1 JIGS-UP >STACK
	RSTACK
?L4:	EQUAL? MCOUNT,1 \?L9
	CALL1 SAY-DRONE-LOUDER
	RTRUE
?L9:	CALL2 CTHE-PRINT,FATMAN
	PRINTI " shatters the "
	PRINTD TS5-DOOR
	PRINTI "[RIDX: 1519]"
	CALL1 JIGS-UP
	RTRUE

	.FUNCT SAY-DRONE-LOUDER
	FSET FATMAN,SEEN
	PRINTI "The drone of the "
	PRINTD PLANES
	PRINTR "[RIDX: 1521]"

	.FUNCT I-MILK,CR=1,L,V=0
	LOC OCOCO >L
	ZERO? L \?L1
	CALL1 KILL-MILK
	RFALSE
?L1:	CALL2 VISIBLE?,OCOCO >STACK
	ZERO? STACK /?L3
	SET 'V,1
?L3:	DEC 'DRIBBLE
	ZERO? DRIBBLE \?L5
	CALL1 KILL-MILK
	ZERO? V /FALSE
	ZERO? CR /?L9
	CRLF
?L9:	SET 'P-IT-OBJECT,OCOCO
	CALL1 LAST-DROPS
	RTRUE
?L5:	MOVE MILK,L
	FSET MILK,NODESC
	EQUAL? DRIBBLE,1 \FALSE
	ZERO? V /FALSE
	SET 'P-IT-OBJECT,OCOCO
	ZERO? CR /?L14
	CRLF
?L14:	PRINTI "[RIDX: 1524]"
	PRINTD OCOCO
	PRINT PERIOD
	RTRUE

	.FUNCT LAST-DROPS
	PRINTI "The last drops of "
	PRINTD MILK
	PRINTI " dribble out of the "
	PRINTD OCOCO
	PRINT PERIOD
	RTRUE

	.FUNCT KILL-MILK
	SET 'DRIBBLE,0
	CALL2 DEQUEUE,I-MILK
	REMOVE MILK
	RTRUE

	.FUNCT I-EXPLODE,CR=1
	DEC 'XCOUNT
	ZERO? XCOUNT \?L1
	EQUAL? HERE,IN-COTTAGE \?L3
	ZERO? CR /?L5
	CRLF
?L5:	PRINTI "[RIDX: 1528]"
	PRINTD CAULDRON
	PRINTI "[RIDX: 1529]"
	CALL2 PRINT-ID,STR?184
	CALL1 JIGS-UP
	RTRUE
?L3:	IN? CAGE,IN-COTTAGE /?L11
	LOC CAGE >STACK
	IN? STACK,IN-COTTAGE \?L15
?L11:	IN? MAGPIE,CAGE \?L12
	CALL1 EXIT-MAGPIE
	MOVE DMAGPIE,CAGE
?L12:	IN? LEM,CAGE \?L15
	CALL1 EXIT-LEM
	MOVE DLEM,CAGE
?L15:	CALL2 DEQUEUE,I-EXPLODE
	FCLEAR EMERALD,NODESC
	MOVE EMERALD,CAULDRON
	REMOVE STEAM
	REMOVE CWATER
	REMOVE TOME
	REMOVE PEDESTAL
	REMOVE PAGES
	MOVE CINDERS,IN-COTTAGE
	FSET GMAP,NODESC
	EQUAL? HERE,ON-BLUFF,IN-GARDEN \FALSE
	ZERO? CR /?L21
	CRLF
?L21:	CALL2 ITALICIZE,STR?185
	PRINTI "[RIDX: 1532]"
	CRLF
	CALL2 PRINT-ID,STR?186
	RTRUE
?L1:	EQUAL? XCOUNT,1 \FALSE
	EQUAL? HERE,IN-COTTAGE,IN-GARDEN,ON-BLUFF \FALSE
	ZERO? CR /?L26
	CRLF
?L26:	PRINTI "The rumble in the "
	EQUAL? HERE,IN-COTTAGE \?L29
	PUSH CAULDRON
	JUMP ?L31
?L29:	PUSH COTTAGE
?L31:	PRINTD STACK
	PRINTI "[RIDX: 1535]"
	EQUAL? HERE,IN-COTTAGE \?L32
	PUSH COTTAGE
	JUMP ?L34
?L32:	PUSH GROUND
?L34:	PRINTD STACK
	PRINTR "[RIDX: 1536]"

	.FUNCT I-WHOOSH
	SET 'P-IT-OBJECT,RBOOT
	CRLF
	PRINTR "[RIDX: 1537]"

	.FUNCT I-MILL,CR=1
	EQUAL? HERE,IN-MILL \FALSE
	ZERO? CR /?L3
	CRLF
?L3:	DEC 'LLIFE
	ZERO? LLIFE \?L5
	CALL1 SPILL-MILL
	RTRUE
?L5:	SET 'P-IT-OBJECT,LANDING
	CALL2 CTHE-PRINT,LANDING
	EQUAL? LLIFE,1 \?L8
	PRINTI "[RIDX: 1539]"
	CRLF
	CALL2 PRINT-ID,STR?187
	RTRUE
?L8:	EQUAL? LLIFE,2 \?L10
	PRINTR "[RIDX: 1541]"
?L10:	PRINTR "[RIDX: 1542]"

	.FUNCT I-TMEEP,CR=1,L,FOOD=0
	ZERO? QUIET? \FALSE
	FCLEAR MEEP,NODESC
	LOC MEEP >L
	ZERO? L /?L4
	LOC BAG >STACK
	ZERO? STACK /?L4
	ZERO? CCNT /?L4
	IN? BAG,L \?L4
	FCLEAR MEEP,SEEN
	SET 'FOOD,1
	JUMP ?L6
?L4:	SET 'APPETITE,0
?L6:	IN? MEEP,HERE \?L7
	EQUAL? HERE,IN-SHACK,TOWER-PLAT,ON-TOWER /?L9
	EQUAL? HERE,IN-MILL,IN-CIST,ON-CIST /?L9
	EQUAL? HERE,IN-JEEP,IN-CLOSET \?L7
?L9:	ZERO? CR /?L10
	CRLF
?L10:	PRINT CTHEMEEP
	ZERO? FOOD /?L13
	CALL1 SAY-PECKS
	RTRUE
?L13:	CALL1 MEEP-ESCAPES
	RTRUE
?L7:	CALL2 VISIBLE?,MEEP >STACK
	ZERO? STACK /?L86
	EQUAL? L,W100 \?L17
	IN? DOG,L \?L17
	ZERO? CR /?L19
	CRLF
?L19:	ZERO? FOOD /?L22
	PRINT CTHEMEEP
	FSET? DOG,WINDY \?L24
	FCLEAR DOG,WINDY
	PRINTI "[RIDX: 1548]"
?L24:	CALL1 SAY-PECKS
	RTRUE
?L22:	FSET? DOG,WINDY \?L27
	CALL1 LAST-PECK
	RTRUE
?L27:	CALL1 MEEP-SEES-DOG
	RTRUE
?L17:	FCLEAR DOG,WINDY
	EQUAL? L,PLAYER \?L30
	SET 'APPETITE,0
	FSET LEM,SEEN
	FCLEAR MEEP,SEEN
	ZERO? CR /?L32
	CRLF
?L32:	PRINT CTHEMEEP
	FSET? MEEP,TOUCHED \?L35
	FCLEAR MEEP,TOUCHED
	PRINTI "[RIDX: 1553]"
	CRLF
	CALL2 PRINT-ID,STR?188
	RTRUE
?L35:	PRINTI "[RIDX: 1555]"
	CALL1 MEEP-ESCAPES
	RTRUE
?L30:	FSET? L,SURFACE \?L39
	ZERO? CR /?L41
	CRLF
?L41:	PRINT CTHEMEEP
	ZERO? FOOD /?L44
	CALL1 SAY-PECKS
	RTRUE
?L44:	PRINTI "hops off "
	CALL2 THE-PRINT,L
	PRINTI " and "
	CALL1 MEEP-ESCAPES
	RTRUE
?L39:	FSET? L,CONTAINER \?L47
	FSET? L,OPENED \?L48
	ZERO? CR /?L50
	CRLF
?L50:	PRINT CTHEMEEP
	CALL1 SEE-SNAKE? >STACK
	ZERO? STACK /?L53
	PRINTR "[RIDX: 1560]"
?L53:	ZERO? FOOD /?L55
	CALL1 SAY-PECKS
	RTRUE
?L55:	EQUAL? L,CAGE \?L56
	FSET? MEEP,TOUCHED \?L56
	FCLEAR MEEP,TOUCHED
	PRINTR "[RIDX: 1561]"
?L56:	PRINTI "hops out of "
	CALL2 THE-PRINT,L
	PRINTI " and "
	CALL1 MEEP-ESCAPES
	RTRUE
?L48:	FSET? MEEP,SEEN \?L58
	FCLEAR MEEP,SEEN
	RFALSE
?L58:	FSET MEEP,SEEN
	ZERO? CR /?L60
	CRLF
?L60:	PRINT CTHEMEEP
	CALL1 SEE-SNAKE? >STACK
	ZERO? STACK /?L63
	PRINTI "[RIDX: 1564]"
	PRINTD SNAKE
	PRINT PERIOD
	RTRUE
?L63:	ZERO? FOOD /?L65
	CALL1 SAY-PECKS
	RTRUE
?L65:	RANDOM 100 >STACK
	LESS? 50,STACK /?L66
	RANDOM 100 >STACK
	LESS? 50,STACK /?L67
	PRINTI "glares at you from"
	JUMP ?L73
?L67:	PRINTI "paces back and forth"
	JUMP ?L73
?L66:	RANDOM 100 >STACK
	LESS? 50,STACK /?L71
	PRINTI "looks very unhappy"
	JUMP ?L73
?L71:	PRINTI "is quietly sulking"
?L73:	PRINTI " inside "
	CALL2 THE-PRINT,L
	PRINT PERIOD
	RTRUE
?L47:	ZERO? FOOD /?L74
	FSET MEEP,SEEN
	ZERO? CR /?L75
	CRLF
?L75:	PRINT CTHEMEEP
	CALL1 SAY-PECKS
	ZERO? APPETITE \TRUE
	ZERO? CCNT \TRUE
	EQUAL? HERE,W100 \TRUE
	IN? DOG,HERE \TRUE
	CRLF
	CALL1 MEEP-SEES-DOG
	RTRUE
?L74:	EQUAL? HERE,W100 \?L81
	IN? DOG,HERE \?L81
	ZERO? CR /?L82
	CRLF
?L82:	CALL1 MEEP-SEES-DOG
	RTRUE
?L81:	FSET? MEEP,SEEN \?L85
	FCLEAR MEEP,SEEN
	RFALSE
?L85:	FSET MEEP,SEEN
	FSET LEM,SEEN
	ZERO? CR /?L87
	CRLF
?L87:	PRINT CTHEMEEP
	GET MEEP-TABLE,3 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L86:	ZERO? FOOD /?L97
	CALL1 UPDATE-APPETITE
	ZERO? CCNT \?L93
	ZERO? APPETITE \?L93
	SET 'FOOD,0
?L93:	ZERO? FOOD \?L114
?L97:	IN? DOG,W100 \?L100
	EQUAL? L,W100 /?L101
	EQUAL? L,CAGE \?L100
	IN? L,W100 \?L100
	FSET? L,OPENED \?L100
?L101:	FCLEAR MEEP,SEEN
	SET 'MDELAY,0
	ZERO? DISTRACTION \FALSE
	IN? MEEP,W100 /?L104
	MOVE MEEP,W100
?L104:	SET 'DISTRACTION,3
	FCLEAR DOG,WINDY
	FSET DOG,NODESC
	SET 'TOLERANCE,2
	FCLEAR W100,TOUCHED
	RFALSE
?L100:	ZERO? FOOD \?L114
	ZERO? MDELAY \?L114
	FSET? L,CONTAINER \?L112
	FSET? L,OPENED \?L114
?L112:	FSET? HERE,INDOORS \?L113
	FSET? L,INDOORS /?L113
	CALL1 RANCH-OPEN? >STACK
	ZERO? STACK /?L114
?L113:	EQUAL? HERE,IN-SHACK,TOWER-PLAT,ON-TOWER /?L114
	EQUAL? HERE,ON-CIST,IN-CIST,UNDER-WATER /?L114
	EQUAL? HERE,IN-MILL,IN-JEEP,IN-CLOSET \?L109
?L114:	FCLEAR MEEP,SEEN
	ZERO? MDELAY /FALSE
	DEC 'MDELAY
	RFALSE
?L109:	CALL1 SEE-SNAKE? >STACK
	ZERO? STACK /?L118
	FSET SNAKE,CHILLY
	ZERO? CR /?L119
	CRLF
?L119:	PRINT CTHEMEEP
	PRINTI "trots into the room"
	FSET? SNAKE,BORING \?L122
	PRINTI ", sees the "
	PRINTD SNAKE
	PRINTI " again"
	JUMP ?L124
?L122:	FSET SNAKE,BORING
	PRINTI "[RIDX: 1581]"
	PRINTD MEEP
	PRINTI "[RIDX: 1582]"
	PRINTD MEEP
	PRINTI " abandons the fray"
?L124:	PRINTR "[RIDX: 1584]"
?L118:	MOVE MEEP,HERE
	CALL1 MEEP-ARRIVES
	RTRUE

	.FUNCT EXIT-MEEP
	CALL2 DEQUEUE,I-TMEEP
	CALL2 VANISH,MEEP
	RTRUE

	.FUNCT MEEP-SEES-DOG,X
	FSET DOG,SEEN
	PRINT CTHEMEEP
	FSET? DOG,BORING /?L1
	FSET DOG,BORING
	FCLEAR W100,TOUCHED
	FSET DOG,WINDY
	FIRST? MEEP >X /?L3
?L3:	PRINTI "notices the "
	PRINTD DOG
	ZERO? X /?L4
	MOVE X,W100
	PRINTI ", drops "
	CALL2 THE-PRINT,X
?L4:	PRINTR " and perches on its massive head. You stifle a shriek as the silly bird cocks its head this way and that, wondering what to make of the sleeping monster. Then it gives you a sly glance,[RIDX: 1212] and begins to peck at the sand fleas behind the dog's ears."
?L1:	PRINTI "[RIDX: 1589]"
	PRINT PCR
	CALL1 LAST-PECK
	RTRUE

	.FUNCT LAST-PECK
	PRINTI "[RIDX: 1590]"
	FSET? DOG,WINDY \?L1
	PRINTI " perched on its head"
?L1:	PRINTI "[RIDX: 1592]"
	PRINTD MEEP
	PRINT PTHE
	PRINTI "[RIDX: 1593]"
	CRLF
	CALL1 DOG-ALERT
	RTRUE

	.FUNCT SAY-PECKS,CR=1,X
	FSET LEM,SEEN
	FCLEAR MEEP,SEEN
	FCLEAR DOG,WINDY
	FIRST? MEEP >X \?L2
	LOC MEEP >STACK
	MOVE X,STACK
	PRINTI "drops "
	CALL2 THE-PRINT,X
	PRINTI " and "
?L2:	ZERO? APPETITE \?L5
	SET 'APPETITE,4
	PRINTI "begins to peck at "
	JUMP ?L7
?L5:	CALL1 UPDATE-APPETITE
	CALL2 PICK-NEXT,PECKINGS >STACK
	PRINT STACK
?L7:	PRINTI "the "
	ZERO? APPETITE \?L8
	ZERO? CCNT \?L8
	PRINTI "last few "
?L8:	PRINTI "crumbs in the bag."
	ZERO? CR /TRUE
	CRLF
	RTRUE

	.FUNCT UPDATE-APPETITE
	FCLEAR DOG,WINDY
	DEC 'APPETITE
	ZERO? APPETITE \?L1
	CALL1 EMPTY-BAG
	RTRUE
?L1:	EQUAL? APPETITE,CCNT /TRUE
	GRTR? CCNT,1 \?L4
	DEC 'CCNT
	RTRUE
?L4:	SET 'CCNT,1
	RTRUE

	.FUNCT MEEP-ARRIVES
	FSET LEM,SEEN
	FSET MEEP,SEEN
	FCLEAR DOG,WINDY
	CRLF
	PRINT CTHEMEEP
	RANDOM 100 >STACK
	LESS? 30,STACK /?L1
	PRINTI "reappears"
	RANDOM 100 >STACK
	LESS? 50,STACK /?L9
	PRINTI " at your side"
	JUMP ?L9
?L1:	GET MEEP-TABLE,4 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTI "s "
	RANDOM 100 >STACK
	LESS? 50,STACK /?L7
	PRINTI "into view"
	JUMP ?L9
?L7:	PRINTI "to your side"
?L9:	PRINT PERIOD
	CALL2 VISIBLE?,BAG >STACK
	ZERO? STACK /?L10
	IN? BAG,PLAYER /?L10
	CALL1 MEEP-SEES-BAG
	RTRUE
?L10:	EQUAL? HERE,W100 \TRUE
	IN? DOG,HERE \TRUE
	CRLF
	CALL1 MEEP-SEES-DOG
	RTRUE

	.FUNCT RANCH-OPEN?
	FSET? NEROOM-DOOR,OPENED /TRUE
	FSET? SEROOM-DOOR,OPENED /TRUE
	FSET? SWROOM-DOOR,OPENED /TRUE
	FSET? NROOM-DOOR,OPENED /TRUE
	FSET? BROOM-DOOR,OPENED \FALSE
	RTRUE

	.FUNCT MEEP-ESCAPES,DOOR=0
	FCLEAR MEEP,TOUCHED
	FCLEAR MEEP,SEEN
	FSET LEM,SEEN
	SET 'APPETITE,0
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	EQUAL? HERE,ON-CIST,IN-CIST \?L1
	MOVE MEEP,SCIST
	PRINTI "flutters out of the "
	PRINTD RESERVOIR
	PRINTR " and disappears."
?L1:	EQUAL? HERE,IN-MILL \?L3
	MOVE MEEP,UNDERM
	PRINTI "leaps over the "
	PRINTD LANDING
	PRINTI "'s edge and flutters"
	PRINT OUTASITE
	RTRUE
?L3:	EQUAL? HERE,IN-JEEP \?L4
	MOVE MEEP,N75
	PRINTR "[RIDX: 1617]"
?L4:	CALL1 SEE-SNAKE? >STACK
	ZERO? STACK /?L5
	MOVE MEEP,SEROOM
	PRINTI "[RIDX: 1618]"
	PRINTD SNAKE
	PRINTR "[RIDX: 1619]"
?L5:	CALL2 VISIBLE?,BAG >STACK
	ZERO? STACK /?L6
	IN? BAG,PLAYER /?L6
	MOVE MEEP,HERE
	PRINTI "lands at your feet."
	CRLF
	CALL1 MEEP-SEES-BAG
	RTRUE
?L6:	EQUAL? HERE,IHOUSE,IN-HALL \?L7
	MOVE MEEP,NWYARD
	PRINTI "scoots "
	EQUAL? HERE,IHOUSE \?L8
	PRINTR "up the stairs."
?L8:	PRINTR "off down the hall."
?L7:	EQUAL? HERE,IN-CLOSET \?L13
	FSET? CLOSET-DOOR,OPENED /?L14
?L13:	EQUAL? HERE,IN-BATH,BROOM,NROOM /?L14
	EQUAL? HERE,NWROOM,SWROOM,NEROOM /?L14
	EQUAL? HERE,SEROOM \?L11
?L14:	EQUAL? HERE,NEROOM \?L15
	FSET? NEROOM-DOOR,OPENED /?L15
	SET 'DOOR,NEROOM-DOOR
	JUMP ?L19
?L15:	EQUAL? HERE,SEROOM \?L17
	FSET? SEROOM-DOOR,OPENED /?L17
	SET 'DOOR,SEROOM-DOOR
	JUMP ?L19
?L17:	EQUAL? HERE,SWROOM \?L18
	FSET? SWROOM-DOOR,OPENED /?L18
	SET 'DOOR,SWROOM-DOOR
	JUMP ?L19
?L18:	EQUAL? HERE,NROOM \?L19
	FSET? NROOM-DOOR,OPENED /?L19
	SET 'DOOR,NROOM-DOOR
?L19:	ZERO? DOOR /?L21
	FSET DOOR,OPENED
	PRINTI "nudges open "
	CALL2 THE-PRINT,DOOR
	PRINTI "[RIDX: 1625]"
?L21:	CALL1 RANCH-OPEN? >STACK
	ZERO? STACK /?L24
	PUSH ERANCH
	JUMP ?L27
?L24:	EQUAL? HERE,IN-BATH \?L26
	PUSH BROOM
	JUMP ?L27
?L26:	PUSH IN-BATH
?L27:	MOVE MEEP,STACK
	PRINTI "trots"
	PRINT OUTASITE
	RTRUE
?L11:	EQUAL? HERE,IN-SHACK,TOWER-PLAT,ON-TOWER \?L28
	MOVE MEEP,AT-ZERO
	PRINTI "disappears "
	EQUAL? HERE,IN-SHACK \?L29
	PRINTI "to the west"
	JUMP ?L31
?L29:	PRINTI "[RIDX: 1629]"
	PRINTD PLATFORM
?L31:	PRINT PCR
	PRINTR "[RIDX: 1630]"
?L28:	FCLEAR DOG,WINDY
	MOVE MEEP,HERE
	FSET MEEP,SEEN
	SET 'P-IT-OBJECT,MEEP
	ZERO? LIT? \?L33
	PRINTR "[RIDX: 1631]"
?L33:	GET MEEP-TABLE,3 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	EQUAL? HERE,W100 \TRUE
	IN? DOG,HERE \TRUE
	CRLF
	CALL1 MEEP-SEES-DOG
	RTRUE

	.FUNCT MEEP-SEES-BAG,L
	FCLEAR MEEP,TOUCHED
	FCLEAR DOG,WINDY
	LOC BAG >L
	EQUAL? L,CAGE \?L1
	FSET? L,OPENED /?L1
	FSET? BAG,SEEN /TRUE
?L1:	CRLF
	PRINTI "The bird spies the "
	PRINTD EBAG
	EQUAL? L,HERE /?L8
	FSET? L,SURFACE \?L6
	MOVE MEEP,L
	PRINTI ". It leaps up onto "
	CALL2 THE-PRINT,L
	JUMP ?L8
?L6:	FSET? L,OPENED /?L7
	FSET BAG,SEEN
	SET 'APPETITE,0
	PRINTI " inside "
	CALL2 THE-PRINT,L
	PRINTR "[RIDX: 1636]"
?L7:	MOVE MEEP,L
	PRINTI ". It leaps into "
	CALL2 THE-PRINT,L
?L8:	PRINTI " and "
	CALL1 SAY-PECKS
	RTRUE

	.FUNCT I-SNAKE,CR=1
	CALL1 SEE-SNAKE? >STACK
	ZERO? STACK \?L1
	FSET SNAKE,SEEN
	RFALSE
?L1:	ZERO? CR /?L3
	CRLF
?L3:	SET 'P-IT-OBJECT,SNAKE
	FSET? SNAKE,SEEN \?L5
	FCLEAR SNAKE,SEEN
	CALL2 CTHE-PRINT,SNAKE
	EQUAL? HERE,IN-CLOSET \?L7
	PRINTI "[RIDX: 1640]"
	JUMP ?L9
?L7:	CALL2 PICK-NEXT,SNAKE-DOINGS >STACK
	PRINT STACK
?L9:	PRINT AS-IF
	PRINTR "[RIDX: 1641]"
?L5:	FSET ANKLE,SURFACE
	CALL QUEUE,I-BITTEN,1
	CALL2 CTHE-PRINT,SNAKE
	PRINTI " strikes "
	PRINTD ANKLE
	PRINTI "[RIDX: 1643]"
	CALL1 SNAKE-LEAVES
	CRLF
	PRINTI "[RIDX: 1644]"
	CALL2 PRINT-ID,STR?189
	CALL2 ITS-ALREADY,STR?190
	RTRUE

	.FUNCT SEE-SNAKE?
	FSET? SNAKE,LIVING \FALSE
	EQUAL? HERE,NEROOM /TRUE
	EQUAL? HERE,IN-CLOSET \FALSE
	FSET? CLOSET-DOOR,OPENED \FALSE
	RTRUE

	.FUNCT SNAKE-LEAVES
	FCLEAR SNAKE,LIVING
	REMOVE XSNAKE
	CALL2 VANISH,SNAKE
	CALL2 DEQUEUE,I-SNAKE
	PUTP NEROOM,P?ODOR,0
	PUTP NEROOM,P?HEAR,0
	PUTP IN-CLOSET,P?ODOR,0
	PUTP IN-CLOSET,P?HEAR,0
	PRINTI " and slithers"
	PRINT OUTASITE
	RTRUE

	.FUNCT I-BITTEN,CR=1
	ZERO? CR /?L1
	CRLF
?L1:	PRINTI "[RIDX: 1652]"
	FSET? HERE,INDOORS \?L4
	PRINTD FLOOR
	JUMP ?L6
?L4:	PRINTD GROUND
?L6:	PRINT PCR
	GRTR? MINUTES,27 \?L7
	PRINTI "Moment"
	JUMP ?L9
?L7:	PRINTI "Minute"
?L9:	PRINTI "s later, "
	CALL1 DO-KABOOM
	CALL2 PRINT-ID,STR?191
	CALL1 JIGS-UP
	RTRUE

	.FUNCT I-TUNNEL,CR=1
	ZERO? MINUTES \?L1
	ZERO? CR /?L3
	CRLF
?L3:	EQUAL? HERE,TUN1 \?L6
	CALL2 CTHE-PRINT,UBOMB
	PRINTI " erupts "
	JUMP ?L8
?L6:	PRINTI "[RIDX: 1659]"
	PRINTD TUNNEL
	PRINTI " is bathed "
?L8:	PRINTI "[RIDX: 1661]"
	CALL2 PRINT-ID,STR?192
	CALL1 JIGS-UP
	RTRUE
?L1:	FSET? WSWITCH,OPENED /FALSE
	CALL2 VISIBLE?,WTK >STACK
	ZERO? STACK /FALSE
	EQUAL? TFREQ,42 \?L12
	FSET? ANTENNA,OPENED /?L11
?L12:	ZERO? QUIET? \FALSE
	ZERO? CR /?L18
	EQUAL? SECONDS,0,30 /FALSE
	CRLF
?L18:	FSET WTK,SEEN
	CALL2 CTHE-PRINT,WTK
	CALL2 PICK-NEXT,HISSES >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L11:	ZERO? SECONDS \?L20
	FSET WTK,SEEN
	ZERO? CR /?L21
	CRLF
?L21:	FSET? WTK,SHADOWY /?L24
	FSET WTK,SHADOWY
	PRINTI "[RIDX: 1663]"
?L24:	PRINTI """"
	SUB 60,MINUTES >STACK
	GET WTK-TABLE,0 >STACK
	GET STACK,STACK >STACK
	PRINT STACK
	PRINTR "."""
?L20:	ZERO? CR /?L29
	EQUAL? SECONDS,30 \FALSE
	ZERO? CR /?L29
	CRLF
?L29:	FSET WTK,SEEN
	CALL2 CTHE-PRINT,WTK
	CALL2 PICK-NEXT,HISSES >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE

	.FUNCT I-WTK
	ZERO? QUIET? \?L1
	FSET? WSWITCH,OPENED /?L1
	FSET? WTK,CHILLY /?L1
	FSET? WTK,SEEN /?L1
	CALL2 VISIBLE?,WTK >STACK
	ZERO? STACK /?L1
	RANDOM 100 >STACK
	LESS? 30,STACK /?L1
	FSET WTK,SEEN
	CRLF
	CALL2 CTHE-PRINT,WTK
	CALL2 PICK-NEXT,HISSES >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L1:	FCLEAR WTK,SEEN
	RFALSE

	.FUNCT I-FLARE
	EQUAL? MINUTES,29 \?L1
	EQUAL? SECONDS,45 \?L1
	CALL1 KABOOM
	RTRUE
?L1:	FSET? HERE,INDOORS /FALSE
	EQUAL? MINUTES,24,27,28 \FALSE
	EQUAL? SECONDS,45 \FALSE
	EQUAL? MINUTES,24 \?L4
	EQUAL? HERE,S100,W100 \?L6
	CALL2 CRACKLES,STR?193
	CALL1 FIVE-MINUTE-WARNING
?L6:	CALL1 FIRST-SEE-FLARE
	PRINTR "[RIDX: 1690]"
?L4:	EQUAL? MINUTES,27 \?L9
	EQUAL? HERE,S100,W100 \?L10
	CALL2 CRACKLES,STR?194
	CALL1 TWO-MINUTE-WARNING
	EQUAL? HERE,W100 \?L12
	CALL1 HINGE-SQUEAK
	RTRUE
?L12:	CRLF
	PRINTI "[RIDX: 1692]"
	PRINTD TRENCHES
	PRINTI " nearby."
	CRLF
?L10:	PUTP W100,P?ODOR,0
	PUTP W100,P?HEAR,0
	REMOVE DOG
	CALL2 DEQUEUE,I-DOG
	FSET? FLARE,NODESC \?L16
	CALL1 FIRST-SEE-FLARE
	JUMP ?L18
?L16:	FSET FLARE,CHILLY
	CRLF
	PRINTI "Another "
	PRINTD FLARE
	PRINTI "[RIDX: 1695]"
?L18:	PRINTR "[RIDX: 1696]"
?L9:	FSET? FLARE,NODESC \?L20
	CALL1 FIRST-SEE-FLARE
	JUMP ?L22
?L20:	CRLF
	PRINTI "A "
	FSET? FLARE,CHILLY \?L23
	PRINTI "third "
	JUMP ?L25
?L23:	PRINTI "second "
?L25:	PRINTD FLARE
?L22:	PRINTR "[RIDX: 1700]"

	.FUNCT HINGE-SQUEAK
	CRLF
	PRINTI "[RIDX: 1701]"
	PRINTD BHOUSE
	IN? DOG,W100 \?L1
	PRINTI "[RIDX: 1702]"
?L1:	PRINTI "[RIDX: 1703]"
	CRLF
	CALL1 HOLD-IT
	CALL1 KINDA-SPY
	CALL1 SURROUNDED
	RTRUE

	.FUNCT FIRST-SEE-FLARE
	FCLEAR FLARE,NODESC
	CRLF
	PRINTI "[RIDX: 1704]"
	PRINTD GDESERT
	PRINTI "[RIDX: 1705]"
	PRINTD FLARE
	PRINTI " streaks upward,"
	RTRUE

	.FUNCT CRACKLES,STR
	CRLF
	PRINTI "A "
	PRINTD SPEAKER
	PRINTI "[RIDX: 1708]"
	PRINT STR
	PRINTI " minutes"
	RTRUE

	.FUNCT KABOOM
	CRLF
	PRINT ALLATONCE
	CALL1 DO-KABOOM
	RTRUE

	.FUNCT DO-KABOOM
	PRINTI "the "
	EQUAL? HERE,IN-CLOSET,IHOUSE \?L1
	PRINTI "[RIDX: 1711]"
	CALL1 BLIGHT
	JUMP ?L14
?L1:	EQUAL? HERE,UNDER-WATER \?L3
	PRINTI "water around you is"
	CALL1 BLIGHT
	JUMP ?L14
?L3:	EQUAL? HERE,IN-HALL \?L4
	PRINTI "hallway is"
	CALL1 BLIGHT
	JUMP ?L14
?L4:	EQUAL? HERE,IN-SHACK,TOWER-PLAT,ON-TOWER /?L6
	EQUAL? HERE,AT-ZERO,N25,NZERO /?L6
	EQUAL? HERE,NEZERO,EZERO,AT-TNT /?L6
	EQUAL? HERE,S25,W25,WZERO \?L5
?L6:	EQUAL? HERE,IN-SHACK \?L7
	PRINTD GADGET
	JUMP ?L9
?L7:	EQUAL? HERE,ON-TOWER,AT-ZERO,TOWER-PLAT /?L10
	PRINTI "distant "
?L10:	PRINTD DTOWER
?L9:	CALL1 DAZZLE
	JUMP ?L14
?L5:	FSET? HERE,INDOORS \?L13
	PRINTD WINDOWS
	PRINTI " are"
	CALL1 BLIGHT
	JUMP ?L14
?L13:	PRINTI "desert around you"
	CALL1 DAZZLE
?L14:	PRINTI "! You jam "
	PRINTD HANDS
	PRINTI "[RIDX: 1718]"
	CALL1 MUCH-OF
	RTRUE

	.FUNCT BLIGHT
	PRINTI "[RIDX: 1719]"
	RTRUE

	.FUNCT DAZZLE
	PRINTI "[RIDX: 1720]"
	RTRUE

	.FUNCT I-TRINITY,W=0,V=0,Z=0,X
	FSET? WTK,CHILLY /?L8
	FSET? WSWITCH,OPENED /?L8
	CALL2 VISIBLE?,WTK >STACK
	ZERO? STACK /?L8
	FSET? ANTENNA,OPENED \?L4
	FSET? RDIAL,SEEN \?L4
	EQUAL? TFREQ,MAGICFREQ \?L4
	SET 'W,1
	FCLEAR WTK,SEEN
	JUMP ?L8
?L4:	ZERO? QUIET? \?L8
	FSET? WTK,SEEN \?L7
	FCLEAR WTK,SEEN
	JUMP ?L8
?L7:	RANDOM 100 >STACK
	LESS? 50,STACK /?L8
	SET 'V,1
	FSET WTK,SEEN
	CRLF
	CALL2 CTHE-PRINT,WTK
	CALL2 PICK-NEXT,HISSES >STACK
	PRINT STACK
	PRINT PERIOD
?L8:	FSET? BREAKER,OPENED \?L23
	FSET? BREAKER,BORING \?L13
	ZERO? W /?L15
	CALL1 KSCRUB
?L15:	CALL1 POLICE-CONVERGE
	RTRUE
?L13:	FSET? BREAKER,SHADOWY \?L18
	ZERO? W /?L19
	CRLF
	PRINTI "[RIDX: 1735]"
	CALL1 BITTER-VOICE
?L19:	CALL1 POLICE-CONVERGE
	RTRUE
?L18:	FSET BREAKER,SHADOWY
	ZERO? W /?L23
	SET 'V,1
	CALL1 REVEAL-WIRE
?L23:	EQUAL? HERE,ON-TOWER,TOWER-PLAT \?L34
	LESS? MINUTES,30 \?L34
	ZERO? DISTRACTION \?L122
	DEC 'TOLERANCE
	ZERO? TOLERANCE \?L29
	ZERO? W /?L31
	CALL1 NO-TOLERANCE
?L31:	CALL1 POLICE-CONVERGE
	RTRUE
?L29:	ZERO? W /?L34
	EQUAL? TOLERANCE,1 \?L34
	SET 'V,1
	CALL1 EYES-SEE-MOVEMENT
?L34:	ZERO? DISTRACTION /?L77
?L122:	DEC 'DISTRACTION
	ZERO? DISTRACTION \?L39
	FCLEAR DOG,NODESC
	FCLEAR DOG,SEEN
	FSET SPOT,SEEN
	FCLEAR TOWER-PLAT,TOUCHED
	FCLEAR ON-TOWER,TOUCHED
	FCLEAR IN-SHACK,TOUCHED
	ZERO? W /?L41
	SET 'V,1
	CALL1 SOME-BUZZARD
?L41:	IN? CAGE,W100 \?L44
	REMOVE CAGE
?L44:	IN? WALLET,W100 \?L47
	REMOVE WALLET
?L47:	ZERO? MLIVES /?L50
	MOVE MEEP,W75
?L50:	EQUAL? HERE,W75,W50,W25 \?L53
	SET 'V,1
	EQUAL? HERE,W75 \?L55
	ZERO? MLIVES /?L55
	CALL1 MEEP-ARRIVES
?L55:	CALL2 SPOT-SWEEPS,STR?151
	JUMP ?L77
?L53:	EQUAL? HERE,AT-ZERO,ON-TOWER,TOWER-PLAT /?L59
	EQUAL? HERE,IN-SHACK \?L77
?L59:	SET 'V,1
	CRLF
	CALL2 CTHE-PRINT,SLIGHT
	PRINTI "[RIDX: 1739]"
	CRLF
	JUMP ?L77
?L39:	EQUAL? DISTRACTION,2 \?L61
	FCLEAR SPOT,SEEN
	FCLEAR TOWER-PLAT,TOUCHED
	FCLEAR IN-SHACK,TOUCHED
	FSET SLIGHT,SEEN
	ZERO? W /?L62
	SET 'V,1
	CALL1 HEAR-BARKING
?L62:	EQUAL? HERE,W75,W50,W25 \?L65
	SET 'V,1
	CALL2 SPOT-SWEEPS,STR?154
	JUMP ?L77
?L65:	EQUAL? HERE,AT-ZERO,ON-TOWER,TOWER-PLAT /?L68
	EQUAL? HERE,IN-SHACK \?L77
?L68:	SET 'V,1
	CRLF
	PRINTI "[RIDX: 1741]"
	PRINTD TOWER
	PRINTI "[RIDX: 1742]"
	CRLF
	JUMP ?L77
?L61:	DEC 'MLIVES
	ZERO? MLIVES \?L71
	CALL2 DEQUEUE,I-TMEEP
	REMOVE MEEP
	MOVE FEATHERS,W100
?L71:	ZERO? W /?L74
	SET 'V,1
	CALL1 BARK-CONTINUES
?L74:	ZERO? MLIVES \?L77
	EQUAL? HERE,W75,D5,D9 \?L77
	SET 'V,1
	CRLF
	PRINTI "[RIDX: 1743]"
	PRINTD GDESERT
	PRINT PERIOD
?L77:	ZERO? W \?L81
	RETURN V
?L81:	EQUAL? MINUTES,29 \?L83
	ZERO? SECONDS \?L84
	CALL1 Z-MINUS-45
	RTRUE
?L84:	EQUAL? SECONDS,15 \?L86
	CALL1 Z-MINUS-30
	RTRUE
?L86:	EQUAL? SECONDS,30 \?L87
	CALL1 Z-MINUS-15
	RTRUE
?L87:	CALL1 FINAL-SECONDS
	RTRUE
?L83:	EQUAL? MINUTES,9 \?L89
	CALL1 DO-NINE
	RTRUE
?L89:	EQUAL? MINUTES,28 \?L90
	CALL1 DO-28
	RTRUE
?L90:	EQUAL? MINUTES,27 \?L91
	EQUAL? SECONDS,30 \?L91
	CRLF
	PRINTR "[RIDX: 1745]"
?L91:	LESS? MINUTES,9 \?L92
	ZERO? QUIET? \FALSE
	ZERO? V \FALSE
	EQUAL? SECONDS,15,45 /FALSE
	CRLF
	ZERO? SECONDS \?L97
	CALL2 CTHE-PRINT,WTK
	CALL2 PICK-NEXT,HISSES >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L97:	RANDOM 100 >STACK
	LESS? 50,STACK /?L105
	SET 'Z,1
	RANDOM 100 >STACK
	LESS? 50,STACK /?L100
	RANDOM 100 >STACK
	LESS? 50,STACK /?L102
	PRINTI "A voice on the "
	PRINTD WTK
	JUMP ?L104
?L102:	CALL2 CTHE-PRINT,WTK
?L104:	GET WTK-TABLE,1 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTI ", "
	JUMP ?L105
?L100:	CALL2 CTHE-PRINT,WTK
	CALL2 PICK-NEXT,HISSES >STACK
	PRINT STACK
	PRINTI ". "
?L105:	PRINTI """"
	CALL2 PICK-NEXT,BABBLE >STACK
	PRINT STACK
	ZERO? Z \?L109
	RANDOM 100 >STACK
	LESS? 50,STACK /?L107
?L109:	PRINTR "."""
?L107:	PRINTI ","""
	GET WTK-TABLE,1 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	RANDOM 100 >STACK
	LESS? 50,STACK /?L111
	PRINTI " a voice on"
?L111:	PRINTI " the "
	PRINTD WTK
	PRINT PERIOD
	RTRUE
?L92:	EQUAL? SECONDS,15 \?L114
	CRLF
	SUB 27,MINUTES >STACK
	GET TECHNOBABBLE,STACK >STACK
	PRINT STACK
	CRLF
	RTRUE
?L114:	EQUAL? SECONDS,0,30 /FALSE
	SUB MINUTES,10 >X
	PRINT Z-MINUS
	GET CDOWN,X >STACK
	PRINT STACK
	PRINTI " minutes"
	EQUAL? HERE,W100,S100 /?L120
	EQUAL? MINUTES,27 \?L119
	CALL1 TWO-MINUTE-WARNING
	CRLF
	PRINTI "[RIDX: 1755]"
	PRINTD WTK
	PRINT PERIOD
	RTRUE
?L119:	EQUAL? MINUTES,24 \?L120
	CALL1 FIVE-MINUTE-WARNING
	CRLF
	CALL2 CTHE-PRINT,WTK
	PRINTR "[RIDX: 1756]"
?L120:	PRINTR "."""

	.FUNCT TWO-MINUTE-WARNING
	PRINTI "[RIDX: 1758]"
	CALL2 ITALICIZE,STR?195
	PRINTR " from Zero."""

	.FUNCT FIVE-MINUTE-WARNING
	PRINTR "[RIDX: 1761]"

	.FUNCT DO-28
	EQUAL? SECONDS,45 \?L1
	PRINT Z-MINUS
	PRINTR "[RIDX: 1789]"
?L1:	CRLF
	ZERO? SECONDS \?L4
	PRINTR "[RIDX: 1790]"
?L4:	EQUAL? SECONDS,15 \?L6
	PRINTR "[RIDX: 1791]"
?L6:	PRINTI "The music on the "
	PRINTD WTK
	PRINTR "[RIDX: 1793]"

	.FUNCT DO-NINE
	CRLF
	ZERO? SECONDS \?L1
	CALL2 CTHE-PRINT,WTK
	PRINTI " whines softly. """
	PRINTD BAKER
	PRINTR "[RIDX: 1795]"
?L1:	EQUAL? SECONDS,15 \?L3
	PRINTI """"
	PRINTD ABLE
	PRINTI " to "
	PRINTD BAKER
	PRINTI "[RIDX: 1798]"
	PRINTD ABLE
	PRINTR "."""
?L3:	EQUAL? SECONDS,30 \?L4
	PRINTR "[RIDX: 1800]"
?L4:	CALL2 CTHE-PRINT,WTK
	PRINTR "[RIDX: 1801]"

	.FUNCT SPOT-SWEEPS,STR
	CRLF
	PRINTI "A "
	PRINTD SLIGHT
	PRINTI " beam sweeps "
	PRINT STR
	PRINTI " across the "
	PRINTD GDESERT
	PRINT PERIOD
	RTRUE

	.FUNCT REVEAL-WIRE
	CRLF
	PRINTI "[RIDX: 1825]"
	PRINTD WTK
	PRINT PCR
	PRINTI """I didn't copy, "
	PRINTD BAKER
	PRINTI "[RIDX: 1827]"
	PRINTD VOICES
	PRINTI ". """
	PRINTD BAKER
	PRINTI "[RIDX: 1829]"
	CALL2 ITALICIZE,STR?196
	PRINTI "[RIDX: 1831]"
	GRTR? MINUTES,28 \?L1
	PRINTI "Is this a scrub, "
	PRINTD BAKER
	PRINTI "[RIDX: 1833]"
	PRINTD ABLE
	PRINTI "[RIDX: 1834]"
	CRLF
	CALL1 POLICE-CONVERGE
	RTRUE
?L1:	PRINTI "[RIDX: 1835]"
	PRINTD BAKER
	PRINTI "[RIDX: 1836]"
	PRINTD ABLE
	PRINTI "[RIDX: 1837]"
	CALL1 WIRE-ID
	PRINTI "[RIDX: 1838]"
	PRINTD ABLE
	PRINTR "."""

	.FUNCT WIRE-ID
	ZERO? XWIRE \?L1
	CALL2 PICK-ONE,WIRE-COLORS >XWIRE
?L1:	EQUAL? XWIRE,STR?197 \?L4
	PRINTI "positive"
	RTRUE
?L4:	EQUAL? XWIRE,STR?198 \?L6
	PRINTI "ground"
	RTRUE
?L6:	EQUAL? XWIRE,STR?199 \?L7
	PRINTI "informer"
	RTRUE
?L7:	PRINTI "detonator"
	RTRUE

	.FUNCT KSCRUB,WIN=0
	CRLF
	PRINTI "[RIDX: 1848]"
	FSET? BREAKER,BORING \?L1
	PRINTI " again"
?L1:	ZERO? WIN \?L4
	CALL1 BITTER-VOICE
	RTRUE
?L4:	PRINTI "[RIDX: 1850]"
	PRINTD BAKER
	PRINTI "[RIDX: 1851]"
	CALL1 WIRE-ID
	PRINT PTHE
	PRINTI "[RIDX: 1852]"
	PRINTD ABLE
	PRINT PTHE
	PRINTI "[RIDX: 1853]"
	CRLF
	CRLF
	CALL2 CTHE-PRINT,WTK
	CALL2 PICK-NEXT,HISSES >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE

	.FUNCT BITTER-VOICE
	PRINTI ", "
	PRINTD ABLE
	PRINTI "[RIDX: 1855]"
	PRINTD BAKER
	PRINTR "[RIDX: 1856]"

	.FUNCT NO-TOLERANCE
	CRLF
	PRINTI """"
	PRINTD PITTS
	PRINTI "[RIDX: 1858]"
	PRINTD TOWER
	PRINTR "[RIDX: 1859]"

	.FUNCT EYES-SEE-MOVEMENT
	CALL QUEUE,I-EYE,1
	CRLF
	PRINTI """"
	PRINTD PITTS
	PRINTI " to "
	PRINTD ABLE
	PRINTI ". "
	FSET? WIGHT,LOCATION /?L1
	FSET WIGHT,LOCATION
	PRINTI "[RIDX: 1863]"
	PRINTD WTK
	PRINTI "[RIDX: 1864]"
	PRINTD PITTS
	PRINTR "[RIDX: 1865]"
?L1:	FSET? WIGHT,LIGHTED /?L3
	FSET WIGHT,LIGHTED
	PRINTI "[RIDX: 1866]"
	PRINTD PITTS
	PRINTI "?""

""Har har, "
	PRINTD ABLE
	PRINTI ". "
	PRINTD PITTS
	PRINTI "[RIDX: 1869]"
	PRINTD BAKER
	PRINTR "."""
?L3:	PRINTI "[RIDX: 1871]"
	PRINTD PITTS
	PRINTI "[RIDX: 1872]"
	PRINTD BAKER
	PRINTR ". Stand by."""

	.FUNCT I-EYE
	EQUAL? HERE,ON-TOWER,TOWER-PLAT /FALSE
	CRLF
	PRINTI """"
	PRINTD PITTS
	PRINTI " to "
	PRINTD BAKER
	PRINTI ". "
	FSET? WIGHT,LIGHTED /?L4
	PRINTI "[RIDX: 1877]"
	JUMP ?L6
?L4:	PRINTI "[RIDX: 1878]"
?L6:	PRINTI ".""

""Roger, "
	PRINTD PITTS
	PRINTR "."""

	.FUNCT HEAR-BARKING
	CRLF
	EQUAL? MLIVES,1 \?L1
	PRINTI "[RIDX: 1882]"
	PRINTD WTK
	PRINT PCR
	PRINTI """Buzzards, "
	PRINTD PITTS
	PRINTI "[RIDX: 1884]"
	PRINTD BAKER
	PRINTR ". Stand by."""
?L1:	PRINTI "[RIDX: 1886]"
	PRINTD WTK
	PRINTI "[RIDX: 1887]"
	PRINTD PITTS
	PRINTI "[RIDX: 1888]"
	PRINTD BAKER
	PRINTI ". What's on, "
	PRINTD PITTS
	PRINTI "?""

""Stand by, "
	PRINTD BAKER
	PRINTI "[RIDX: 1891]"
	PRINTD BAKER
	PRINTI "[RIDX: 1892]"
	PRINTD ABLE
	PRINTI ". No hold. "
	PRINTD PITTS
	PRINTI "[RIDX: 1894]"
	PRINTD PITTS
	PRINTR "."""

	.FUNCT BARK-CONTINUES
	CRLF
	PRINTI "The barking on the "
	PRINTD WTK
	PRINTI "[RIDX: 1897]"
	ZERO? MLIVES \?L1
	PRINTI "[RIDX: 1898]"
	CALL2 ITALICIZE,STR?200
	PRINTR "[RIDX: 1900]"
?L1:	PRINTR ", then dies away."

	.FUNCT SOME-BUZZARD
	CRLF
	PRINTI """"
	PRINTD PITTS
	PRINTI " to "
	PRINTD BAKER
	PRINTI "."
	ZERO? MLIVES \?L1
	PRINTI "[RIDX: 1905]"
	CRLF
	CRLF
	JUMP ?L3
?L1:	PRINTI "[RIDX: 1906]"
?L3:	PRINTI """Roger, "
	PRINTD PITTS
	PRINTI ". Stand by."""
	CRLF
	IN? CAGE,W100 \TRUE
	CRLF
	PRINTI "[RIDX: 1909]"
	PRINTD CAGE
	PRINTI " out here"
	IN? LEM,CAGE \?L6
	PRINTI "[RIDX: 1911]"
?L6:	PRINTI "[RIDX: 1912]"
	PRINTD BAKER
	PRINTR "."""

	.FUNCT Z-MINUS-45
	PRINT Z-MINUS
	PRINTI "[RIDX: 1914]"
	PRINTD BAKER
	PRINTR "[RIDX: 1915]"

	.FUNCT Z-MINUS-30
	PRINT Z-MINUS
	PRINTI "[RIDX: 1916]"
	CALL2 ITALICIZE,STR?195
	PRINTR "[RIDX: 1918]"

	.FUNCT Z-MINUS-15
	PRINT Z-MINUS
	PRINTR "[RIDX: 1919]"

	.FUNCT FINAL-SECONDS
	PRINT Z-MINUS
	PRINTI "[RIDX: 1920]"
	CALL2 ITALICIZE,STR?201
	PRINTR "[RIDX: 1922]"

	.FUNCT I-BIKES
	EQUAL? HERE,LAN-WALK \FALSE
	CALL2 DEQUEUE,I-BIKES
	FSET BIKES,SEEN
	CRLF
	PRINTI "[RIDX: 1923]"
	PRINTD LAN-WALK
	PRINTR "[RIDX: 1924]"

	.FUNCT I-WIGHT
	EQUAL? HERE,IN-BARROW \FALSE
	ZERO? LIT? \?L3
	DEC 'WIGHTER
	CRLF
	EQUAL? WIGHTER,3 \?L4
	PRINTI "[RIDX: 1925]"
	CRLF
	CALL1 WIGHT-ID
	JUMP ?L8
?L4:	EQUAL? WIGHTER,2 \?L6
	PRINTI "[RIDX: 1926]"
	CRLF
	JUMP ?L8
?L6:	EQUAL? WIGHTER,1 \?L7
	PRINTI "[RIDX: 1927]"
	CRLF
	JUMP ?L8
?L7:	CALL1 WIGHT-KILLS-YOU
	RTRUE
?L8:	IN? KEY,KEYHOLE \TRUE
	FSET? SLOPE,OPENED /TRUE
	MOVE KEY,WIGHT
	CRLF
	PRINTI "[RIDX: 1928]"
	PRINTD KEY
	PRINTR "[RIDX: 1929]"
?L3:	FSET? WIGHT,SEEN \?L12
	FCLEAR WIGHT,SEEN
	RFALSE
?L12:	RANDOM 100 >STACK
	LESS? 50,STACK \FALSE
	CRLF
	CALL2 CTHE-PRINT,WIGHT
	CALL2 PICK-NEXT,WIGHT-DOINGS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE

	.FUNCT WIGHT-KILLS-YOU
	PRINTI "[RIDX: 1937]"
	CALL2 ITALICIZE,STR?202
	PRINTI "[RIDX: 1939]"
	CALL2 PRINT-ID,STR?203
	CALL1 JIGS-UP
	RTRUE

	.FUNCT I-SLOPE
	EQUAL? HERE,ICE-CAVE \FALSE
	FSET? SLOPE,OPENED \FALSE
	FCLEAR SLOPE,OPENED
	CRLF
	PRINTI "[RIDX: 1941]"
	PRINTD SLOPE
	PRINTI "[RIDX: 1942]"
	PRINTD CEILING
	PRINT PA
	PRINTI "clatter and "
	CALL2 ITALICIZE,STR?204
	PRINTI " fill the "
	PRINTD CAVE
	PRINTI "[RIDX: 1946]"
	CALL1 ALL-IS-STILL
	RTRUE

	.FUNCT I-HARDHAT,V=0
	CALL2 VISIBLE?,LAMP >STACK
	ZERO? STACK /?L1
	SET 'V,1
?L1:	DEC 'BEAM
	ZERO? BEAM \?L4
	CALL2 DEQUEUE,I-HARDHAT
	FCLEAR LAMP,LIGHTED
	ZERO? V /FALSE
	CALL2 LAMPLIGHT,STR?205
	CALL1 SAY-IF-HERE-LIT
	RTRUE
?L4:	EQUAL? HERE,IN-SHACK \?L9
	FSET? X5,OPENED \?L9
	FSET? WATT,TOUCHED /?L9
	CALL1 GET-WIRES
?L9:	ZERO? V /FALSE
	EQUAL? BEAM,4 \?L13
	CALL2 LAMPLIGHT,STR?206
	RTRUE
?L13:	EQUAL? BEAM,9 \FALSE
	CALL2 LAMPLIGHT,STR?207
	RTRUE

	.FUNCT LAMPLIGHT,STR
	CRLF
	CALL2 CTHE-PRINT,LAMP
	PRINTI "'s light "
	PRINT STR
	PRINT PERIOD
	RTRUE

	.FUNCT I-DOG
	EQUAL? HERE,W100 \FALSE
	FSET? DOG,SEEN \?L3
	FCLEAR DOG,SEEN
	RFALSE
?L3:	RANDOM 100 >STACK
	LESS? 50,STACK \FALSE
	FSET DOG,SEEN
	CRLF
	CALL2 CTHE-PRINT,DOG
	CALL2 PICK-NEXT,DOGGIE-DOOS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE

	.FUNCT I-VOICES
	EQUAL? HERE,ON-TOWER \?L1
	CALL1 HOLD-IT
	CRLF
	PRINTI "[RIDX: 1958]"
	PRINTD TLADDER
	PRINTI "[RIDX: 1959]"
	CALL1 EXCUSES
	RTRUE
?L1:	EQUAL? HERE,TOWER-PLAT \?L3
	FSET? SPOT,SEEN \?L3
	DEC 'TOLERANCE
?L3:	ZERO? MINUTES \?L5
	CALL2 DEQUEUE,I-VOICES
	CALL QUEUE,I-FLARE,-1
	CALL QUEUE,I-TRINITY,-1
	CALL QUEUE,I-DOG,-1
	CALL QUEUE,I-OPPIE,-1
	FCLEAR VOICES,SEEN
	PUTP IN-SHACK,P?HEAR,0
	PUTP TOWER-PLAT,P?HEAR,0
	CRLF
	PRINTI "[RIDX: 1960]"
	PRINTD VOICES
	PRINTI "[RIDX: 1961]"
	EQUAL? HERE,IN-SHACK \?L7
	PRINTI "[RIDX: 1962]"
	CALL1 ALL-IS-STILL
	RTRUE
?L7:	PRINTR "[RIDX: 1963]"
?L5:	EQUAL? MINUTES,58 \?L10
	EQUAL? SECONDS,15 /FALSE
	EQUAL? SECONDS,30 \?L13
	FSET VOICES,SEEN
	CRLF
	PRINTI "[RIDX: 1964]"
	EQUAL? HERE,IN-SHACK \?L14
	PRINTI "[RIDX: 1965]"
	JUMP ?L16
?L14:	PRINTI "[RIDX: 1966]"
?L16:	PRINTR "[RIDX: 1967]"
?L13:	CRLF
	PRINTI "[RIDX: 1968]"
	EQUAL? HERE,IN-SHACK \?L18
	PRINTR "outside."
?L18:	PRINTR "down below."
?L10:	CRLF
	ZERO? SECONDS \?L22
	PRINTI "[RIDX: 1971]"
	PRINTD PITTS
	PRINTR "[RIDX: 1972]"
?L22:	EQUAL? SECONDS,15 \?L24
	PRINTI "[RIDX: 1973]"
	EQUAL? HERE,IN-SHACK \?L25
	PRINTI "outside"
	JUMP ?L27
?L25:	PRINTI "below"
?L27:	PRINTR "[RIDX: 1976]"
?L24:	EQUAL? SECONDS,30 \?L28
	FSET SPOT,SEEN
	FCLEAR TOWER-PLAT,TOUCHED
	FCLEAR IN-SHACK,TOUCHED
	PRINT ALLATONCE
	PRINTI "the "
	EQUAL? HERE,IN-SHACK \?L29
	PRINTD SHACK
	JUMP ?L31
?L29:	PRINTD PLATFORM
?L31:	PRINTI "[RIDX: 1978]"
	EQUAL? HERE,IN-SHACK \?L32
	PRINTI "somewhere outside"
	JUMP ?L34
?L32:	PRINTI "[RIDX: 1980]"
	PRINTD HORIZON
?L34:	PRINTI "[RIDX: 1981]"
	PRINTD VOICES
	PRINTR "[RIDX: 1982]"
?L28:	PRINTI "[RIDX: 1983]"
	PRINTD VOICES
	PRINTR " altogether."

	.FUNCT I-RCOUNT,CR=1,X=0,STR
	EQUAL? HOURS,15 \?L1
	ZERO? CR /?L3
	CRLF
?L3:	EQUAL? HERE,ON-PLATFORM,UNDER-PLAT \?L6
	PRINTI "[RIDX: 1987]"
	PRINTD RSPEAKER
	PRINT PCR
	JUMP ?L8
?L6:	PRINTI "[RIDX: 1988]"
?L8:	EQUAL? HERE,CLIFF-EDGE \?L9
	PRINTI "[RIDX: 1989]"
	CALL1 HURRICANE
	CALL1 CLIFF-DROWN
	RTRUE
?L9:	PRINTI "[RIDX: 1990]"
	PRINTD DSHADOW
	PRINTI "[RIDX: 1991]"
	EQUAL? HERE,ON-PLATFORM \?L12
	PRINTD PLATFORM
	JUMP ?L14
?L12:	PRINTD GROUND
?L14:	PRINTI "."
	EQUAL? HERE,ON-PLATFORM,UNDER-PLAT \?L15
	CALL2 PRINT-ID,STR?208
	CALL1 JIGS-UP
	RTRUE
?L15:	PRINTI " Then "
	CALL1 HURRICANE
	PRINTI "into oblivion."
	CALL2 PRINT-ID,STR?209
	CALL1 JIGS-UP
	RTRUE
?L1:	EQUAL? HERE,ON-PLATFORM,UNDER-PLAT \FALSE
	EQUAL? MINUTES,59 \?L20
	ZERO? CR /?L22
	CRLF
?L22:	RANDOM 100 >STACK
	LESS? 50,STACK /?L25
	SET 'X,1
	CALL1 RSPEAKER-BARKS
?L25:	ZERO? SECONDS \?L28
	SET 'STR,STR?210
	JUMP ?L32
?L28:	EQUAL? SECONDS,15 \?L30
	SET 'STR,STR?211
	JUMP ?L32
?L30:	EQUAL? SECONDS,30 \?L31
	SET 'STR,STR?212
	JUMP ?L32
?L31:	SET 'STR,STR?213
?L32:	PRINTI """"
	PRINT STR
	PRINTI " sekund"
	ZERO? X \?L35
	RANDOM 100 >STACK
	LESS? 50,STACK /?L33
?L35:	PRINTI "."""
	CRLF
	JUMP ?L36
?L33:	CALL1 BARKS-RSPEAKER
?L36:	CALL2 VISIBLE?,MAGPIE >STACK
	ZERO? STACK /TRUE
	CRLF
	PRINTI """"
	PRINT STR
	PRINTI " sekund,"""
	GET PIE-TABLE,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTI "s the "
	PRINTD MAGPIE
	PRINT PERIOD
	RTRUE
?L20:	EQUAL? MINUTES,58 \?L40
	ZERO? SECONDS \?L41
	ZERO? CR /?L43
	CRLF
?L43:	CALL1 RSPEAKER-BARKS
	PRINTR """Dva minut."""
?L41:	EQUAL? SECONDS,30 \FALSE
	ZERO? CR /?L47
	CRLF
?L47:	PRINTI """Dyevianosta sekund"
	CALL1 BARKS-RSPEAKER
	RTRUE
?L40:	ZERO? SECONDS \FALSE
	ZERO? CR /?L52
	CRLF
?L52:	EQUAL? MINUTES,40 \?L55
	SET 'X,1
	PRINTI "A hidden "
	PRINTD RSPEAKER
	CALL1 SAY-BARKS
	PRINTI "[RIDX: 2010]"
	JUMP ?L57
?L55:	RANDOM 100 >STACK
	LESS? 50,STACK /?L57
	SET 'X,1
	CALL1 RSPEAKER-BARKS
?L57:	PRINTI """"
	SUB MINUTES,41 >STACK
	GET RMINUTES,STACK >STACK
	PRINT STACK
	PRINTI " minut"
	ZERO? X \?L59
	CALL1 BARKS-RSPEAKER
	RTRUE
?L59:	PRINTR "."""

	.FUNCT RSPEAKER-BARKS
	PRINTI "A "
	PRINTD RSPEAKER
	CALL1 SAY-BARKS
	PRINTI ", "
	RTRUE

	.FUNCT BARKS-RSPEAKER
	PRINTI ","""
	CALL1 SAY-BARKS
	PRINTI " a "
	PRINTD RSPEAKER
	PRINT PERIOD
	RTRUE

	.FUNCT SAY-BARKS
	RANDOM 100 >STACK
	LESS? 50,STACK /?L1
	PRINTI " barks"
	RTRUE
?L1:	PRINTI " intones"
	RTRUE

	.FUNCT HURRICANE
	PRINTI "[RIDX: 2038]"
	RTRUE

	.FUNCT I-OPPIE,CR=1
	DEC 'OSC
	GRTR? MINUTES,27 \?L5
	GRTR? OSC,8 \?L3
	CALL2 DEQUEUE,I-OPPIE
	RFALSE
?L3:	GRTR? OSC,4 \?L5
	SET 'OSC,4
?L5:	EQUAL? OSC,4 \?L8
	FCLEAR OPPIE,NODESC
	EQUAL? HERE,S100 \FALSE
	ZERO? CR /?L12
	CRLF
?L12:	SET 'P-HIM-OBJECT,OPPIE
	FSET? OPPIE,SEEN \?L14
	CALL2 CTHE-PRINT,OPPIE
	PRINTI " reappears"
	JUMP ?L16
?L14:	FSET OPPIE,SEEN
	PRINTI "A "
	PRINTD OPPIE
	PRINTI "[RIDX: 2042]"
?L16:	PRINTI " inside the "
	PRINTD SHELTER
	PRINTI "'s "
	PRINTD SBENTRY
	PRINT PERIOD
	RTRUE
?L8:	ZERO? OSC \?L17
	SET 'OSC,16
	FSET OPPIE,NODESC
	EQUAL? HERE,S100 \FALSE
	ZERO? CR /?L20
	CRLF
?L20:	SET 'P-HIM-OBJECT,NOT-HERE-OBJECT
	FSET OPPIE,SEEN
	PRINTI "[RIDX: 2045]"
	PRINTD OPPIE
	PRINTI "[RIDX: 2046]"
	PRINTD SHELTER
	PRINT PERIOD
	GRTR? MINUTES,27 \TRUE
	CALL2 DEQUEUE,I-OPPIE
	RTRUE
?L17:	LESS? OSC,4 \FALSE
	EQUAL? HERE,S100 \FALSE
	FSET OPPIE,SEEN
	SET 'P-HIM-OBJECT,OPPIE
	ZERO? CR /?L26
	CRLF
?L26:	EQUAL? OSC,3 \?L29
	PRINTI "[RIDX: 2047]"
	PRINTD OPPIE
	PRINTR "[RIDX: 2048]"
?L29:	EQUAL? OSC,2 \?L31
	PRINTI "You notice the "
	PRINTD OPPIE
	PRINTR "[RIDX: 2050]"
?L31:	CALL2 CTHE-PRINT,OPPIE
	PRINTR "[RIDX: 2051]"

	.FUNCT I-LUMP,V=0,OBJ=0,X,Y
	ZERO? V \?L3
	CALL2 VISIBLE?,LUMP >STACK
	ZERO? STACK \?L3
	FCLEAR LUMP,SEEN
	RFALSE
?L3:	FIRST? PLAYER >X \?L7
?L37:	ZERO? OBJ \?L25
	EQUAL? X,LUMP /?L16
	FSET? X,FERRIC \?L12
	SET 'OBJ,X
	JUMP ?L7
?L12:	CALL2 SEE-ANYTHING-IN?,X >STACK
	ZERO? STACK /?L16
	FIRST? X >Y \?L16
?L17:	EQUAL? Y,LUMP /?L20
	FSET? Y,FERRIC \?L20
	SET 'OBJ,Y
	JUMP ?L16
?L20:	NEXT? Y >Y /?L17
?L16:	NEXT? X >X /?L37
?L7:	ZERO? OBJ /FALSE
?L25:	ZERO? V \?L29
	FSET? LUMP,SEEN \?L28
	FCLEAR LUMP,SEEN
	RFALSE
?L28:	RANDOM 100 >STACK
	LESS? 25,STACK \FALSE
?L29:	LOC OBJ >X
	FSET LUMP,SEEN
	CRLF
	PRINTI "You can feel "
	EQUAL? X,PLAYER \?L31
	CALL2 THE-PRINT,OBJ
	JUMP ?L33
?L31:	PRINTI "something "
	FSET? X,SURFACE \?L34
	PRINTI " on "
	JUMP ?L36
?L34:	PRINTI " in "
?L36:	CALL2 THE-PRINT,X
?L33:	PRINTI "[RIDX: 2058]"
	PRINTD LUMP
	PRINT PERIOD
	RTRUE

	.FUNCT JWOMAN-F,CONTEXT=0
	FSET? JWOMAN,CHILLY \?L1
	SET 'P-HER-OBJECT,NOT-HERE-OBJECT
	EQUAL? PRSA,V?FOLLOW,V?FIND,V?WHERE \?L3
	PRINTI "[RIDX: 2065]"
	CRLF
	RETURN 2
?L3:	CALL2 GONE-NOW,JWOMAN
	RETURN 2
?L1:	FSET JWOMAN,TOUCHED
	EQUAL? PRSA,V?EXAMINE,V?SEARCH /?L9
	PRINTI "You begin to "
	ZERO? NOW-PRSI? \?L11
	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L11
	PRINTI "address the "
	PRINTD JWOMAN
	PRINTI "[RIDX: 2068]"
	JUMP ?L13
?L11:	PRINTI "approach the "
	PRINTD JWOMAN
	PRINTI "[RIDX: 2070]"
?L13:	PRINT PCR
?L9:	PRINTI "[RIDX: 2071]"
	PRINTD ME
	PRINT PTHE
	PRINTI "[RIDX: 2072]"
	CRLF
	CALL2 DEQUEUE,I-BLOW
	CALL1 I-BLOW
	RETURN 2

	.FUNCT DIN-DROWNS
	PRINTI "The din of "
	ZERO? RAID? \?L1
	PRINTI "cooing "
	PRINTD PIGEONS
	JUMP ?L3
?L1:	PRINTD SIRENS
?L3:	PRINTR "[RIDX: 2079]"

	.FUNCT BWOMAN-F,CONTEXT=0,Y=0,CNT,TBL,X
	EQUAL? CONTEXT,M-WINNER \?L1
	ZERO? RAID? /?L3
	CALL1 DIN-DROWNS
	RTRUE
?L3:	EQUAL? PRSA,V?TELL-ABOUT \?L5
	EQUAL? PRSO,ME \?L6
	CALL2 ASK-BWOMAN-ABOUT,PRSI
	RTRUE
?L6:	CALL1 BWOMAN-SNORTS
	RTRUE
?L5:	EQUAL? PRSA,V?ASK-ABOUT \?L9
	EQUAL? PRSO,ME \?L10
	PRINTI "[RIDX: 2082]"
	CALL1 THEI-PRINT
	PRINTI " "
	PRINTD ME
	PRINTI "?"" scoffs the "
	PRINTD BWOMAN
	PRINT PERIOD
	RTRUE
?L10:	CALL1 BWOMAN-SNORTS
	RTRUE
?L9:	EQUAL? PRSA,V?ASK-FOR \?L13
	EQUAL? PRSO,ME \?L14
	PRINTI "[RIDX: 2085]"
	PRINTD BWOMAN
	PRINT PERIOD
	RTRUE
?L14:	CALL1 BWOMAN-SNORTS
	RTRUE
?L13:	EQUAL? PRSA,V?WHAT,V?WHO,V?WHERE \?L17
	CALL2 ASK-BWOMAN-ABOUT,PRSO
	RTRUE
?L17:	EQUAL? PRSA,V?SGIVE,V?SSELL,V?SSHOW \?L18
	EQUAL? PRSI,GBAG \?L18
	EQUAL? PRSO,ME \?L19
	CALL1 NOT-A-FARTHING
	RTRUE
?L19:	CALL1 BWOMAN-SNORTS
	RTRUE
?L18:	EQUAL? PRSA,V?GIVE,V?SELL,V?SHOW \?L22
	EQUAL? PRSO,GBAG \?L22
	EQUAL? PRSI,ME \?L23
	CALL1 NOT-A-FARTHING
	RTRUE
?L23:	CALL1 BWOMAN-SNORTS
	RTRUE
?L22:	CALL1 DIN-DROWNS
	RTRUE
?L1:	ZERO? NOW-PRSI? /?L27
	EQUAL? PRSA,V?THROW,V?THROW-OVER \?L28
	CALL1 BAD-COO
	RTRUE
?L28:	EQUAL? PRSA,V?GIVE,V?SHOW \FALSE
	FSET BWOMAN,SEEN
	ZERO? RAID? /?L31
	PRINTR "[RIDX: 2086]"
?L31:	EQUAL? PRSO,COIN \?L33
	CALL2 PRINT-ID,STR?214
	REMOVE COIN
	MOVE GBAG,LOCAL-GLOBALS
	FCLEAR COIN,TAKEABLE
	MOVE SCOIN,BWOMAN
	SET 'P-IT-OBJECT,SCOIN
	MOVE BAG,BWOMAN
	PRINTI "[RIDX: 2088]"
	PRINTD BWOMAN
	PRINTI "[RIDX: 2089]"
	PRINTD BAG
	PRINTI " and a "
	PRINTD SCOIN
	PRINTI " for you."
	CRLF
	ZERO? TR? \TRUE
	CALL1 UPDATE-SCORE
	RTRUE
?L33:	EQUAL? PRSO,SCOIN \?L37
	CALL1 NOT-A-FARTHING
	RTRUE
?L37:	EQUAL? PRSO,CREDIT-CARD \?L38
	PRINTR "[RIDX: 2092]"
?L38:	EQUAL? PRSA,V?SHOW /FALSE
	CALL1 CTHEI-PRINT
	PRINTR "[RIDX: 2093]"
?L27:	EQUAL? PRSA,V?ASK-ABOUT \?L42
	ZERO? RAID? /?L43
	CALL1 DIN-DROWNS
	RTRUE
?L43:	CALL2 ASK-BWOMAN-ABOUT,PRSI
	RTRUE
?L42:	EQUAL? PRSA,V?EXAMINE \?L46
	ZERO? RAID? \?L47
	PRINTR "[RIDX: 2094]"
?L47:	PRINTR "[RIDX: 2095]"
?L46:	EQUAL? PRSA,V?ASK-FOR \?L50
	ZERO? RAID? /?L51
	CALL1 DIN-DROWNS
	RTRUE
?L51:	FSET BWOMAN,SEEN
	EQUAL? PRSI,GBAG,BAG,EBAG \?L54
	PRINTR "[RIDX: 2096]"
?L54:	FSET? PRSI,TAKEABLE \?L56
	PRINTI """I ain't got no "
	PRINTD PRSI
	PRINTR ", ducky."""
?L56:	PRINTI "[RIDX: 2099]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L50:	INTBL? PRSA,HURTVERBS,NHVERBS >STACK \FALSE
	CALL1 BAD-COO
	RTRUE

	.FUNCT BAD-COO
	PRINTI "[RIDX: 2100]"
	PRINTD PIGEONS
	PRINT CHANGES
	RTRUE

	.FUNCT NOT-A-FARTHING
	PRINTR "[RIDX: 2101]"

	.FUNCT BWOMAN-SNORTS,Q=0
	FSET BWOMAN,SEEN
	RANDOM 100 >STACK
	LESS? 50,STACK /?L1
	SET 'Q,1
	CALL2 CTHE-PRINT,BWOMAN
	PRINTI " snorts ruefully. "
?L1:	PRINTI """You're daft!"""
	CALL2 PRINT-ID,STR?215
	ZERO? Q \?L6
	RANDOM 100 >STACK
	LESS? 50,STACK /?L4
?L6:	CRLF
	RTRUE
?L4:	PRINTI " snorts the "
	PRINTD BWOMAN
	PRINT PERIOD
	RTRUE

	.FUNCT ASK-BWOMAN-ABOUT,OBJ,Q=0,CNT,TBL,X,V
	FSET BWOMAN,SEEN
	EQUAL? OBJ,GTRINITY,PLUTONIUM \?L1
	GETB 0,33 >STACK
	LESS? STACK,79 \?L3
	CALL2 CTHE-PRINT,BWOMAN
	PRINTR " just smiles."
?L3:	CALL1 V-$0024CREDITS
	RTRUE
?L1:	FSET? OBJ,TOLD \?L6
	CALL2 CTHE-PRINT,BWOMAN
	PRINTR "[RIDX: 2109]"
?L6:	CALL2 VISIBLE?,OBJ >V
	GET BWOMAN-SUBJECTS,0 >CNT
?L8:	GET BWOMAN-SUBJECTS,CNT >TBL
	GET TBL,0 >X
	EQUAL? X,OBJ \?L14
	ZERO? V \?L12
	FSET? OBJ,TAKEABLE /?L14
?L12:	FSET OBJ,TOLD
	PRINTI """"
	GET TBL,1 >STACK
	PRINT STACK
	RANDOM 100 >STACK
	LESS? 50,STACK /?L15
	PRINTR "."""
?L15:	PRINTI ","" replies the "
	PRINTD BWOMAN
	PRINT PERIOD
	RTRUE
?L14:	DLESS? 'CNT,1 \?L8
	EQUAL? OBJ,WRISTWATCH \?L22
	CALL2 CTHE-PRINT,BWOMAN
	GET P-OFW,1 >STACK
	GET P-NAMW,1 >STACK
	EQUAL? W?TIME,STACK,STACK \?L24
	PRINTR " sighs. ""Time."""
?L24:	PRINTR "[RIDX: 2116]"
?L22:	EQUAL? OBJ,RUBY \?L27
	FSET OBJ,TOLD
	CALL2 CTHE-PRINT,BWOMAN
	EQUAL? RUBYROOM,BROAD-WALK \?L28
	PRINTR "[RIDX: 2117]"
?L28:	PRINTR "[RIDX: 2118]"
?L27:	EQUAL? OBJ,MEEP \?L31
	FSET OBJ,TOLD
	CALL2 CTHE-PRINT,BWOMAN
	EQUAL? RUBYROOM,BROAD-WALK \?L32
	PRINTR "[RIDX: 2119]"
?L32:	PRINTR "[RIDX: 2120]"
?L31:	ZERO? V \?L36
	IN? OBJ,GLOBAL-OBJECTS /?L36
	CALL GLOBAL-IN?,OBJ,BROAD-WALK >STACK
	ZERO? STACK /?L35
?L36:	FSET OBJ,TOLD
	RANDOM 100 >STACK
	LESS? 50,STACK /?L37
	SET 'Q,1
	CALL2 CTHE-PRINT,BWOMAN
	PRINTI " shrugs. "
?L37:	PRINTI """"
	RANDOM 100 >STACK
	LESS? 50,STACK /?L40
	PRINTI "[RIDX: 2123]"
	JUMP ?L42
?L40:	PRINTI "[RIDX: 2124]"
?L42:	RANDOM 100 >STACK
	LESS? 50,STACK /?L43
	PRINTI ", hon"
?L43:	ZERO? Q \?L48
	RANDOM 100 >STACK
	LESS? 50,STACK /?L46
?L48:	PRINTR "."""
?L46:	PRINTI ","" shrugs the "
	PRINTD BWOMAN
	PRINT PERIOD
	RTRUE
?L35:	RANDOM 100 >STACK
	LESS? 50,STACK /?L51
	SET 'Q,1
	CALL2 CTHE-PRINT,BWOMAN
	PRINTI " scowls. "
?L51:	PRINTI "[RIDX: 2130]"
	ZERO? Q \?L56
	RANDOM 100 >STACK
	LESS? 50,STACK /?L54
?L56:	PRINTR "."""
?L54:	PRINTI ","" scowls the "
	PRINTD BWOMAN
	PRINT PERIOD
	RTRUE

	.FUNCT GOON-F,CONTEXT=0,R,G
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT-ON,V?PUT,V?WRAP-AROUND \FALSE
	EQUAL? PRSO,BANDAGE,SHROUD \?L5
	MOVE PRSO,PRSI
	FSET PRSO,NODESC
	PRINTI "[RIDX: 2159]"
	PRINTD PRSO
	PRINTI " around the "
	PRINTD PRSI
	EQUAL? PRSO,BANDAGE \?L7
	FCLEAR GOON-MOUTH,OPENED
	PRINTI "'s head and jaw"
?L7:	PRINTR ", as before."
?L5:	EQUAL? PRSA,V?WRAP-AROUND /FALSE
	EQUAL? PRSO,RBOOT,GBOOT \?L11
	MOVE PRSO,PRSI
	FSET PRSO,NODESC
	PRINTI "[RIDX: 2163]"
	PRINTD PRSO
	PRINTI " back onto the "
	PRINTD PRSI
	PRINTR "'s foot."
?L11:	CALL1 WASTE-OF-TIME
	RTRUE
?L1:	SET 'P-IT-OBJECT,GOON
	EQUAL? PRSA,V?EXAMINE,V?SEARCH \?L15
	PRINTI "[RIDX: 2166]"
	PRINTD CRYPT
	PRINTI "[RIDX: 2167]"
	FSET? SHROUD,NODESC \?L17
	PRINTI "[RIDX: 2168]"
	PRINTD SHROUD
	JUMP ?L19
?L17:	PRINTI "[RIDX: 2169]"
?L19:	PRINTI ", and its wrinkled "
	PRINTD GOON-MOUTH
	PRINTI " is "
	FSET? BANDAGE,NODESC \?L20
	PRINTI "held shut with a "
	PRINTD BANDAGE
	PRINTI "[RIDX: 2173]"
	JUMP ?L22
?L20:	PRINTI "hanging wide open"
?L22:	IN? RBOOT,PRSO /?L23
	SET 'R,0
	JUMP ?L24
?L23:	SET 'R,1
?L24:	IN? GBOOT,PRSO /?L25
	SET 'G,0
	JUMP ?L26
?L25:	SET 'G,1
?L26:	ZERO? R /?L29
	ZERO? G /?L27
	PRINT PA
	PRINTI "[RIDX: 2175]"
	JUMP ?L30
?L27:	ZERO? R /?L29
	CALL2 ONE-CLAD,RBOOT
	JUMP ?L30
?L29:	ZERO? G /?L30
	CALL2 ONE-CLAD,GBOOT
?L30:	PRINT PERIOD
	RTRUE
?L15:	EQUAL? PRSA,V?KILL,V?MUNG,V?KICK /?L33
	EQUAL? PRSA,V?BITE,V?CUT,V?RIP \?L32
?L33:	CALL2 PRINT-ID,STR?216
	CALL NOT-LIKELY,GOON,STR?217
	RTRUE
?L32:	CALL1 HANDLE-CORPSE? >STACK
	ZERO? STACK \TRUE
	EQUAL? PRSA,V?DRESS \?L35
	FSET? SHROUD,NODESC \?L36
	CALL2 ITS-ALREADY,STR?218
	RTRUE
?L36:	CALL2 GOT?,SHROUD >STACK
	ZERO? STACK /?L38
	CALL PERFORM,V?PUT-ON,SHROUD,PRSO
	RTRUE
?L38:	CALL1 HOW?
	RTRUE
?L35:	EQUAL? PRSA,V?UNDRESS \?L40
	FSET? SHROUD,NODESC \?L41
	CALL PERFORM,V?TAKE,SHROUD
	RTRUE
?L41:	PRINTR "[RIDX: 2179]"
?L40:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	PRINTI "[RIDX: 2180]"
	CALL1 THE-PRINT
	PRINTR "[RIDX: 2181]"

	.FUNCT ONE-CLAD,BOOT
	PRINTI "[RIDX: 2182]"
	PRINTD BOOT
	RTRUE

	.FUNCT GOON-MOUTH-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L3
	FSET BCOIN,NOALL
	PRINTI "The"
	CALL2 OPEN-CLOSED,PRSO
	PRINTI "[RIDX: 2185]"
	FSET? PRSO,OPENED \?L4
	CALL2 SEE-ANYTHING-IN?,PRSO >STACK
	ZERO? STACK /?L4
	PRINTI "[RIDX: 2186]"
	CALL2 PRINT-CONTENTS,PRSO
?L4:	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?CLOSE \?L7
	FSET? PRSO,OPENED \?L8
	PRINTR "[RIDX: 2187]"
?L8:	CALL2 ITS-ALREADY,STR?71
	RTRUE
?L7:	EQUAL? PRSA,V?OPEN \?L11
	FSET? PRSO,OPENED \?L12
	CALL2 ITS-ALREADY,STR?70
	RTRUE
?L12:	CALL1 BANDAGE-STOPS-YOU
	RTRUE
?L11:	EQUAL? PRSA,V?MOVE,V?PULL,V?PUSH /?L16
	EQUAL? PRSA,V?LOOSEN \?L15
?L16:	FSET? PRSO,OPENED \?L17
	PRINTR "It's quite loose."
?L17:	CALL1 BANDAGE-STOPS-YOU
	RTRUE
?L15:	CALL1 HANDLE-CORPSE? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT BANDAGE-STOPS-YOU
	SET 'P-IT-OBJECT,BANDAGE
	CALL2 CTHE-PRINT,P-IT-OBJECT
	PRINTR "[RIDX: 2191]"

	.FUNCT HANDLE-CORPSE?
	EQUAL? PRSA,V?SMELL \?L1
	CALL1 SMELLS-OF-DEATH
	RTRUE
?L1:	EQUAL? PRSA,V?TOUCH,V?SHAKE,V?SQUEEZE /?L4
	EQUAL? PRSA,V?KNOCK \?L3
?L4:	EQUAL? PRSI,0,HANDS \?L3
	CALL1 CTHE-PRINT
	PRINTR " feels cold and dry."
?L3:	EQUAL? PRSA,V?KISS,V?RAPE,V?BLOW-INTO \FALSE
	CALL VOICE-MUTTERS,STR?219,0
	CALL2 PRINT-ID,STR?220
	RTRUE

	.FUNCT CHARON-F,CONTEXT=0
	CALL NOUN-USED?,W?HAND,W?PALM >STACK
	ZERO? STACK /?L1
	CALL2 ADJ-USED?,W?HIS >STACK
	ZERO? STACK \?L1
	PRINTI "["
	PRINTD HANDS
	PRINT BRACKET
	ZERO? NOW-PRSI? \?L3
	CALL PERFORM,PRSA,HANDS,PRSI
	RTRUE
?L3:	CALL PERFORM,PRSA,PRSO,HANDS
	RTRUE
?L1:	FSET? CHARON,CHILLY /?L6
	CALL2 NOUN-USED?,W?CHARON >STACK
	ZERO? STACK /?L6
	FSET CHARON,CHILLY
	CALL2 VOICE-MUTTERS,STR?221
?L6:	ZERO? NOW-PRSI? /?L8
	EQUAL? PRSA,V?THROW,V?THROW-OVER \?L10
	CALL1 DEMEANOR
	RTRUE
?L10:	EQUAL? PRSA,V?GIVE,V?SHOW \?L12
	ZERO? IN-DORY? \?L13
	CALL YOUD-HAVE-TO,STR?222,DORY
	RTRUE
?L13:	CALL1 CTHEI-PRINT
	EQUAL? PRSA,V?SHOW \?L16
	FSET? PRSO,WORN \?L18
	PRINTI " glances at "
	CALL1 THE-PRINT
	PRINTR "[RIDX: 2203]"
?L18:	PRINTI " confiscates "
	JUMP ?L21
?L16:	PRINTI " accepts "
?L21:	CALL1 THE-PRINT
	EQUAL? PRSO,BCOIN \?L22
	CALL1 STYX-TRIP
	RTRUE
?L22:	EQUAL? PRSO,CREDIT-CARD \?L24
	CALL1 VANISH
	PRINTI "[RIDX: 2206]"
	CALL1 SOLEMNLY
	PRINTI "[RIDX: 2207]"
	CRLF
	CALL2 PRINT-ID,STR?223
	RTRUE
?L24:	EQUAL? PRSO,SCOIN \?L25
	CALL1 VANISH
	PRINTI "[RIDX: 2209]"
	PRINTD BCOIN
	PRINTI "[RIDX: 2210]"
	PRINTD SHADES
	PRINT PTHE
	PRINTI "[RIDX: 2211]"
	CALL1 SOLEMNLY
	PRINTR "[RIDX: 2212]"
?L25:	MOVE PRSO,HERE
	PRINTI "[RIDX: 2213]"
	PRINTD BEACH
	PRINT PERIOD
	RTRUE
?L12:	EQUAL? PRSA,V?PUT,V?PUT-ON,V?EMPTY-INTO \FALSE
	CALL NOUN-USED?,W?HAND,W?PALM >STACK
	ZERO? STACK /?L28
	CALL PERFORM,V?GIVE,PRSO,PRSI
	RTRUE
?L28:	CALL1 IMPOSSIBLE
	RTRUE
?L8:	EQUAL? PRSA,V?EXAMINE,V?SEARCH \?L32
	FSET PRSO,TOUCHED
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 2214]"
?L32:	EQUAL? PRSA,V?WATCH \?L33
	CALL2 I-STYX,0
	RTRUE
?L33:	EQUAL? PRSA,V?WAVE-AT \?L34
	CALL1 CTHEI-PRINT
	PRINTR "[RIDX: 2215]"
?L34:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L35
	CALL1 CTHE-PRINT
	ZERO? IN-DORY? \?L38
	EQUAL? HERE,DOCKSIDE \?L39
	EQUAL? STICKS,3,4,5 /?L38
?L39:	EQUAL? HERE,ON-BEACH \?L36
	EQUAL? STICKS,10 \?L36
?L38:	PRINTI " pretends not"
	JUMP ?L40
?L36:	PRINTI "[RIDX: 2217]"
?L40:	PRINTI " to hear you."
	CRLF
	RETURN 2
?L35:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L44
	INTBL? PRSA,HURTVERBS,NHVERBS >STACK \FALSE
?L44:	ZERO? IN-DORY? \?L45
	CALL1 CANT-FROM-HERE
	RTRUE
?L45:	CALL1 DEMEANOR
	RTRUE

	.FUNCT SOLEMNLY
	PRINTI "[RIDX: 2220]"
	RTRUE

	.FUNCT DEMEANOR
	PRINTI "Something about the "
	PRINTD CHARON
	PRINTI "'s demeanor"
	PRINT CHANGES
	RTRUE

	.FUNCT STYX-TRIP
	PRINTI "[RIDX: 2223]"
	CRLF
	CALL1 VANISH
	CALL1 EXIT-DORY
	EQUAL? STICKS,3,4 \?L1
	CALL1 I-STYX
?L1:	SET 'STICKS,10
	MOVE DORY,ON-BEACH
	FSET DORY,TOUCHED
	REMOVE SHADES
	CRLF
	CALL1 CTHEI-PRINT
	PRINTI "[RIDX: 2224]"
	CALL1 CARRIAGE-RETURNS
	PRINTI "[RIDX: 2225]"
	PRINT PCR
	CALL1 CTHEI-PRINT
	PRINTI "[RIDX: 2226]"
	CALL1 ONE-BY-ONE
	PRINTI ". Something in the "
	PRINTD PRSI
	PRINTI "[RIDX: 2228]"
	PRINT PCR
	CALL2 GOTO,ON-BEACH
	RTRUE

	.FUNCT IN-GIRL,CONTEXT=0
	EQUAL? CONTEXT,M-CONT \FALSE
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL2 CTHE-PRINT,GIRL
	EQUAL? MINUTES,0,1 \?L4
	PRINTI " urgently"
	JUMP ?L6
?L4:	RANDOM 100 >STACK
	LESS? 50,STACK /?L6
	PRINTI " playfully"
?L6:	RANDOM 100 >STACK
	LESS? 50,STACK /?L8
	PRINTI " snatches "
	JUMP ?L10
?L8:	PRINTI " pulls "
?L10:	ZERO? NOW-PRSI? /?L11
	PUSH PRSI
	JUMP ?L13
?L11:	PUSH PRSO
?L13:	CALL2 THE-PRINT,STACK
	PRINTR " out of your reach."

	.FUNCT DESCRIBE-GIRL,CONTEXT=0,X=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "The little girl is "
	EQUAL? HERE,PLAYGROUND \?L3
	PRINTI "standing nearby"
	JUMP ?L6
?L3:	FSET? GIRL,CHILLY \?L5
	PRINTI "in the "
	PRINTD CORNER
	JUMP ?L6
?L5:	PRINTI "standing in the exit"
?L6:	FIRST? GIRL >STACK \?L7
	PRINTI ", clutching "
	CALL2 PRINT-CONTENTS,GIRL
?L7:	PRINTI "."
	RTRUE

	.FUNCT GIRL-F,CONTEXT=0,X
	FCLEAR GIRL,SEEN
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?GIVE \?L3
	FIRST? PRSI >X /?L5
?L5:	CALL1 CTHEI-PRINT
	EQUAL? PRSO,PARASOL \?L6
	MOVE PRSO,PRSI
	FSET PRSI,CHILLY
	PRINTI "[RIDX: 2248]"
	ZERO? X /?L8
	MOVE X,PLAYER
	PRINTI "exchanges "
	CALL2 THE-PRINT,X
	PRINTI " for "
	JUMP ?L10
?L8:	PRINTI "accepts "
?L10:	CALL2 THE-PRINT,PRSO
	PRINTI ", smiles shyly and "
	MOVE PRSI,IN-SHELTER
	EQUAL? HERE,IN-SHELTER \?L11
	PRINTI "joins you in "
	JUMP ?L13
?L11:	PRINTI "descends into "
?L13:	CALL2 THE-PRINT,SHELTER
	PRINTI " with her prize."
	CRLF
	EQUAL? X,CRANE \TRUE
	CALL1 START-MCRANE
	RTRUE
?L6:	EQUAL? PRSO,BAD-CRANE,OCRANE \?L17
	REMOVE PRSO
	FCLEAR BAD-CRANE,CHILLY
	FCLEAR OCRANE,CHILLY
	FSET? PRSI,TOUCHED /?L18
	CALL1 EYES-BRIGHTEN
	PRINTI ", "
	EQUAL? X,0,PARASOL \?L20
	PRINTI "accepting "
	JUMP ?L24
?L20:	MOVE X,PLAYER
	PRINTI "exchanging "
	CALL2 THE-PRINT,X
	PRINTI " for "
	JUMP ?L24
?L18:	EQUAL? X,0,PARASOL \?L23
	PRINTI " accepts "
	JUMP ?L24
?L23:	MOVE X,PLAYER
	PRINTI " exchanges "
	CALL2 THE-PRINT,X
	PRINTI " for "
?L24:	CALL1 THE-PRINT
	PRINTI "[RIDX: 2263]"
	IN? PARASOL,PRSI \?L25
	MOVE CRANE,PLAYER
	PRINTI "[RIDX: 2264]"
	CRLF
	CALL1 START-MCRANE
	RTRUE
?L25:	MOVE CRANE,PRSI
	PRINTR "[RIDX: 2265]"
?L17:	IN? PARASOL,PRSI /?L28
	CALL2 VISIBLE?,PARASOL >STACK
	ZERO? STACK /?L29
	CALL1 BROLLY-INTEREST
	PRINTI ". Nevertheless, she"
?L29:	PRINTI " politely "
	EQUAL? X,CRANE \?L32
	PRINTI "accepts "
	CALL1 THE-PRINT
	PRINTI "[RIDX: 2269]"
	PRINTD X
	PRINTR " for herself."
?L32:	ZERO? X /?L34
	MOVE X,PLAYER
	PRINTI "exchanges "
	CALL2 THE-PRINT,X
	PRINTI " for "
	JUMP ?L35
?L34:	PRINTI "accepts "
?L35:	MOVE PRSO,PRSI
	CALL1 THE-PRINT
	PRINTR "[RIDX: 2274]"
?L28:	PRINTI " toys with "
	CALL1 THE-PRINT
	PRINTI "[RIDX: 2276]"
	FSET? PRSO,PLURAL \?L37
	PRINTI "them"
	JUMP ?L39
?L37:	PRINTI "it"
?L39:	PRINTI "[RIDX: 2279]"
	CALL1 SEE-TWINKLE?
	RTRUE
?L3:	EQUAL? PRSA,V?SHOW \?L40
	CALL1 CTHEI-PRINT
	EQUAL? PRSO,PARASOL \?L41
	PRINTI " stares at the "
	PRINTD PARASOL
	PRINTR "[RIDX: 2281]"
?L41:	EQUAL? PRSO,BAD-CRANE,OCRANE \?L43
	CALL1 EYES-BRIGHTEN
	PRINT PERIOD
	RTRUE
?L43:	IN? PARASOL,PRSI /?L44
	CALL1 BROLLY-BETTER
	RTRUE
?L44:	PRINTI " glances at "
	CALL1 THE-PRINT
	PRINTI "[RIDX: 2283]"
	CALL1 SEE-TWINKLE?
	RTRUE
?L40:	EQUAL? PRSA,V?FEED \?L46
	EQUAL? PRSO,BAG \?L46
	CALL1 CTHEI-PRINT
	PRINTR " makes a face."
?L46:	EQUAL? PRSA,V?THROW,V?THROW-OVER \FALSE
	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,3 \?L48
	MOVE PRSO,HERE
	CALL1 CTHEI-PRINT
	PRINTI " dodges the flying "
	PRINTD PRSO
	PRINTI "[RIDX: 2286]"
	PRINT PCR
	CALL1 CTHE-PRINT
	PRINTR " lands at her feet."
?L48:	PRINTI "She catches "
	FSET? PRSO,PLURAL \?L51
	PRINTI "them"
	JUMP ?L53
?L51:	PRINTI "it"
?L53:	PRINTI "[RIDX: 2291]"
	EQUAL? PRSO,PARASOL,OCRANE,BAD-CRANE /?L56
	IN? PARASOL,PRSI \?L54
?L56:	PRINT PCR
	CALL PERFORM,V?GIVE,PRSO,PRSI
	RTRUE
?L54:	PRINTI " and tosses it back"
	CALL2 VISIBLE?,PARASOL >STACK
	ZERO? STACK /?L58
	PRINTI "[RIDX: 2293]"
	PRINTD PARASOL
?L58:	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?SEARCH \?L62
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 2294]"
	CALL2 SEE-ANYTHING-IN?,PRSO >STACK
	ZERO? STACK /?L63
	PRINTI ". She's holding "
	CALL2 PRINT-CONTENTS,PRSO
?L63:	PRINT PERIOD
	RTRUE
?L62:	EQUAL? PRSA,V?FOLLOW,V?FIND,V?WALK-TO \?L66
	EQUAL? HERE,PLAYGROUND,IN-SHELTER \?L69
	FSET? PRSO,NODESC \?L67
?L69:	CALL1 REFERRING
	RETURN 2
?L67:	IN? PRSO,HERE \?L72
	PRINTR "She's right here."
?L72:	EQUAL? HERE,PLAYGROUND \?L73
	CALL2 DO-WALK,P?EAST
	RTRUE
?L73:	CALL2 DO-WALK,P?WEST
	RTRUE
?L66:	EQUAL? PRSA,V?WATCH \?L75
	CALL2 I-GIRL,0
	RTRUE
?L75:	FSET GIRL,SEEN
	EQUAL? PRSA,V?WAVE-AT,V?POINT-AT,V?BOW \?L77
	CALL1 CTHE-PRINT
	EQUAL? MINUTES,1 \?L79
	PRINTI " desperately "
	JUMP ?L82
?L79:	RANDOM 100 >STACK
	LESS? 50,STACK /?L81
	PRINTI " cheerfully "
	JUMP ?L82
?L81:	PRINTI "[RIDX: 2299]"
?L82:	PRINTR "mimics your action."
?L77:	EQUAL? PRSA,V?TAKE,V?TOUCH \?L83
	CALL1 GIRL-SHIES
	RTRUE
?L83:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L84
	CALL1 CTHE-PRINT
	CALL2 PICK-NEXT,GIRL-HUHS >STACK
	PRINT STACK
	PRINT PERIOD
	RETURN 2
?L84:	INTBL? PRSA,HURTVERBS,NHVERBS >STACK \FALSE
	PRINTI "[RIDX: 2301]"
	CRLF
	CALL2 PRINT-ID,STR?224
	RTRUE

	.FUNCT GIRL-SHIES
	CALL2 CTHE-PRINT,GIRL
	PRINTR " backs shyly away."

	.FUNCT START-MCRANE
	SET 'P-IT-OBJECT,CRANE
	FSET CRANE,LIGHTED
	FSET CRANE,SEEN
	CALL QUEUE,I-NEWCRANE,-1
	CALL2 UPDATE-SCORE,3
	CRLF
	PRINTI "The edges of the "
	PRINTD CRANE
	PRINTR "[RIDX: 2305]"

	.FUNCT EYES-BRIGHTEN
	FSET GIRL,TOUCHED
	PRINTI "[RIDX: 2306]"
	PRINTD PRSO
	PRINTI ". """
	HLIGHT H-ITALIC
	PRINTI "Origami"
	HLIGHT H-NORMAL
	PRINTI ","" she squeaks"
	RTRUE

	.FUNCT SEE-TWINKLE?
	EQUAL? PRSO,CRANE \?L1
	FSET? PRSO,LIGHTED \?L1
	PRINTI "[RIDX: 2310]"
?L1:	PRINT PERIOD
	RTRUE

	.FUNCT BROLLY-BETTER
	CALL2 VISIBLE?,PARASOL >STACK
	ZERO? STACK /?L1
	SET 'P-IT-OBJECT,PARASOL
	CALL1 BROLLY-INTEREST
	JUMP ?L4
?L1:	EQUAL? PRSA,V?GIVE \?L3
	PRINTI "[RIDX: 2311]"
	CALL1 THE-PRINT
	JUMP ?L4
?L3:	PRINTI " gives "
	CALL1 THE-PRINT
	PRINTI " a timid glance"
?L4:	PRINT PERIOD
	RTRUE

	.FUNCT BROLLY-INTEREST
	PRINTI "[RIDX: 2314]"
	CALL1 THE-PRINT
	PRINTI " as she is in that "
	PRINTD PARASOL
	RTRUE

	.FUNCT GENERIC-KID-F,TBL
	FSET? HERE,WINDY \?L1
	RETURN BOY
?L1:	EQUAL? W?BOY,P-NAM,P-XNAM \FALSE
	RETURN GIANT

	.FUNCT DESCRIBE-BOY,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "A "
	EQUAL? HERE,PROM \?L3
	PRINTI "rather large "
	JUMP ?L5
?L3:	PRINTI "young "
?L5:	PRINTI "[RIDX: 2327]"
	PRINTD PHONES
	PRINTI " and idly blowing "
	PRINTD SBUBBLE
	PRINTI "[RIDX: 2329]"
	PRINTD SOAPY-WATER
	PRINTI " by his side"
	ZERO? IN-DISH? /?L6
	PRINTI "[RIDX: 2331]"
?L6:	PRINTC 46
	RTRUE

	.FUNCT BOY-F,CONTEXT=0
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?GIVE,V?SHOW,V?FEED \FALSE
	PRINTR "[RIDX: 2333]"
?L1:	EQUAL? PRSA,V?FOLLOW,V?WHERE \?L6
	FSET? PRSO,CHILLY \?L6
	PRINTR "[RIDX: 2334]"
?L6:	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L7
	CALL2 I-BOY,0
	RTRUE
?L7:	CALL1 HANDLE-BOY? >STACK
	ZERO? STACK \TRUE
	EQUAL? PRSA,V?ALARM,V?TOUCH,V?KICK /?L10
	EQUAL? PRSA,V?KNOCK,V?KISS,V?SQUEEZE /?L10
	EQUAL? PRSA,V?HIT,V?TOUCH-TO,V?MOVE /?L10
	EQUAL? PRSA,V?PUSH,V?PULL,V?RAISE /?L10
	EQUAL? PRSA,V?TAKE,V?SHAKE \?L9
?L10:	CALL2 PRINT-ID,STR?225
	CALL1 ANNOY-BOY
	RTRUE
?L9:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \FALSE
	CALL2 CTHE-PRINT,BOY
	PRINTI " doesn't respond"
	PRINT AS-IF
	PRINTI "he can't hear you."
	CRLF
	RETURN 2

	.FUNCT HANDLE-BOY?
	EQUAL? PRSA,V?WAVE-AT,V?YELL \?L1
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 2338]"
?L1:	EQUAL? PRSA,V?LISTEN \?L3
	CALL1 HEAR-GIANT-MUSIC
	RTRUE
?L3:	EQUAL? PRSA,V?SMELL \?L4
	PRINTI "[RIDX: 2339]"
	CRLF
	CALL2 PRINT-ID,STR?226
	RTRUE
?L4:	EQUAL? PRSA,V?RAPE,V?UNDRESS \FALSE
	CALL1 RAPE-SCOUT
	RTRUE

	.FUNCT GIANT-F,CONTEXT=0
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?GIVE,V?SHOW,V?FEED \?L3
	CALL1 BOY-NO-HEED
	RTRUE
?L3:	EQUAL? PRSA,V?THROW,V?THROW-OVER \?L5
	REMOVE PRSO
	CALL1 CTHE-PRINT
	PRINTI " hits the "
	PRINTD PRSI
	PRINTI "[RIDX: 2344]"
	CRLF
	CRLF
	CALL1 HURT-GIANT
	RTRUE
?L5:	EQUAL? PRSA,V?PUT-ON \FALSE
	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE \?L8
	PRINTI "[RIDX: 2345]"
	PRINTD PHONES
	PRINT PERIOD
	RTRUE
?L8:	CALL1 HANDLE-BOY? >STACK
	ZERO? STACK \TRUE
	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L10
	CALL1 BOY-NO-HEED
	RETURN 2
?L10:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \?L13
	PRINTI "[RIDX: 2346]"
	CALL2 ITALICIZE,STR?227
	CRLF
	RTRUE
?L13:	EQUAL? PRSA,V?TOUCH,V?KICK,V?CUT /?L15
	EQUAL? PRSA,V?RIP,V?KILL,V?KNOCK /?L15
	EQUAL? PRSA,V?SHAKE,V?SQUEEZE,V?BITE \?L14
?L15:	EQUAL? PRSA,V?KILL /?L16
	PUSH 0
	JUMP ?L17
?L16:	PUSH 1
?L17:	CALL PRINT-ID,STR?228,STACK
	EQUAL? PRSA,V?KILL /?L18
	PUSH 1
	JUMP ?L19
?L18:	PUSH 0
?L19:	CALL PRINT-ID,STR?229,STACK
	CALL1 HURT-GIANT
	RETURN 2
?L14:	EQUAL? PRSA,V?WALK-TO,V?CLIMB-ON,V?STAND-ON /?L23
	EQUAL? PRSA,V?SIT,V?CLIMB-UP,V?CLIMB-OVER /?L23
	EQUAL? PRSA,V?RIDE \FALSE
?L23:	ZERO? IN-DISH? /?L24
	CALL1 EXIT-DISH-FIRST
	RTRUE
?L24:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 2350]"
	CALL1 THROW-TO-CHASM
	RETURN 2

	.FUNCT BOY-NO-HEED
	CALL1 SAY-BOY-BOPS
	PRINTR "[RIDX: 2351]"

	.FUNCT HURT-GIANT
	CALL2 CTHE-PRINT,GIANT
	PRINTI "[RIDX: 2352]"
	CALL1 THROW-TO-CHASM
	RTRUE

	.FUNCT EXIT-DISH-FIRST
	PRINTR "[RIDX: 2353]"

	.FUNCT THROW-TO-CHASM
	PRINT PCR
	SET 'IN-DISH?,0
	SET 'HERE,AT-CHASM
	MOVE PLAYER,HERE
	ZERO? SUITED? \?L1
	CALL1 DROP-ALL
?L1:	CALL1 V-LOOK
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	SET 'P-HIM-OBJECT,NOT-HERE-OBJECT
	CRLF
	PRINTI "[RIDX: 2354]"
	CRLF
	CALL2 PRINT-ID,STR?230
	RTRUE

	.FUNCT HEAR-GIANT-MUSIC
	PRINTI "[RIDX: 2356]"
	PRINTD PHONES
	PRINT PERIOD
	RTRUE

	.FUNCT RAPE-SCOUT
	PRINTI "[RIDX: 2357]"
	CRLF
	CALL2 PRINT-ID,STR?231
	RTRUE

	.FUNCT GENERIC-BIRD-F,TBL,PTR=6,OBJ
	EQUAL? W?ROADRUNNER,P-NAM,P-XNAM \?L1
	EQUAL? P-ADJ,W?DEAD,W?DROWNED /?L5
	EQUAL? P-XADJ,W?DEAD,W?DROWNED \?L3
?L5:	RETURN DMEEP
?L3:	RETURN MEEP
?L1:	GET ALLBIRDS,PTR >OBJ
	EQUAL? P-IT-OBJECT,OBJ /?L9
	CALL2 VISIBLE?,OBJ >STACK
	ZERO? STACK /?L10
	RETURN OBJ
?L10:	DLESS? 'PTR,0 \?L1
	RFALSE
?L9:	RETURN OBJ

	.FUNCT DESCRIBE-MEEP,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	FSET MEEP,SEEN
	PRINT CTHEMEEP
	ZERO? APPETITE /?L3
	CALL2 SAY-PECKS,0
	RTRUE
?L3:	GET MEEP-TABLE,3 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTC 46
	RTRUE

	.FUNCT OPEN-FOR-MEEP,X
	PRINTI "You'd have to open "
	CALL2 THE-PRINT,X
	PRINTI " for the "
	PRINTD MEEP
	PRINTR " first."

	.FUNCT AFTER-YOU
	PRINT CTHEMEEP
	PRINTR "[RIDX: 2367]"

	.FUNCT MEEP-F,CONTEXT=0,L,X
	FIRST? MEEP >X /?L1
?L1:	EQUAL? CONTEXT,M-WINNER \?L2
	EQUAL? PRSA,V?TAKE /?L6
	EQUAL? PRSA,V?GET-FOR \?L4
	EQUAL? PRSI,ME \?L4
?L6:	LOC PRSO >L
	ZERO? L \?L7
	CALL2 PERPLEXED,MEEP
	RETURN 2
?L7:	EQUAL? L,MEEP \?L11
	PRINT CTHEMEEP
	PRINTI "already has "
	CALL1 THE-PRINT
	PRINT PERIOD
	RETURN 2
?L11:	FSET? PRSO,TAKEABLE \?L15
	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,3 \?L14
?L15:	CALL1 SOUR-LOOK
	RETURN 2
?L14:	IN? MEEP,CAGE \?L18
	FSET? CAGE,OPENED /?L18
	CALL2 OPEN-FOR-MEEP,CAGE
	RETURN 2
?L18:	EQUAL? L,PLAYER \?L21
	PRINT CTHEMEEP
	PRINTI "couldn't reach "
	CALL1 THE-PRINT
	PRINTI "[RIDX: 2372]"
	CRLF
	RETURN 2
?L21:	FSET? L,CONTAINER \?L24
	FSET? L,OPENED /?L24
	CALL2 OPEN-FOR-MEEP,L
	RETURN 2
?L24:	IN? L,PLAYER \?L27
	PRINTI "[RIDX: 2373]"
	CALL1 THE-PRINT
	FSET? L,SURFACE \?L28
	PRINTI " off "
	JUMP ?L30
?L28:	PRINTI " out of "
?L30:	CALL2 THE-PRINT,L
	PRINTI " first."
	CRLF
	RETURN 2
?L27:	CALL2 MEEP-GETS-TKEY?,PRSO >STACK
	ZERO? STACK /?L33
	RETURN 2
?L33:	MOVE PRSO,HERE
	FCLEAR PRSO,NODESC
	PRINT CTHEMEEP
	PRINTI "nods brightly, "
	ZERO? X /?L37
	LOC MEEP >STACK
	MOVE X,STACK
	PRINTI "drops "
	CALL2 THE-PRINT,X
	PRINTI ", "
?L37:	PRINTI "picks up "
	CALL1 THE-PRINT
	PRINTI " and deposits "
	FSET? PRSO,PLURAL \?L40
	PRINTI "them "
	JUMP ?L42
?L40:	PRINTI "it "
?L42:	PRINTI "at your feet."
	CRLF
	RETURN 2
?L4:	EQUAL? PRSA,V?SGET-FOR \?L45
	EQUAL? PRSO,ME \?L45
	CALL PERFORM,V?TAKE,PRSI
	RETURN 2
?L45:	EQUAL? PRSA,V?DROP,V?THROW,V?THROW-OVER /?L49
	EQUAL? PRSA,V?PUT-UNDER,V?PUT-BEHIND,V?PUT-ON /?L49
	EQUAL? PRSA,V?POCKET /?L49
	EQUAL? PRSA,V?GIVE,V?FEED \?L48
	EQUAL? PRSI,ME \?L48
?L49:	LOC MEEP >STACK
	MOVE PRSO,STACK
	FCLEAR PRSO,NODESC
	PRINT CTHEMEEP
	PRINTI "drops "
	CALL1 THE-PRINT
	IN? MEEP,HERE \?L50
	PRINTI " at your feet"
?L50:	EQUAL? PRSA,V?DROP,V?GIVE,V?FEED /?L53
	PRINTI "[RIDX: 2387]"
?L53:	PRINT PERIOD
	RETURN 2
?L48:	EQUAL? PRSA,V?SGIVE,V?SFEED \?L58
	EQUAL? PRSO,ME \?L58
	CALL PERFORM,V?DROP,PRSI
	RETURN 2
?L58:	EQUAL? PRSA,V?EXAMINE,V?WATCH,V?LOOK-ON /?L62
	EQUAL? PRSA,V?LOOK-UNDER,V?LOOK-BEHIND,V?LOOK-DOWN /?L62
	EQUAL? PRSA,V?LOOK-UP,V?LOOK-OUTSIDE,V?LOOK /?L62
	EQUAL? PRSA,V?SEARCH,V?COUNT,V?READ \?L61
?L62:	EQUAL? PRSO,MEEP \?L63
	CALL2 PERPLEXED,PRSO
	RETURN 2
?L63:	PRINT CTHEMEEP
	EQUAL? PRSO,BAG \?L68
	PRINTI "[RIDX: 2388]"
	CRLF
	RETURN 2
?L68:	PRINTI "peers "
	EQUAL? PRSA,V?LOOK-UNDER \?L73
	PRINTI "under "
	JUMP ?L76
?L73:	EQUAL? PRSA,V?LOOK-BEHIND \?L75
	PRINTI "behind "
	JUMP ?L76
?L75:	PRINTI "at "
?L76:	CALL1 THE-PRINT
	PRINTI " as best it can."
	CRLF
	RETURN 2
?L61:	EQUAL? PRSA,V?WALK,V?WALK-TO \?L79
	EQUAL? PRSO,TKEY,BBOX,SBUNK \?L80
	CALL2 MEEP-GETS-TKEY?,TKEY >STACK
	ZERO? STACK /?L80
	RETURN 2
?L80:	CALL1 AFTER-YOU
	RETURN 2
?L79:	EQUAL? PRSA,V?ENTER,V?THROUGH,V?STAND-UNDER \?L87
	EQUAL? PRSO,SBUNK \?L88
	CALL2 MEEP-GETS-TKEY?,TKEY >STACK
	ZERO? STACK /?L88
	RETURN 2
?L88:	CALL1 AFTER-YOU
	RETURN 2
?L87:	EQUAL? PRSA,V?CROSS,V?CLIMB-OVER,V?CLIMB-DOWN /?L96
	EQUAL? PRSA,V?CLIMB-UP,V?CLIMB-ON,V?STAND-ON /?L96
	EQUAL? PRSA,V?FOLLOW,V?FLY,V?WALK-AROUND /?L96
	EQUAL? PRSA,V?EXIT,V?LEAVE,V?RIDE \?L95
?L96:	CALL1 AFTER-YOU
	RETURN 2
?L95:	EQUAL? PRSA,V?EAT,V?TASTE,V?DRINK /?L100
	EQUAL? PRSA,V?DRINK-FROM,V?SUCK,V?KISS /?L100
	EQUAL? PRSA,V?PISS,V?RAPE \?L99
?L100:	PRINT CTHEMEEP
	EQUAL? PRSA,V?EAT,V?TASTE \?L106
	ZERO? APPETITE /?L103
	PRINTI "is already eating."
	CRLF
	RETURN 2
?L103:	EQUAL? PRSO,BAG \?L106
	PRINTI "[RIDX: 2395]"
	CRLF
	RETURN 2
?L106:	PRINTI "[RIDX: 2396]"
	CRLF
	CALL2 PRINT-ID,STR?232
	RETURN 2
?L99:	EQUAL? PRSA,V?LISTEN,V?SMELL,V?INHALE \?L112
	PRINT CTHEMEEP
	EQUAL? PRSA,V?LISTEN \?L113
	PRINTI "listens "
	JUMP ?L115
?L113:	PRINTI "sniffs the air "
?L115:	PRINTI "[RIDX: 2400]"
	CRLF
	RETURN 2
?L112:	CALL1 ADDRESS-MEEP? >STACK
	ZERO? STACK /?L118
	RETURN 2
?L118:	CALL1 MEEP-COCKS
	RETURN 2
?L2:	ZERO? NOW-PRSI? /?L124
	EQUAL? PRSA,V?GIVE \?L125
	IN? PRSI,TS6 \?L127
	CALL1 CANT-FROM-HERE
	RTRUE
?L127:	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,3 \?L129
	CALL1 SOUR-LOOK
	RTRUE
?L129:	EQUAL? PRSO,BAG \?L130
	CALL1 GIVE-PRSO-TO-MEEP
	RTRUE
?L130:	PRINT CTHEMEEP
	ZERO? X /?L132
	LOC PRSI >STACK
	MOVE X,STACK
	PRINTI "drops "
	CALL2 THE-PRINT,X
	PRINTI " and "
?L132:	MOVE PRSO,PRSI
	PRINTI "snatches "
	CALL1 THE-PRINT
	PRINTR "[RIDX: 2404]"
?L125:	EQUAL? PRSA,V?FEED \?L135
	IN? PRSI,TS6 \?L136
	CALL1 CANT-FROM-HERE
	RTRUE
?L136:	EQUAL? PRSO,BAG /?L138
	CALL NOT-LIKELY,PRSI,STR?233
	RTRUE
?L138:	CALL1 GIVE-PRSO-TO-MEEP
	RTRUE
?L135:	EQUAL? PRSA,V?SHOW \?L140
	PRINT CTHEMEEP
	EQUAL? PRSO,BAG \?L141
	PRINTI "hops with excitement"
	JUMP ?L146
?L141:	EQUAL? PRSO,RUBY,EMERALD,MARKER /?L144
	EQUAL? PRSO,KNIFE,SDRIVER,SCOIN /?L144
	EQUAL? PRSO,WTK,WALLET,PHOTO \?L143
?L144:	PRINTI "nods slyly"
	JUMP ?L146
?L143:	RANDOM 100 >STACK
	LESS? 50,STACK /?L145
	PRINTI "glances at "
	CALL1 THE-PRINT
	PRINTR "[RIDX: 2409]"
?L145:	PRINTI "cocks its head"
?L146:	PRINTI " when you show it "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L140:	EQUAL? PRSA,V?THROW,V?THROW-OVER \FALSE
	MOVE PRSO,HERE
	PRINT CTHEMEEP
	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,3 \?L148
	PRINTI "dodges "
	CALL1 THE-PRINT
	PRINTR "[RIDX: 2413]"
?L148:	ZERO? X /?L150
	LOC PRSI >STACK
	MOVE X,STACK
	PRINTI "drops "
	CALL2 THE-PRINT,X
	PRINTI ", "
?L150:	PRINTI "retrieves "
	CALL1 THE-PRINT
	PRINTR "[RIDX: 2417]"
?L124:	EQUAL? PRSA,V?TELL \?L153
	ZERO? P-CONT /?L153
	IN? PRSO,TS6 \?L154
	CALL1 MEEP-COCKS
	RETURN 2
?L154:	ZERO? APPETITE /FALSE
	PRINT CTHEMEEP
	CALL1 BUSY-EATING
	RETURN 2
?L153:	EQUAL? PRSA,V?TELL-ABOUT,V?ASK-ABOUT,V?ASK-FOR \?L162
	EQUAL? PRSI,PRSO,ME \?L163
	CALL2 PERPLEXED,PRSO
	RTRUE
?L163:	CALL2 SHOW-TO-MEEP,PRSI
	RETURN 2
?L162:	CALL1 ADDRESS-MEEP? >STACK
	ZERO? STACK /?L168
	RETURN 2
?L168:	EQUAL? PRSA,V?WATCH \?L171
	FCLEAR PRSO,SEEN
	CALL2 I-TMEEP,0
	RTRUE
?L171:	EQUAL? PRSA,V?EXAMINE \?L172
	PRINT CTHEMEEP
	PRINTI "[RIDX: 2418]"
	ZERO? X /?L173
	PRINTI ". It's holding "
	CALL2 PRINTA,X
	PRINTI " in its beak"
	JUMP ?L175
?L173:	ZERO? APPETITE /?L175
	PRINTI "[RIDX: 2421]"
?L175:	PRINT PERIOD
	RTRUE
?L172:	EQUAL? PRSA,V?FOLLOW \?L177
	CALL2 VISIBLE?,PRSO >STACK
	ZERO? STACK \?L177
	CALL1 V-WALK-AROUND
	RTRUE
?L177:	EQUAL? PRSA,V?TOUCH,V?KISS \FALSE
	PRINT CTHEMEEP
	PRINTI "[RIDX: 2422]"
	CRLF
	CALL2 PRINT-ID,STR?234
	RTRUE

	.FUNCT ADDRESS-MEEP?
	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \FALSE
	PRINTI "The bird "
	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	PRINTI "chatter"
	JUMP ?L5
?L3:	PRINTI "cluck"
?L5:	PRINTR "[RIDX: 2427]"

	.FUNCT MEEP-COCKS
	CALL1 PCLEAR
	PRINT CTHEMEEP
	GET MEEP-TABLE,5 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTI ", but "
	GET MEEP-TABLE,6 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE

	.FUNCT GIVE-PRSO-TO-MEEP,L
	LOC PRSI >L
	MOVE PRSO,L
	PRINTI "You put the "
	PRINTD PRSO
	PRINTI " "
	EQUAL? L,HERE \?L1
	PRINTI "on the "
	FSET? HERE,INDOORS \?L3
	PRINTD FLOOR
	JUMP ?L6
?L3:	PRINTD GROUND
	JUMP ?L6
?L1:	FSET? L,SURFACE \?L7
	PRINTI "o"
	JUMP ?L9
?L7:	PRINTI "i"
?L9:	PRINTI "n "
	CALL2 THE-PRINT,L
?L6:	PRINTI " beside the "
	PRINTD PRSI
	PRINT PERIOD
	RTRUE

	.FUNCT SOUR-LOOK
	PRINT CTHEMEEP
	PRINTI "[RIDX: 2437]"
	FSET? PRSO,PLURAL \?L1
	PRINTI "all of "
?L1:	CALL1 THE-PRINT
	PRINTR " in its beak."

	.FUNCT MEEP-GETS-TKEY?,OBJ,X
	EQUAL? OBJ,TKEY \FALSE
	FSET? OBJ,SEEN \FALSE
	FSET? OBJ,TOUCHED /FALSE
	IN? MEEP,S100 \FALSE
	FSET OBJ,TOUCHED
	FCLEAR OBJ,NODESC
	MOVE OBJ,S100
	SET 'P-IT-OBJECT,OBJ
	FIRST? MEEP >X /?L3
?L3:	PRINT CTHEMEEP
	ZERO? X /?L4
	LOC MEEP >STACK
	MOVE X,STACK
	PRINTI "drops "
	CALL2 THE-PRINT,X
	PRINTI " and "
?L4:	PRINTI "[RIDX: 2443]"
	PRINTD BREATH
	PRINTI "[RIDX: 2444]"
	PRINTD SBUNK
	PRINT PTHE
	PRINTI "[RIDX: 2445]"
	PRINTD PADLOCK
	PRINT PCR
	PRINTI "Triumphantly, the "
	PRINTD MEEP
	PRINTI "[RIDX: 2447]"
	CRLF
	CALL2 UPDATE-SCORE,3
	RTRUE

	.FUNCT PERPLEXED,OBJ
	CALL2 CTHE-PRINT,OBJ
	PRINTR " looks perplexed."

	.FUNCT BUSY-EATING
	PRINTR "[RIDX: 2449]"

	.FUNCT SHOW-TO-MEEP,OBJ,X
	FSET MEEP,SEEN
	EQUAL? OBJ,INTDIR,RIGHT,LEFT \?L1
	EQUAL? P-DIRECTION,P?NE \?L3
	EQUAL? HERE,S100 \?L3
	FSET? TKEY,SEEN \?L3
	FSET? TKEY,TOUCHED /?L3
	SET 'OBJ,TKEY
	JUMP ?L6
?L3:	CALL2 LOOKS-INTDIR,MEEP
	RTRUE
?L1:	ZERO? OBJ /?L7
	CALL2 VISIBLE?,OBJ >STACK
	ZERO? STACK \?L6
?L7:	CALL2 PERPLEXED,MEEP
	RTRUE
?L6:	CALL2 MEEP-GETS-TKEY?,OBJ >STACK
	ZERO? STACK \TRUE
	PRINT CTHEMEEP
	IN? OBJ,MEEP \?L12
	LOC MEEP >STACK
	MOVE OBJ,STACK
	PRINTI "drops "
	CALL2 THE-PRINT,OBJ
	IN? MEEP,HERE \?L14
	PRINTI " at your feet"
?L14:	PRINT PERIOD
	RTRUE
?L12:	ZERO? APPETITE /?L17
	CALL1 BUSY-EATING
	RTRUE
?L17:	IN? MEEP,HERE \?L18
	IN? OBJ,HERE \?L18
	FSET? OBJ,TAKEABLE \?L18
	GETP OBJ,P?SIZE >STACK
	LESS? STACK,4 \?L18
	FIRST? MEEP >X \?L20
	MOVE X,HERE
	PRINTI "drops "
	CALL2 THE-PRINT,X
	PRINTI ", "
?L20:	PRINTI "picks up "
	CALL2 THE-PRINT,OBJ
	PRINTR "[RIDX: 2417]"
?L18:	PRINTI "glances at "
	CALL2 THE-PRINT,OBJ
	PRINTR "[RIDX: 2458]"

	.FUNCT DOG-F
	CALL NOUN-USED?,W?HELLHOUND,W?ALEXIS,W?WOLF >STACK
	ZERO? STACK \?L3
	CALL2 ADJ-USED?,W?HELL >STACK
	ZERO? STACK /?L1
?L3:	CALL1 V-WISH
	RETURN 2
?L1:	FSET DOG,SEEN
	ZERO? NOW-PRSI? /?L7
	EQUAL? PRSA,V?SHOW \?L9
	PRINTR "[RIDX: 2463]"
?L9:	EQUAL? PRSA,V?GIVE,V?FEED \?L11
	MOVE PRSO,W100
	FCLEAR PRSI,SEEN
	PRINTI "You deposit "
	CALL1 THE-PRINT
	PRINTR "[RIDX: 2465]"
?L11:	EQUAL? PRSA,V?THROW,V?THROW-OVER \FALSE
	MOVE PRSO,HERE
	PRINTI "You toss "
	CALL2 THE-PRINT,PRSO
	EQUAL? PRSA,V?THROW-OVER \?L13
	PRINTI " over "
	JUMP ?L15
?L13:	PRINTI " at "
?L15:	PRINTI "[RIDX: 2469]"
	CALL2 THE-PRINT,PRSO
	PRINTR "[RIDX: 2470]"
?L7:	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L17
	PRINTI "[RIDX: 2471]"
	PRINTD BHOUSE
	PRINTR "[RIDX: 2472]"
?L17:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L18
	FSET? PRSO,TOUCHED /?L19
	CALL1 ALMOST-WAKE-DOG
	RETURN 2
?L19:	CALL1 WAKE-DOG
	RETURN 2
?L18:	EQUAL? PRSA,V?TOUCH,V?SQUEEZE,V?SHAKE /?L27
	EQUAL? PRSA,V?KISS,V?ADJUST,V?RAISE /?L27
	EQUAL? PRSA,V?PUSH,V?PULL \?L26
?L27:	FSET? PRSO,TOUCHED /?L28
	CALL2 ALMOST-WAKE-DOG,1
	RTRUE
?L28:	CALL2 WAKE-DOG,1
	RTRUE
?L26:	EQUAL? PRSA,V?HIT,V?CUT,V?RIP /?L32
	EQUAL? PRSA,V?KILL,V?KICK \?L31
?L32:	PRINTI "[RIDX: 2473]"
	CALL2 PRINT-ID,STR?235
	EQUAL? PRSA,V?KICK \?L33
	PRINTD FEET
	JUMP ?L36
?L33:	ZERO? PRSI \?L35
	PRINTD HANDS
	JUMP ?L36
?L35:	CALL1 THEI-PRINT
?L36:	PRINTI "[RIDX: 2475]"
	EQUAL? PRSI,0,HANDS,FEET /?L37
	GETP PRSI,P?SIZE >STACK
	LESS? STACK,3 \?L37
	PRINTI "[RIDX: 2476]"
	CALL2 PRINTA,PRSI
	PRINTI ")"
?L37:	PRINTR "[RIDX: 2478]"
?L31:	EQUAL? PRSA,V?LISTEN \?L40
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 2479]"
?L40:	EQUAL? PRSA,V?SMELL \?L41
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 2480]"
?L41:	EQUAL? PRSA,V?RAPE \?L42
	CALL2 PRINT-ID,STR?236
	CALL2 VOICE-MUTTERS,STR?237
	CALL2 WAKE-DOG,1
	RTRUE
?L42:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	PRINTI "[RIDX: 2483]"
	PRINT CHANGES
	RTRUE

	.FUNCT ALMOST-WAKE-DOG,TOUCH=0
	FSET PRSO,TOUCHED
	CALL2 CTHE-PRINT,DOG
	PRINTI "[RIDX: 2485]"
	ZERO? TOUCH /?L1
	CALL1 AT-YOUR-TOUCH
	JUMP ?L3
?L1:	CALL1 AT-YOUR-VOICE
?L3:	PRINTR "[RIDX: 2486]"

	.FUNCT AT-YOUR-TOUCH
	PRINTI " at your touch. "
	RTRUE

	.FUNCT WAKE-DOG,TOUCH=0
	CALL2 CTHE-PRINT,DOG
	PRINTI "[RIDX: 2489]"
	ZERO? TOUCH /?L1
	CALL1 AT-YOUR-TOUCH
	JUMP ?L3
?L1:	CALL1 AT-YOUR-VOICE
?L3:	PRINTI "[RIDX: 2490]"
	PRINT PCR
	CALL2 ITALICIZE,STR?238
	PRINTI "[RIDX: 2492]"
	CRLF
	CALL1 DOG-ALERT
	RTRUE

	.FUNCT DOG-ALERT
	CRLF
	PRINTI "[RIDX: 2493]"
	CALL1 AKC
	CALL1 HEAR-BAKER? >STACK
	ZERO? STACK /?L1
	CALL1 HEAR-BARKING
?L1:	CRLF
	PRINTI "[RIDX: 2494]"
	PRINTD SLIGHT
	PRINTI "[RIDX: 2495]"
	CRLF
	CALL1 HOLD-IT
	CALL1 KINDA-SPY
	CALL1 SURROUNDED
	RTRUE

	.FUNCT IN-WIGHT,CONTEXT=0
	EQUAL? CONTEXT,M-CONT \FALSE
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 VERY-CLOSE
	RTRUE

	.FUNCT VERY-CLOSE
	PRINTI "[RIDX: 2500]"
	PRINTD WIGHT
	PRINTR " to do that."

	.FUNCT DESCRIBE-WIGHT,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "A "
	PRINTD WIGHT
	PRINTI " is "
	RANDOM 100 >STACK
	LESS? 50,STACK /?L4
	RANDOM 100 >STACK
	LESS? 50,STACK /?L6
	PRINTI "lurking in"
	JUMP ?L12
?L6:	PRINTI "skulking about in"
	JUMP ?L12
?L4:	RANDOM 100 >STACK
	LESS? 50,STACK /?L10
	PRINTI "eyeing you from"
	JUMP ?L12
?L10:	PRINTI "slavering noisily in"
?L12:	PRINTI "[RIDX: 2509]"
	CALL1 WIGHT-HAS
	PRINTC 46
	RTRUE

	.FUNCT WIGHT-HAS
	CALL2 SEE-ANYTHING-IN?,WIGHT >STACK
	ZERO? STACK /TRUE
	PRINTI ". It's clutching "
	CALL2 PRINT-CONTENTS,WIGHT
	PRINTI "[RIDX: 2511]"
	RTRUE

	.FUNCT WIGHT-F,CONTEXT=0
	FSET WIGHT,SEEN
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?SHOW,V?POINT-AT,V?SHINE-AT \?L3
	EQUAL? PRSA,V?SHINE-AT \?L5
	EQUAL? PRSO,SHARD,LAMP \FALSE
?L5:	CALL1 CTHEI-PRINT
	FSET? PRSO,LIGHTED \?L8
	PRINTI "[RIDX: 2513]"
	CRLF
	CALL2 PRINT-ID,STR?239
	RTRUE
?L8:	PRINTI " scowls at "
	CALL1 THE-PRINT
	PRINTR "[RIDX: 2516]"
?L3:	EQUAL? PRSA,V?GIVE,V?FEED \?L11
	CALL1 CTHEI-PRINT
	FSET? PRSO,LIGHTED \?L12
	PRINTI "[RIDX: 2517]"
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L12:	EQUAL? PRSO,GARLIC,ICE,SKINK \?L14
	CALL1 VANISH
	PRINTI " crams "
	CALL1 THE-PRINT
	PRINTR "[RIDX: 2519]"
?L14:	MOVE PRSO,OSSUARY
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	PRINTI " clutches "
	CALL1 THE-PRINT
	PRINTR "[RIDX: 2521]"
?L11:	EQUAL? PRSA,V?THROW,V?THROW-OVER,V?PUSH-TO \FALSE
	CALL2 DONT-HAVE?,PRSO >STACK
	ZERO? STACK /?L17
	CALL YOUD-HAVE-TO,STR?240,PRSO
	RTRUE
?L17:	CALL1 CTHEI-PRINT
	PRINTI " dodges "
	CALL1 THE-PRINT
	FSET? PRSO,LIGHTED \?L20
	MOVE PRSO,HERE
	PRINTI "[RIDX: 2524]"
	CRLF
	EQUAL? PRSO,LAMP \TRUE
	FSET PRSO,CHILLY
	FCLEAR PRSO,LIGHTED
	SET 'BEAM,0
	CALL2 DEQUEUE,I-HARDHAT
	CRLF
	PRINTI "You hear a faint "
	CALL2 ITALICIZE,STR?241
	PRINTI " as the "
	PRINTD PRSO
	PRINTI " strikes the ground."
	CRLF
	CALL1 SAY-IF-HERE-LIT
	RTRUE
?L20:	PRINTI ", snatches it up "
	CALL2 THROWS-BACK,PRSO
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?WATCH,V?SEARCH \?L27
	PRINTI "One of the "
	PRINTD PRSO
	PRINTI "[RIDX: 2531]"
	PRINTD TUNNEL
	CALL1 WIGHT-HAS
	PRINT PERIOD
	RTRUE
?L27:	EQUAL? PRSA,V?WAVE-AT,V?BOW \?L28
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 2532]"
?L28:	EQUAL? PRSA,V?TOUCH,V?KNOCK,V?KICK /?L30
	EQUAL? PRSA,V?SQUEEZE,V?MOVE,V?PUSH /?L30
	EQUAL? PRSA,V?SHAKE,V?ADJUST,V?SWING \?L29
?L30:	CALL1 VERY-CLOSE
	RTRUE
?L29:	EQUAL? PRSA,V?HIT,V?KILL \?L31
	EQUAL? PRSI,0,HANDS,FEET \?L32
	CALL1 VERY-CLOSE
	RTRUE
?L32:	FSET? PRSI,LIGHTED \?L34
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 2533]"
	CRLF
	CALL2 PRINT-ID,STR?242
	RTRUE
?L34:	CALL1 CTHE-PRINT
	PRINTI " grapples "
	CALL1 THEI-PRINT
	PRINTI " away from you "
	CALL2 THROWS-BACK,PRSI
	RTRUE
?L31:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L36
	CALL1 WIGHT-RESPONDS
	RETURN 2
?L36:	EQUAL? PRSA,V?KISS,V?RAPE \?L39
	PRINTI "[RIDX: 2537]"
	PRINTD PRSO
	PRINTI "[RIDX: 2538]"
	CALL2 PRINT-ID,STR?243
	CALL2 PRINT-ID,STR?244
	CALL1 JIGS-UP
	RETURN 2
?L39:	EQUAL? PRSA,V?SMELL \FALSE
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 2541]"
	CRLF
	CALL2 PRINT-ID,STR?245
	RTRUE

	.FUNCT WIGHT-RESPONDS
	CALL2 CTHE-PRINT,WIGHT
	PRINTR " snarls in reply."

	.FUNCT THROWS-BACK,OBJ
	MOVE OBJ,HERE
	PRINTI "[RIDX: 2544]"
	PRINT AGROUND
	PRINT PERIOD
	RTRUE

	.FUNCT GENERIC-GI-F,TBL
	FSET? OPPIE,NODESC \?L1
	RETURN GIS
?L1:	RETURN OPPIE

	.FUNCT GONE-NOW,OBJ
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	CALL2 CTHE-PRINT,OBJ
	PRINTR "[RIDX: 2550]"

	.FUNCT OPPIE-F,CONTEXT=0
	FSET? OPPIE,SEEN /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	FSET? OPPIE,NODESC \?L5
	SET 'P-HIM-OBJECT,NOT-HERE-OBJECT
	CALL2 GONE-NOW,OPPIE
	RETURN 2
?L5:	FSET? OPPIE,CHILLY /?L8
	CALL NOUN-USED?,W?OPPIE,W?OPPENHEIM >STACK
	ZERO? STACK \?L9
	CALL ADJ-USED?,W?J,W?ROBERT,W?DR >STACK
	ZERO? STACK \?L9
	CALL ADJ-USED?,W?DOCTOR,W?DOC,W?JULIUS >STACK
	ZERO? STACK /?L8
?L9:	FSET OPPIE,CHILLY
	CALL2 VOICE-MUTTERS,STR?246
?L8:	EQUAL? PRSA,V?WATCH \?L11
	CALL2 I-OPPIE,0
	RTRUE
?L11:	EQUAL? PRSA,V?EXAMINE \?L13
	CALL1 CTHE-PRINT
	PRINTI " near the "
	PRINTD SHELTER
	PRINTI "[RIDX: 2554]"
	CRLF
	FSET? OPPIE,BORING /TRUE
	FSET OPPIE,BORING
	GET QUOTES,WHITMAN >DO-WINDOW
	RETURN 2
?L13:	CALL1 HANDLE-GIS? >STACK
	RSTACK

	.FUNCT GIS-F,CONTEXT=0
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L1
	CALL1 CTHE-PRINT
	PRINTI " in the "
	LESS? MINUTES,28 \?L3
	PRINTD JEEPS
	JUMP ?L5
?L3:	PRINTD TRENCHES
?L5:	PRINTI "[RIDX: 2559]"
	LESS? MINUTES,28 \?L6
	PRINTI "[RIDX: 2560]"
?L6:	PRINTI "[RIDX: 2561]"
	PRINTD SBUNK
	PRINTI " and the "
	PRINTD HORIZON
	PRINTI "[RIDX: 2563]"
	PRINTD BINOS
	PRINTR "[RIDX: 2564]"
?L1:	CALL1 HANDLE-GIS? >STACK
	RSTACK

	.FUNCT HANDLE-GIS?
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?GIVE,V?SHOW,V?FEED \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE
?L1:	EQUAL? PRSA,V?SMELL,V?SEARCH,V?LOOK-BEHIND /?L7
	EQUAL? PRSA,V?LOOK-UNDER /?L7
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L6
?L7:	CALL1 CANT-FROM-HERE
	RTRUE
?L6:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L8
	CALL2 DO-WALK,P?NE
	RTRUE
?L8:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \FALSE
	EQUAL? PRSO,GIS \?L11
	PRINTI "One of the "
	PRINTD PRSO
	JUMP ?L13
?L11:	CALL1 CTHE-PRINT
?L13:	FSET? GIS,SEEN /?L14
	FSET GIS,SEEN
	PRINTI " starts"
	CALL1 AT-YOUR-VOICE
	PRINTI "[RIDX: 2567]"
	EQUAL? PRSO,GIS \?L16
	PRINTI "other "
	JUMP ?L18
?L16:	PRINTI "surrounding "
?L18:	PRINTD GIS
	PRINTI "[RIDX: 2570]"
	PRINTD INTDIR
	PRINTI "[RIDX: 2571]"
	CRLF
	RETURN 2
?L14:	PRINTI " points in your "
	PRINTD INTDIR
	CALL1 AT-YOUR-VOICE
	PRINTI "[RIDX: 2573]"
	CRLF
	CALL1 SURROUNDED
	RETURN 2

	.FUNCT AT-YOUR-VOICE
	PRINTI "[RIDX: 2574]"
	RTRUE

	.FUNCT PAL-GATE-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "A tide of "
	PRINTD GPRAM
	PRINTI " surges "
	ZERO? RAID? \?L3
	PRINTI "[RIDX: 2601]"
	PRINTD BROAD-WALK
	PRINTI ". Shad"
	JUMP ?L5
?L3:	PRINTI "[RIDX: 2603]"
	PRINTD D0
?L5:	PRINTI "[RIDX: 2604]"
	PRINT TON
	PRINTI "[RIDX: 2605]"
	PRINTD FLWALK
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? CONTEXT,M-EXIT \FALSE
	FSET? EWIND,TOUCHED /?L7
	FSET EWIND,TOUCHED
	CALL2 CTHE-PRINT,EWIND
	PRINTI "[RIDX: 2606]"
	PRINT PCR
?L7:	CALL1 MISSED-MEEP? >STACK
	ZERO? STACK /TRUE
	CRLF
	RTRUE

	.FUNCT EXIT-GARDEN
	ZERO? IN-PRAM? /?L1
	CALL PERFORM,V?EXIT,PRAM
	RFALSE
?L1:	PRINTI "A surge of "
	CALL1 SAY-TOURISTS
	CALL1 BLOCKS-YOUR-PATH
	RFALSE

	.FUNCT SAY-TOURISTS
	ZERO? RAID? /?L5
	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	PRINTI "frightened "
	JUMP ?L5
?L3:	PRINTI "panic-stricken "
?L5:	RANDOM 100 >STACK
	LESS? 50,STACK /?L7
	ZERO? RAID? \?L9
	GET P-TYPES,0 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
?L9:	PRINTD NANNIES
	RTRUE
?L7:	ZERO? RAID? \?L13
	GET P-TYPES,1 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
?L13:	PRINTD TOURISTS
	RTRUE

	.FUNCT FLOWER-WALK-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "Gaily colored "
	PRINTD BEDS
	PRINTI "[RIDX: 2623]"
	CRLF
	CALL2 SEE-ANYTHING-IN?,BEDS >STACK
	ZERO? STACK /?L3
	CRLF
	CALL1 LOOK-IN-BEDS
?L3:	CRLF
	PRINTI "The spires of the "
	PRINTD MEMORIAL
	PRINTI " are all too visible"
	PRINT TOS
	PRINTI ". "
	ZERO? RAID? \?L6
	PRINTI "Passing "
	PRINTD TOURISTS
	PRINTI "[RIDX: 2628]"
	PRINTD NANNIES
	PRINTR "[RIDX: 2629]"
?L6:	PRINTI "Frightened "
	PRINTD TOURISTS
	PRINTI "[RIDX: 2631]"
	PRINTD INTDIR
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? CONTEXT,M-EXIT \FALSE
	CALL1 MISSED-MEEP? >STACK
	ZERO? STACK /FALSE
	CRLF
	RTRUE

	.FUNCT GARDEN-OUT
	ZERO? IN-PRAM? /?L1
	CALL PERFORM,V?EXIT,PRAM
	RFALSE
?L1:	CALL1 WHICH-WAY-OUT
	RFALSE

	.FUNCT BROAD-WALK-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "A brooding "
	PRINTD VICTORIA
	PRINTI "[RIDX: 2635]"
	PRINTD RPOND
	PRINTI "[RIDX: 2636]"
	PRINTD BROAD-WALK
	PRINTI "[RIDX: 2637]"
	ZERO? RAID? /?L3
	PRINTI "fleeing "
	JUMP ?L5
?L3:	PRINTI "bustle of "
?L5:	PRINTD GPRAM
	PRINTI "[RIDX: 2640]"
	CALL1 TWEEN-TREES
	RTRUE
?L1:	EQUAL? CONTEXT,M-EXIT \?L6
	CALL1 MISSED-MEEP? >STACK
	ZERO? STACK /?L7
	CRLF
?L7:	IN? SCOIN,BWOMAN /?L12
	IN? BAG,BWOMAN \?L10
?L12:	SET 'LAYAWAY,1
?L10:	CALL1 BWOMAN-CRY
	CRLF
	RTRUE
?L6:	EQUAL? CONTEXT,M-ENTERED \FALSE
	SET 'P-HER-OBJECT,BWOMAN
	FSET BWOMAN,SEEN
	FSET? BWOMAN,NODESC \FALSE
	FCLEAR BWOMAN,NODESC
	CRLF
	PRINTI "A cloud of "
	PRINTD PIGEONS
	PRINTR "[RIDX: 2642]"

	.FUNCT ROUND-POND-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "[RIDX: 2646]"
	PRINTD CSURFACE
	PRINTI " of the "
	PRINTD RPOND
	PRINTI "[RIDX: 2648]"
	ZERO? RAID? /?L3
	PRINTI " deserted"
	JUMP ?L5
?L3:	PRINTI "n impressive"
?L5:	PRINTI " fleet of "
	PRINTD BOAT
	ZERO? RAID? \?L6
	PRINTI "[RIDX: 2652]"
	PRINTD CHILDREN
?L6:	FIRST? RPOND >STACK \?L9
	PRINTI ". You also see "
	CALL2 PRINT-CONTENTS,RPOND
	PRINTI "[RIDX: 2654]"
?L9:	PRINTI "[RIDX: 2655]"
	PRINTD INTDIR
	PRINTR "s."
?L1:	EQUAL? CONTEXT,M-EXIT \FALSE
	CALL1 MISSED-MEEP? >STACK
	ZERO? STACK /FALSE
	CRLF
	RTRUE

	.FUNCT WABE-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "This grassy "
	PRINTD CLEARING
	PRINTI "[RIDX: 2660]"
	PRINTD INTDIR
	PRINTI "[RIDX: 2661]"
	PRINTD THICKET
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? CONTEXT,M-EXIT \FALSE
	CALL1 MISSED-MEEP? >STACK
	ZERO? STACK /FALSE
	CRLF
	RTRUE

	.FUNCT WABE-OUT
	ZERO? IN-PRAM? /?L1
	CALL PERFORM,V?EXIT,PRAM
	RFALSE
?L1:	CALL1 WHICH-WAY-OUT
	RFALSE

	.FUNCT WABE-N
	FSET? GNOMON,BORING \?L1
	RETURN ROUND-POND
?L1:	CALL1 WOBBLE
	RFALSE

	.FUNCT WABE-NE
	FSET? GNOMON,BORING \?L1
	RETURN LAN-WALK
?L1:	CALL1 WOBBLE
	RFALSE

	.FUNCT WABE-SE
	FSET? GNOMON,BORING \?L1
	RETURN FLOWER-WALK
?L1:	CALL1 WOBBLE
	RFALSE

	.FUNCT WABE-SW
	FSET? GNOMON,BORING \?L1
	RETURN PAL-GATE
?L1:	CALL1 WOBBLE
	RFALSE

	.FUNCT WABE-NW
	FSET? GNOMON,BORING \?L1
	RETURN BROAD-WALK
?L1:	CALL1 WOBBLE
	RFALSE

	.FUNCT WOBBLE
	FSET GNOMON,BORING
	PRINTI "[RIDX: 2662]"
	CALL1 SAY-WIND
	PRINTI " puffs through the "
	PRINTD CLEARING
	PRINTI ", and the "
	PRINTD GNOMON
	PRINTI " on the "
	PRINTD DIAL
	PRINTR "[RIDX: 2666]"

	.FUNCT LION-GATE-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "Nannies and "
	PRINTD TOURISTS
	PRINTI " hurry through the "
	PRINTD LGATE
	ZERO? RAID? \?L3
	PRINTI " to join the "
	PRINTD GPRAM
	PRINTI "[RIDX: 2672]"
	PRINTD BWALK
?L3:	PRINTI "[RIDX: 2673]"
	PRINTD IFENCE
	PRINTI ", and southeast"
	CALL1 TWEEN-TREES
	RTRUE
?L1:	EQUAL? CONTEXT,M-EXIT \FALSE
	CALL1 MISSED-MEEP? >STACK
	ZERO? STACK /FALSE
	CRLF
	RTRUE

	.FUNCT NO-FOOTHOLDS
	PRINT CANT
	PRINTI "[RIDX: 2676]"
	CRLF
	RFALSE

	.FUNCT LAN-GATE-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "[RIDX: 2678]"
	PRINTD GPRAM
	PRINTI " as they "
	ZERO? RAID? \?L3
	PRINTI "roll south down the "
	PRINTD LNWALK
	JUMP ?L5
?L3:	PRINTI "flee"
?L5:	PRINTI "[RIDX: 2682]"
	PRINTD IFENCE
	PRINTI ", and southwest"
	CALL1 TWEEN-TREES
	RTRUE
?L1:	EQUAL? CONTEXT,M-ENTERED \?L6
	FSET? JWOMAN,SEEN /?L6
	FSET JWOMAN,SEEN
	FCLEAR JWOMAN,NODESC
	CALL QUEUE,I-BLOW,2
	SET 'P-HER-OBJECT,JWOMAN
	SET 'P-IT-OBJECT,PARASOL
	CRLF
	PRINTI "There's an "
	PRINTD JWOMAN
	PRINTI "[RIDX: 2685]"
	PRINTD PARASOL
	PRINT PTHE
	PRINTI "stiff "
	CALL1 SAY-WIND
	PRINTR "[RIDX: 2687]"
?L6:	EQUAL? CONTEXT,M-EXIT \FALSE
	CALL1 MISSED-MEEP? >STACK
	ZERO? STACK /FALSE
	CRLF
	RTRUE

	.FUNCT TWEEN-TREES,CR=1
	PRINTI " between the "
	PRINTD GTREES
	ZERO? CR /TRUE
	PRINT PERIOD
	RTRUE

	.FUNCT S-LAN-GATE
	CALL1 SEE-JWOMAN? >STACK
	ZERO? STACK \FALSE
	RETURN LAN-WALK

	.FUNCT W-LAN-GATE
	CALL1 SEE-JWOMAN? >STACK
	ZERO? STACK \FALSE
	RETURN AT-TERRACE

	.FUNCT SW-LAN-GATE
	CALL1 SEE-JWOMAN? >STACK
	ZERO? STACK \FALSE
	RETURN ROUND-POND

	.FUNCT SEE-JWOMAN?
	FSET? JWOMAN,CHILLY /FALSE
	PRINTI "[RIDX: 2690]"
	PRINTD JWOMAN
	PRINTI ", but "
	FSET? JWOMAN,TOUCHED /?L4
	PRINTI "stop in your tracks"
	PRINT PCR
	CALL PERFORM,V?EXAMINE,JWOMAN
	RTRUE
?L4:	PRINTR "pause for a moment."

	.FUNCT LAN-WALK-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "An impressive "
	PRINTD ENERGY
	PRINTI "[RIDX: 2697]"
	ZERO? RAID? \?L3
	PRINTI "bustling "
?L3:	PRINTI "[RIDX: 2699]"
	PRINTD INTDIR
	PRINTI "[RIDX: 2700]"
	PRINTD GRASS
	PRINTI "[RIDX: 2701]"
	PRINT TOE
	PRINTI "[RIDX: 2702]"
	PRINTD LWATER
	PRINTI " glittering"
	CALL1 TWEEN-TREES
	RTRUE
?L1:	EQUAL? CONTEXT,M-EXIT \FALSE
	CALL1 MISSED-MEEP? >STACK
	ZERO? STACK /FALSE
	CRLF
	RTRUE

	.FUNCT WALK-ON-GRASS
	FSET? NOTICE,TOUCHED \?L1
	CALL2 GRASS-STOPS-YOU,STR?247
	RFALSE
?L1:	CALL1 READ-NOTICE-FIRST
	RFALSE

	.FUNCT READ-NOTICE-FIRST
	FSET NOTICE,TOUCHED
	SET 'P-IT-OBJECT,NOTICE
	CALL2 TAKE-A-MOMENT-TO,NOTICE
	RTRUE

	.FUNCT AT-TERRACE-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "[RIDX: 2708]"
	PRINTD IFENCE
	PRINTR "[RIDX: 2709]"
?L1:	EQUAL? CONTEXT,M-EXIT \FALSE
	CALL1 MISSED-MEEP? >STACK
	ZERO? STACK /FALSE
	CRLF
	RTRUE

	.FUNCT LONG-WATER-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 2712]"
	PRINTD LWATER
	PRINTR "[RIDX: 2713]"

	.FUNCT SWIM-IN-LWATER
	PRINTI "You "
	EQUAL? P-PRSA-WORD,W?JUMP,W?LEAP,W?DIVE \?L1
	PRINTB P-PRSA-WORD
	JUMP ?L3
?L1:	PRINTI "wade"
?L3:	PRINTI "[RIDX: 2716]"
	PRINT PCR
	RETURN IN-WATER

	.FUNCT DONT-MISS-MISSILE
	LESS? HCNT,6 \?L1
	PRINTI "[RIDX: 2717]"
	PRINTD LWATER
	PRINTI " has you frozen "
	JUMP ?L3
?L1:	SET 'HCNT,6
	PRINTI "[RIDX: 2719]"
?L3:	PRINTI "in your tracks."
	CRLF
	CALL1 I-LONDON-HOLE
	RFALSE

	.FUNCT MISSED-MEEP?
	CALL2 VISIBLE?,RUBY >STACK
	ZERO? STACK /FALSE
	FSET? RUBY,TOUCHED /FALSE
	FCLEAR RUBY,CHILLY
	CALL2 I-RUBY,0
	RTRUE

	.FUNCT IN-WATER-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 2724]"
	PRINTD LWATER
	PRINTI "[RIDX: 2725]"
	FSET? LWDOOR,TOUCHED \?L3
	PRINTI "[RIDX: 2726]"
	PRINTD LWDOOR
	PRINTI "[RIDX: 2727]"
	PRINTD CSURFACE
?L3:	PRINT PERIOD
	RTRUE

	.FUNCT ENTER-HOLE
	FSET? LWDOOR,TOUCHED \?L1
	CALL1 GO-INTO-LWDOOR
	RFALSE
?L1:	CALL1 BEACH-TOO-FAR
	RFALSE

	.FUNCT BEACH-TOO-FAR
	CALL2 CTHE-PRINT,BEACH
	PRINTI "[RIDX: 2728]"
	PRINTD INTDIR
	PRINT PERIOD
	RFALSE

	.FUNCT EXIT-WATER
	PRINTI "[RIDX: 2729]"
	PRINTD BEACH
	PRINT PCR
	RETURN LONG-WATER

	.FUNCT OSSUARY-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 2733]"
	PRINTD HOLLOW
	PRINTI "[RIDX: 2734]"
	PRINTD BONES
	PRINT PTHE
	PRINTI "only exit is a dark "
	PRINTD HOPENING
	PRINT TOS
	PRINT PCR
	PRINTI "A giant "
	PRINTD TS2
	PRINTI "[RIDX: 2737]"
	CALL2 MENTION-DOOR,TS2-DOOR
	RTRUE

	.FUNCT MENTION-DOOR,X
	FSET? X,NOALL /?L5
	PRINT PTHE
	PRINTD X
	PRINTI " in its stem is "
	FSET? X,OPENED \?L3
	PRINTI "wide open"
	JUMP ?L5
?L3:	PRINTI "closed"
?L5:	PRINT PERIOD
	RTRUE

	.FUNCT OSSUARY-S
	SET 'WIGHTER,1
	RETURN IN-BARROW

	.FUNCT HOLLOW-TOO-STEEP
	PRINTI "[RIDX: 2742]"
	FSET? HOLLOW,TOUCHED /?L1
	FSET HOLLOW,TOUCHED
	PRINTI "; the "
	PRINTD BONES
	PRINTI "[RIDX: 2744]"
?L1:	PRINT PERIOD
	RFALSE

	.FUNCT OSSUARY-IN
	FSET? TS2-DOOR,NOALL \?L1
	CALL1 DOOR-NOT-HERE
	RFALSE
?L1:	FSET? TS2-DOOR,OPENED \?L3
	CALL1 BROLLY-OPEN? >STACK
	ZERO? STACK \FALSE
	PRINTI "[RIDX: 2745]"
	CALL1 CARRIAGE-RETURNS
	SET 'SECONDS,0
	SET 'MINUTES,50
	SET 'HOURS,17
	CALL QUEUE,I-TUNNEL,-1
	RETURN TUN1
?L3:	CALL2 ITS-CLOSED,TS2-DOOR
	RFALSE

	.FUNCT PROM-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 2748]"
	PRINTD CHASM
	PRINTI "[RIDX: 2749]"
	CALL1 SAY-EAST
	PRINT PERIOD
	RTRUE

	.FUNCT PROM-IN
	ZERO? IN-DISH? \?L1
	CALL1 ENTER-DISH
	RFALSE
?L1:	CALL2 ALREADY-IN,DISH
	RFALSE

	.FUNCT PROM-OUT
	ZERO? IN-DISH? /?L1
	CALL1 EXIT-DISH
	RFALSE
?L1:	CALL1 WHICH-WAY-OUT
	RFALSE

	.FUNCT ON-MESA-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL2 CTHE-PRINT,MESA
	PRINTI "'s summit is a flat "
	PRINTD PLATFORM
	PRINTI "[RIDX: 2753]"
	PRINTD CHASM
	PRINT PA
	PRINTI "[RIDX: 2754]"
	PRINT TOS
	PRINT PCR
	PRINTI "A giant "
	PRINTD TS3
	PRINTI "[RIDX: 2756]"
	CALL2 MENTION-DOOR,TS3-DOOR
	RTRUE

	.FUNCT CROSS-CHASM
	CALL1 OAK-STEP
	PRINT PCR
	RETURN AT-CHASM

	.FUNCT ON-MESA-IN
	FSET? TS3-DOOR,NOALL \?L1
	CALL1 DOOR-NOT-HERE
	RFALSE
?L1:	FSET? TS3-DOOR,OPENED \?L3
	CALL1 BROLLY-OPEN? >STACK
	ZERO? STACK \FALSE
	SET 'SECONDS,0
	SET 'HOURS,4
	SET 'MINUTES,52
	CALL QUEUE,I-FLIPPER,-1
	CALL QUEUE,I-TIDE,-1
	PRINTI "You "
	ZERO? SUITED? /?L7
	PRINTI "squeeze the "
	PRINTD FILM
	PRINTI " through "
	JUMP ?L9
?L7:	PRINTI "cross the brink of "
?L9:	CALL2 THE-PRINT,TS3-DOOR
	PRINTI "."
	CALL1 CARRIAGE-RETURNS
	RETURN ON-SCAFFOLD
?L3:	CALL2 ITS-CLOSED,TS3-DOOR
	RFALSE

	.FUNCT ON-BLUFF-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL1 LOOK-AT-VALLEY
	PRINTI "[RIDX: 2765]"
	CALL1 SAY-EAST
	PRINTI " stands a little "
	PRINTD COTTAGE
	PRINTI "[RIDX: 2767]"
	PRINTD COPSE
	PRINT PTHE
	PRINTD COTTAGE-DOOR
	PRINTI " is "
	FSET? COTTAGE-DOOR,OPENED \?L3
	PRINTR "open."
?L3:	PRINTR "closed."

	.FUNCT LOOK-AT-VALLEY
	PRINTI "[RIDX: 2771]"
	PRINTD STOOLS
	PRINTI "[RIDX: 2772]"
	PRINTD VALLEY
	PRINTI " below."
	RTRUE

	.FUNCT IN-COTTAGE-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "An iron "
	PRINTD CAULDRON
	FSET? EMERALD,NODESC \?L3
	PRINTI "[RIDX: 2777]"
	JUMP ?L5
?L3:	PRINTI "[RIDX: 2778]"
?L5:	PRINTI "[RIDX: 2779]"
	FSET? EMERALD,NODESC \?L6
	PRINTI "[RIDX: 2780]"
	JUMP ?L8
?L6:	PRINTI "The air is filled"
?L8:	PRINTI "[RIDX: 2782]"
	FSET? COTTAGE-DOOR,OPENED \?L9
	PRINTI "Luckily, the "
	FSET? GARDEN-DOOR,OPENED \?L11
	PRINTI "front and "
	PRINTD GARDEN-DOOR
	PRINTR "[RIDX: 2785]"
?L11:	CALL2 DOOR-LEADING,COTTAGE-DOOR
	RTRUE
?L9:	FSET? GARDEN-DOOR,OPENED \?L14
	PRINTI "Luckily, the "
	CALL2 DOOR-LEADING,GARDEN-DOOR
	RTRUE
?L14:	PRINTI "[RIDX: 2787]"
	PRINTD GARDEN-DOOR
	PRINTR "s are both closed."

	.FUNCT DOOR-LEADING,OBJ
	PRINTD OBJ
	PRINTI "[RIDX: 2789]"
	EQUAL? OBJ,COTTAGE-DOOR \?L1
	CALL1 SAY-EAST
	JUMP ?L3
?L1:	CALL1 SAY-WEST
?L3:	PRINTR " is closed."

	.FUNCT IN-GARDEN-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "A "
	PRINTD GFENCE
	PRINTI "[RIDX: 2794]"
	CALL2 OPEN-CLOSED,GARDEN-DOOR
	PRINTI " of the "
	PRINTD COTTAGE
	PRINTI "[RIDX: 2796]"
	PRINTD TS4
	PRINTI "[RIDX: 2797]"
	PRINTD PATCH
	CALL2 MENTION-DOOR,TS4-DOOR
	RTRUE

	.FUNCT IN-GARDEN-IN
	FSET? TS4-DOOR,NOALL \?L1
	FSET? GARDEN-DOOR,OPENED \?L3
	RETURN IN-COTTAGE
?L3:	CALL2 ITS-CLOSED,GARDEN-DOOR
	RFALSE
?L1:	FSET? TS4-DOOR,OPENED \?L6
	CALL1 BROLLY-OPEN? >STACK
	ZERO? STACK \FALSE
	CALL QUEUE,I-RODENTS,-1
	CALL QUEUE,I-RCOUNT,-1
	SET 'HOURS,14
	SET 'MINUTES,41
	SET 'SECONDS,0
	CALL2 CTHE-PRINT,TS4-DOOR
	PRINTI "[RIDX: 2798]"
	CALL1 CARRIAGE-RETURNS
	RETURN ON-PLATFORM
?L6:	CALL1 WHICH-WAY-IN
	RFALSE

	.FUNCT BONEYARD-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "Gloomy "
	PRINTD STATUES
	PRINTI "[RIDX: 2802]"
	PRINTD TOMBS
	PRINTI ", their "
	PRINTD LIMBS
	PRINTI "[RIDX: 2804]"
	PRINTD CRYPT
	PRINTI " lies"
	PRINT AGROUND
	PRINTI "[RIDX: 2806]"
	PRINTD BARROW
	FSET? BARROW-DOOR,OPENED \?L3
	PRINT PA
	PRINTI "black "
	PRINTD TUNNEL
	PRINTI "[RIDX: 2808]"
	PRINTD BARROW
	JUMP ?L5
?L3:	PRINTI "[RIDX: 2809]"
?L5:	PRINTI "[RIDX: 2810]"
	PRINTD SSTEPS
	PRINTR " descends the cliff."

	.FUNCT UP-SSTEPS
	CALL2 SCEND,STR?248
	RETURN BONEYARD

	.FUNCT DOWN-SSTEPS
	CALL2 SCEND,STR?249
	RETURN AT-FALLS

	.FUNCT SCEND,STR
	PRINTI "You carefully "
	PRINT STR
	PRINTI "scend the "
	PRINTD SSTEPS
	PRINT PCR
	RTRUE

	.FUNCT IN-BARROW-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "The "
	CALL2 VISIBLE?,LAMP >STACK
	ZERO? STACK /?L3
	FSET? LAMP,LIGHTED \?L3
	PRINTD LAMP
	PRINTI "'s faltering beam"
	JUMP ?L6
?L3:	CALL2 VISIBLE?,SHARD >STACK
	ZERO? STACK /?L5
	PRINTD SHARD
	PRINTI "'s ghostly flicker"
	JUMP ?L6
?L5:	PRINTI "[RIDX: 2821]"
?L6:	PRINTI "[RIDX: 2822]"
	PRINT TON
	PRINTI " and south"
	FSET? SLOPE,OPENED \?L7
	PRINTI "[RIDX: 2824]"
?L7:	PRINT PERIOD
	RTRUE
?L1:	EQUAL? CONTEXT,M-ENTERED \FALSE
	FSET? BARROW-DOOR,OPENED \?L11
	FCLEAR BARROW-DOOR,OPENED
	FCLEAR IN-BARROW,LIGHTED
	SET 'P-IT-OBJECT,BARROW-DOOR
	FCLEAR WIGHT,SEEN
	SET 'WIGHTER,4
	CALL QUEUE,I-WIGHT,-1
	CRLF
	PRINTI "[RIDX: 2825]"
	PRINTD BARROW-DOOR
	PRINTI "[RIDX: 2826]"
	CRLF
	CALL1 SAY-IF-HERE-LIT
?L11:	ZERO? LIT? /TRUE
	FSET? WIGHT,NODESC \TRUE
	FCLEAR WIGHT,NODESC
	CRLF
	PRINTI "[RIDX: 2827]"
	FSET? LAMP,LIGHTED \?L16
	CALL2 VISIBLE?,LAMP >STACK
	ZERO? STACK /?L16
	PRINTD LAMP
	JUMP ?L18
?L16:	PRINTD SHARD
?L18:	PRINTI "[RIDX: 2828]"
	PRINTD TUNNEL
	PRINTI " wall"
	CALL1 WIGHT-HAS
	PRINT PERIOD
	CALL1 WIGHT-ID
	RTRUE

	.FUNCT WIGHT-ID
	FSET? WIGHT,BORING /FALSE
	FSET WIGHT,BORING
	CRLF
	CALL2 VISIBLE?,MAGPIE >STACK
	ZERO? STACK /?L4
	PRINTR "[RIDX: 2830]"
?L4:	CALL VOICE-MUTTERS,STR?250,0
	RTRUE

	.FUNCT IN-BARROW-N
	IN? SHARD,PLAYER \?L1
	FCLEAR WIGHT,SEEN
	FSET? WIGHT,CHILLY \?L3
	CALL1 WIGHT-STUMBLES
	RETURN OSSUARY
?L3:	FSET WIGHT,CHILLY
	CALL1 WIGHT-COVERS
	PRINTI "[RIDX: 2832]"
	PRINT PCR
	RETURN OSSUARY
?L1:	IN? LAMP,PLAYER \?L6
	FSET? LAMP,LIGHTED \?L6
	FCLEAR WIGHT,SEEN
	CALL1 WIGHT-STUMBLES
	RETURN OSSUARY
?L6:	IN? LAMP,HERE \?L7
	FSET? LAMP,LIGHTED \?L7
	CALL2 WIGHT-BLOCKS-DESPITE,LAMP
	RFALSE
?L7:	IN? SHARD,HERE \?L8
	CALL2 WIGHT-BLOCKS-DESPITE,SHARD
	RFALSE
?L8:	PRINTI "[RIDX: 2833]"
	PRINTD TUNNEL
	PRINT PCR
	CALL1 WIGHT-KILLS-YOU
	RFALSE

	.FUNCT WIGHT-BLOCKS-DESPITE,OBJ
	FSET WIGHT,SEEN
	CALL2 CTHE-PRINT,WIGHT
	PRINTI "[RIDX: 2834]"
	PRINTD DSHADOW
	PRINTI " blocks the "
	PRINTD OBJ
	PRINTI "[RIDX: 2836]"
	PRINTD OBJ
	PRINTR "[RIDX: 2837]"

	.FUNCT WIGHT-COVERS
	CALL2 CTHE-PRINT,WIGHT
	PRINTI "[RIDX: 2838]"
	RTRUE

	.FUNCT WIGHT-STUMBLES
	CALL2 CTHE-PRINT,WIGHT
	RANDOM 100 >STACK
	LESS? 50,STACK /?L1
	PRINTI " stumble"
	JUMP ?L3
?L1:	PRINTI " slink"
?L3:	PRINTR "s out of your way."

	.FUNCT BARROW-EXIT
	ZERO? LIT? \?L1
	PRINTI "Something hard"
	CALL1 BLOCKS-YOUR-PATH
	RFALSE
?L1:	CALL2 BLOCKS-YOUR-PATH,BARROW-DOOR
	RFALSE

	.FUNCT DOWN-SLOPE
	FSET? SLOPE,OPENED \?L1
	FSET CAVE-HOLE,SEEN
	FCLEAR IN-BARROW,TOUCHED
	FSET BARROW-DOOR,OPENED
	FSET IN-BARROW,LIGHTED
	FCLEAR WIGHT,SEEN
	CALL QUEUE,I-SLOPE,1
	PRINTI "[RIDX: 2843]"
	RETURN ICE-CAVE
?L1:	PRINT DONT
	PRINTI "[RIDX: 2844]"
	CRLF
	RFALSE

	.FUNCT NBOG-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 2848]"
	CALL1 HEAR-DRIPPING
	CRLF
	PRINTI "[RIDX: 2849]"
	PRINTD INTDIR
	PRINTI "s. High "
	PRINTD RWALLS
	PRINTI " curve away"
	PRINT TON
	PRINTI " and south"
	CALL1 SAY-WEST
	PRINT PERIOD
	RTRUE

	.FUNCT AT-CHASM-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL2 CTHE-PRINT,CHASM
	PRINTI "[RIDX: 2856]"
	PRINTD MESA
	PRINTI "[RIDX: 2857]"
	PRINTD CHASM
	PRINTI "[RIDX: 2858]"
	CRLF
	FSET? OAK,NOALL \?L3
	CRLF
	PRINTR "[RIDX: 2859]"
?L3:	FSET? OAK,TOUCHED \TRUE
	CRLF
	PRINTI "[RIDX: 2860]"
	FSET? OAK,WINDY \?L6
	PRINTD CHASM
	JUMP ?L8
?L6:	PRINTD GROUND
?L8:	PRINT PERIOD
	RTRUE

	.FUNCT CROSS-TO-MESA
	FSET? OAK,WINDY \?L1
	CALL1 OAK-STEP
	PRINTI ", and leap onto the "
	PRINTD MESA
	PRINT PCR
	RETURN ON-MESA
?L1:	CALL1 CHASM-FALL
	RFALSE

	.FUNCT OAK-STEP
	PRINTI "[RIDX: 2862]"
	RTRUE

	.FUNCT CHASM-FALL,P=0,X
	EQUAL? HERE,ON-BLUFF \?L1
	SET 'X,VALLEY
	JUMP ?L3
?L1:	SET 'X,CHASM
?L3:	FSET? HERE,TRYTAKE \?L4
	IN? PARASOL,PLAYER \?L6
	FSET? PARASOL,OPENED \?L6
	SET 'P,1
?L6:	PRINTI "[RIDX: 2864]"
	PRINTD X
	PRINTI "'s brink"
	ZERO? SUITED? \?L11
	ZERO? P /?L9
?L11:	PRINTI "[RIDX: 2866]"
	ZERO? SUITED? \?L12
	PRINTI "open "
	PRINTD PARASOL
	PRINTI "[RIDX: 2868]"
	JUMP ?L14
?L12:	PRINTD FILM
	PRINTI ". But its flabby "
	PRINTD CSURFACE
	PRINTI " tears and pops"
?L14:	PRINTI " in the "
	PRINTD TREETOPS
	PRINTI " below"
	ZERO? P /?L15
	ZERO? SUITED? /?L15
	PRINTI "; the "
	PRINTD PARASOL
	PRINTI " tangles"
?L15:	PRINTI ", and you "
	JUMP ?L18
?L9:	PRINTI ", and "
?L18:	PRINTI "[RIDX: 2877]"
	CALL2 PRINT-ID,STR?251
	CALL1 JIGS-UP
	RFALSE
?L4:	FSET HERE,TRYTAKE
	CALL2 TAKE-A-MOMENT-TO,X
	RFALSE

	.FUNCT CLIMB-OAK
	FSET? OAK,NOALL \?L1
	CALL PERFORM,V?CLIMB-UP,OAK
	RFALSE
?L1:	CALL1 CANT-GO
	RFALSE

	.FUNCT UNDER-CLIFF-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 2882]"
	PRINTD INTDIR
	PRINTI "[RIDX: 2883]"
	PRINTD SCHOOL
	PRINTI "[RIDX: 2884]"
	CALL1 HEAR-HIVE
	RTRUE

	.FUNCT HEAR-HIVE
	PRINTI "The faint buzzing "
	PRINTD SOUND
	PRINTR "[RIDX: 2886]"

	.FUNCT AT-CRATER-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	SET 'P-IT-OBJECT,CRATER
	CALL2 CTHE-PRINT,FOREST
	PRINTI "[RIDX: 2892]"
	PRINTD RUBBLE
	PRINTI ".

The "
	CALL1 SAY-EAST
	PRINTI "[RIDX: 2894]"
	PRINTD CRATER
	PRINTR "[RIDX: 2895]"

	.FUNCT ENTER-CRATER
	PRINTI "[RIDX: 2896]"
	PRINTD CRATER
	PRINT PCR
	RETURN IN-CRATER

	.FUNCT IN-CRATER-UP
	PRINTI "[RIDX: 2898]"
	CALL1 SAY-WEST
	PRINT PERIOD
	RFALSE

	.FUNCT IN-CRATER-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "A dark cloud of "
	PRINTD SMOKE
	PRINTI "[RIDX: 2901]"
	PRINTD RUBBLE
	PRINTI "[RIDX: 2902]"
	PRINTD CRATER
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? CONTEXT,M-ENTERED \FALSE
	FSET? LUMP,TOUCHED /FALSE
	CALL2 I-LUMP,1
	RTRUE

	.FUNCT EXIT-CRATER
	PRINTI "[RIDX: 2903]"
	PRINTD CRATER
	PRINT PCR
	RETURN AT-CRATER

	.FUNCT AT-FALLS-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 2909]"
	CALL1 SAY-WEST
	PRINTI "[RIDX: 2910]"
	PRINTD FOREST
	PRINTI "[RIDX: 2911]"
	CALL1 SAY-EAST
	PRINTI ", past a giant "
	PRINTD TS1
	CALL2 MENTION-DOOR,TS1-DOOR
	CRLF
	PRINTI "A flight of "
	PRINTD SSTEPS
	PRINTR "[RIDX: 2914]"

	.FUNCT AT-FALLS-W
	FSET? CAVE-HOLE,SEEN /?L1
	CALL2 BLOCKS-YOUR-PATH,WATERFALL
	RFALSE
?L1:	PRINTI "[RIDX: 2915]"
	PRINT PCR
	RETURN ICE-CAVE

	.FUNCT AT-FALLS-IN
	FSET? TS1-DOOR,NOALL \?L1
	CALL1 WHICH-WAY-IN
	RFALSE
?L1:	FSET? TS1-DOOR,OPENED \?L3
	CALL1 BROLLY-OPEN? >STACK
	ZERO? STACK \FALSE
	SET 'QUIET?,1
	PRINTI "You "
	ZERO? SUITED? /?L7
	PRINTI "squeeze the "
	PRINTD FILM
	JUMP ?L9
?L7:	PRINTI "slowly edge "
	PRINTD ME
?L9:	PRINTI " through "
	CALL2 THE-PRINT,TS1-DOOR
	PRINTI "."
	CALL1 CARRIAGE-RETURNS
	CALL QUEUE,I-VACUUM,-1
	CALL QUEUE,I-ORBIT,-1
	CALL2 GOTO,IN-ORBIT
	CALL1 I-ORBIT
	CALL1 I-VACUUM
	RFALSE
?L3:	CALL2 ITS-CLOSED,TS1-DOOR
	RFALSE

	.FUNCT BROLLY-OPEN?
	IN? PARASOL,PLAYER \FALSE
	FSET? PARASOL,OPENED \FALSE
	SET 'P-IT-OBJECT,PARASOL
	PRINTI "[RIDX: 2921]"
	PRINTD PARASOL
	PRINT PERIOD
	RTRUE

	.FUNCT ICE-CAVE-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 2924]"
	PRINTD CAVE
	PRINTI "[RIDX: 2925]"
	PRINTD BREATH
	PRINTI ". Icicles on the "
	PRINTD CEILING
	PRINTI "[RIDX: 2927]"
	PRINTD CAVE-HOLE
	PRINTI " in the "
	CALL1 SAY-EAST
	PRINTI "[RIDX: 2929]"
	PRINTD CAVE
	PRINTR "[RIDX: 2930]"

	.FUNCT THROUGH-FALLS
	PRINTI "[RIDX: 2931]"
	PRINTD WATERFALL
	PRINT PCR
	RETURN AT-FALLS

	.FUNCT SLOPE-GONE
	FSET? SLOPE,SEEN \?L1
	CALL2 GONE-NOW,SLOPE
	RFALSE
?L1:	PRINT CANT
	PRINTI "see any way up."
	CRLF
	RFALSE

	.FUNCT SBOG-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL2 CTHE-PRINT,GROUND
	PRINTI "[RIDX: 2936]"
	PRINTD STREAM
	PRINTI " that wanders "
	CALL1 SAY-WEST
	PRINTI " and south"
	CALL1 SAY-EAST
	PRINTR "[RIDX: 2939]"

	.FUNCT GBASE-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "The triangular "
	PRINTD STRUCTURE
	PRINTI "[RIDX: 2944]"
	PRINT RAZOR
	PRINTI "[RIDX: 2945]"
	PRINTD DSHADOW
	PRINTI "[RIDX: 2946]"
	PRINTD STAIR
	PRINTI "[RIDX: 2947]"
	PRINTD INTDIR
	PRINT PERIOD
	RTRUE

	.FUNCT WALK-UP-STAIRS
	SET 'STAIR-DIR,STR?29
	PRINTI "[RIDX: 2949]"
	PRINTD STAIR
	PRINT PCR
	RETURN HALFWAY

	.FUNCT HALFWAY-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 2952]"
	EQUAL? STAIR-DIR,STR?29 \?L3
	PRINTI "cooler"
	JUMP ?L5
?L3:	PRINTI "warmer"
?L5:	PRINTI "[RIDX: 2956]"
	EQUAL? STAIR-DIR,STR?29 \?L6
	PRINTD VERTEX
	JUMP ?L8
?L6:	PRINTD GROUND
?L8:	PRINT PTHE
	PRINTI "[RIDX: 2958]"
	PRINTD DSHADOW
	PRINTR " of the triangle."

	.FUNCT HALFWAY-UP
	CALL2 MOVE-HALFWAY?,1 >STACK
	ZERO? STACK /FALSE
	RETURN ON-GNOMON

	.FUNCT HALFWAY-DOWN
	CALL1 MOVE-HALFWAY? >STACK
	ZERO? STACK /FALSE
	RETURN GBASE

	.FUNCT MOVE-HALFWAY?,UP?=0
	PRINTI "The air grows "
	ZERO? UP? \?L1
	PRINTI "warm"
	JUMP ?L3
?L1:	PRINTI "cold"
?L3:	PRINTI "[RIDX: 2965]"
	ZERO? UP? \?L4
	PRINTI "de"
	JUMP ?L6
?L4:	PRINTI "a"
?L6:	PRINTI "scent"
	PRINT PCR
	RTRUE

	.FUNCT ON-GNOMON-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 2972]"
	PRINTD PLATFORM
	PRINTI "[RIDX: 2973]"
	PRINTD STAIR
	PRINTI "[RIDX: 2974]"
	PRINTD DSHADOW
	PRINTI " of the "
	PRINTD STRUCTURE
	PRINTI "[RIDX: 2976]"
	GET SHDIRS,3 >STACK
	PRINT STACK
	PRINTI " "
	PRINTD HORIZON
	PRINT PERIOD
	RTRUE

	.FUNCT WALK-DOWN-STAIRS
	SET 'STAIR-DIR,STR?252
	PRINTI "[RIDX: 2979]"
	PRINTD STAIR
	PRINT PCR
	RETURN HALFWAY

	.FUNCT ON-MOOR-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "Tall, solemn "
	PRINTD CATS
	PRINTI "[RIDX: 2988]"
	CALL1 SAY-EAST
	PRINTI "[RIDX: 2989]"
	PRINTD OPSHORE
	PRINTI "[RIDX: 2990]"
	PRINTD TS0
	PRINTI "[RIDX: 2991]"
	PRINTD CATS
	FSET? TS5-DOOR,NOALL /?L3
	PRINT PTHE
	PRINTI "larger one has a"
	CALL OPEN-CLOSED,TS5-DOOR,1
	PRINTI " set into the stem"
?L3:	PRINT PERIOD
	RTRUE

	.FUNCT ON-MOOR-IN
	FSET? TS5-DOOR,NOALL \?L1
	CALL1 DOOR-NOT-HERE
	RFALSE
?L1:	FSET? TS5-DOOR,OPENED \?L3
	CALL1 BROLLY-OPEN? >STACK
	ZERO? STACK \FALSE
	SET 'HOURS,10
	SET 'MINUTES,54
	SET 'SECONDS,0
	PRINTI "You "
	ZERO? SUITED? /?L7
	PRINTI "squeeze the "
	PRINTD FILM
	PRINTI " through "
	JUMP ?L9
?L7:	PRINTI "[RIDX: 2997]"
?L9:	CALL2 THE-PRINT,TS5-DOOR
	PRINTI "..."
	CALL1 CARRIAGE-RETURNS
	PRINTI "[RIDX: 2999]"
	PRINT PCR
	RETURN IN-SKY
?L3:	CALL2 ITS-CLOSED,TS5-DOOR
	RFALSE

	.FUNCT ON-HILL-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL2 CTHE-PRINT,SUMMIT
	PRINTI "[RIDX: 3007]"
	CALL1 SAY-WEST
	PRINTI "[RIDX: 3008]"
	PRINTD FOREST
	PRINTI "[RIDX: 3009]"
	PRINTD VALLEY
	PRINTI "[RIDX: 3010]"
	PRINTD DSTRUCT
	PRINTI "[RIDX: 3011]"
	CALL1 SAY-EAST
	PRINTI "ern "
	PRINTD TREETOPS
	PRINTI "[RIDX: 3013]"
	PRINTD DSHADOW
	PRINTI "[RIDX: 3014]"
	PRINTD STOOLS
	PRINTI ". "
	CALL1 HUNDREDS-OF-THEM
	PRINTI "[RIDX: 3016]"
	PRINTD INTNUM
	PRINTI "[RIDX: 3017]"
	CALL1 SAY-WEST
	PRINTI "ward, until the "
	PRINTD FOREST
	PRINTR "[RIDX: 3019]"

	.FUNCT HUNDREDS-OF-THEM
	PRINTI "[RIDX: 3020]"
	RTRUE

	.FUNCT FCLEARING-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3023]"
	PRINTD HEDGE
	PRINTI "[RIDX: 3024]"
	PRINTD ARBS
	PRINTI " stretch "
	CALL1 SAY-EAST
	PRINTI "ward through the "
	PRINTD FOREST
	PRINTI "[RIDX: 3027]"
	CALL1 SAY-WEST
	PRINTI "[RIDX: 3028]"
	CALL1 TWEEN-TREES
	RTRUE

	.FUNCT AT-TRELS-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3031]"
	PRINTD ARBS
	PRINTI "[RIDX: 3032]"
	PRINTD FOREST
	PRINT PTHE
	PRINTI "[RIDX: 3033]"
	PRINTD TRELS
	PRINT PCR
	PRINTI "A mountain "
	PRINTD STREAM
	PRINTI " trickles"
	CALL2 TWEEN-TREES,0
	PRINTI "[RIDX: 3036]"
	PRINTD INTDIR
	PRINTR "s."

	.FUNCT DOCKSIDE-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	CALL1 DESCRIBE-DOCKSIDE
	CRLF
	PRINTI "[RIDX: 3043]"
	PRINTD HEDGE
	PRINTI "[RIDX: 3044]"
	PRINTD STYX
	PRINTR "'s edge."
?L1:	EQUAL? CONTEXT,M-ENTERED \FALSE
	FSET? DORY,NODESC /FALSE
	FSET DORY,NODESC
	CALL QUEUE,I-STYX,-1
	RFALSE

	.FUNCT DESCRIBE-DOCKSIDE
	PRINTI "You're "
	ZERO? IN-DORY? /?L1
	PRINTI "in a dory"
	JUMP ?L3
?L1:	PRINTI "[RIDX: 3048]"
?L3:	PRINTI " beside a great "
	PRINTD STYX
	PRINT PTHE
	PRINTI "[RIDX: 3050]"
	PRINTD CSURFACE
	PRINTR "[RIDX: 3051]"

	.FUNCT DOCKSIDE-OUT
	ZERO? IN-DORY? /?L1
	CALL PERFORM,V?EXIT,DORY
	RFALSE
?L1:	CALL1 WHICH-WAY-OUT
	RFALSE

	.FUNCT AT-BEND-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "An exhausted "
	PRINTD STREAM
	PRINTI "[RIDX: 3056]"
	PRINT TOS
	PRINTI " and "
	CALL1 SAY-EAST
	PRINT PTHE
	PRINTD OPSHORE
	PRINTI "[RIDX: 3058]"
	PRINTD INTDIR
	PRINTR "[RIDX: 3059]"

	.FUNCT IN-MEADOW-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "[RIDX: 3062]"
	PRINTD MEADOW
	PRINTI "[RIDX: 3063]"
	PRINTD FOREST
	PRINT PTHE
	PRINTI "air is filled with "
	PRINTD DFLIES
	PRINTI "[RIDX: 3065]"
	PRINT PCR
	FSET? IN-MEADOW,SHADOWY \?L3
	PRINTI "A giant "
	PRINTD TS0
	PRINTR " is growing nearby."
?L3:	PRINTI "[RIDX: 3068]"
	PRINTD TS0
	PRINTI "[RIDX: 3069]"
	PRINTD PARASOL
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? CONTEXT,M-ENTERED \?L6
	FSET IN-MEADOW,SHADOWY
	RFALSE
?L6:	EQUAL? CONTEXT,M-EXIT \FALSE
	FCLEAR IN-MEADOW,SEEN
	RFALSE

	.FUNCT MEADOW-EXIT
	PRINTI "The dense "
	PRINTD FOREST
	PRINTI "[RIDX: 3071]"
	FSET? IN-MEADOW,SEEN \?L1
	PRINT PERIOD
	RFALSE
?L1:	FSET IN-MEADOW,SEEN
	PRINTI "[RIDX: 3072]"
	CRLF
	RFALSE

	.FUNCT UP-HILL
	PRINTI "[RIDX: 3073]"
	PRINTD SUMMIT
	PRINT PCR
	RETURN ON-HILL

	.FUNCT SWPATH-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL1 SAY-HEDGE-PATH
	CALL1 SAY-EAST
	PRINTI " and north"
	CALL1 SAY-EAST
	PRINT PERIOD
	RTRUE

	.FUNCT SEPATH-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL1 SAY-HEDGE-PATH
	CALL1 SAY-WEST
	PRINTI " and north"
	CALL1 SAY-WEST
	PRINT PERIOD
	RTRUE

	.FUNCT SAY-HEDGE-PATH
	PRINTI "[RIDX: 3080]"
	PRINTD TOWER
	PRINTI "[RIDX: 3081]"
	RTRUE

	.FUNCT WHICH-WAY-UP-NS
	CALL2 WHICH-WAY,STR?253
	RFALSE

	.FUNCT WHICH-WAY-IN-NS
	CALL2 WHICH-WAY,STR?254
	RFALSE

	.FUNCT ARBORETUM-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "A spectacular "
	PRINTD ARBOR
	PRINTI " of "
	PRINTD ARBS
	PRINTI "[RIDX: 3088]"
	PRINTD CSURFACE
	PRINTI "[RIDX: 3089]"
	CALL1 DESCRIBE-PERGOLA
	PRINTI "[RIDX: 3090]"
	PRINTD HEDGE
	PRINT PERIOD
	RTRUE

	.FUNCT DESCRIBE-PERGOLA
	PRINTI "Steep, leafy "
	PRINTD TUNNEL
	PRINTI "s curve up into the "
	PRINTD ARBOR
	PRINT TON
	PRINTI " and south. "
	RTRUE

	.FUNCT ENTER-ARBOR-N
	CALL2 ENTER-ARBOR,P?NORTH
	RETURN NORTH-ARBOR

	.FUNCT ENTER-ARBOR-S
	CALL2 ENTER-ARBOR,P?SOUTH
	RETURN SOUTH-ARBOR

	.FUNCT ENTER-ARBOR,DIR
	SET 'ENTERED-ARBOR,DIR
	PRINTI "You ascend the "
	EQUAL? DIR,P?SOUTH \?L1
	PRINTI "sou"
	JUMP ?L3
?L1:	PRINTI "nor"
?L3:	PRINTI "th side of the "
	PRINTD ARBOR
	PRINT PCR
	RTRUE

	.FUNCT TO-ARBOR-TOP
	CALL1 FLOOR-TWISTS
	PRINTI "continue your ascent"
	PRINT PCR
	RETURN ARBOR-TOP

	.FUNCT FLOOR-TWISTS
	CALL2 CTHE-PRINT,FLOOR
	PRINTI "[RIDX: 3102]"
	RTRUE

	.FUNCT ARBORSIDE-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "The """
	PRINTD FLOOR
	PRINTI """ of the "
	PRINTD ARBOR
	PRINTR "[RIDX: 3109]"

	.FUNCT EXIT-ARBOR-N
	CALL2 EXIT-ARBOR,P?NORTH
	RETURN ARBORETUM

	.FUNCT EXIT-ARBOR-S
	CALL2 EXIT-ARBOR,P?SOUTH
	RETURN ARBORETUM

	.FUNCT EXIT-ARBOR,DIR,CNT=0,OBJ,X
	EQUAL? ENTERED-ARBOR,DIR /?L7
	ZERO? FLIP? \?L3
	SET 'FLIP?,1
	JUMP ?L5
?L3:	SET 'FLIP?,0
?L5:	CALL1 RESET-SHDIRS
?L6:	GET FLIPPERS,CNT >OBJ
	ZERO? OBJ /?L7
	CALL2 GOT?,OBJ >X
	ZERO? X \?L16
	EQUAL? OBJ,WTK \?L13
	FSET? OBJ,TOUCHED \?L16
?L13:	FSET? OBJ,FLIPPED \?L15
	FCLEAR OBJ,FLIPPED
	JUMP ?L16
?L15:	FSET OBJ,FLIPPED
?L16:	INC 'CNT
	JUMP ?L6
?L7:	CALL1 FLOOR-TWISTS
	PRINTI "descend"
	PRINT PCR
	RTRUE

	.FUNCT ARBOR-TOP-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "[RIDX: 3114]"
	CALL2 VISIBLE?,LAMP >STACK
	ZERO? STACK /?L3
	FSET? LAMP,LIGHTED \?L3
	PRINTI "[RIDX: 3115]"
	PRINTD LAMP
	JUMP ?L5
?L3:	PRINTI "[RIDX: 3116]"
	PRINTD SHARD
?L5:	PRINTI ". "
	CALL1 SMELL-HEDGE
	CRLF
	PRINTI "Dark, leafy "
	PRINTD TUNNEL
	PRINTI "s curve down"
	PRINT TON
	PRINTR " and south."
?L1:	EQUAL? CONTEXT,M-ENTERED \FALSE
	CRLF
	PRINTI "Your sense of "
	PRINTD INTDIR
	PRINTR " is very confused."

	.FUNCT SOMETHING-BUSHY
	ZERO? LIT? \?L1
	PRINTI "[RIDX: 3123]"
	JUMP ?L3
?L1:	PRINTI "Arborvitaes block"
?L3:	PRINTI " your path."
	CRLF
	RFALSE

	.FUNCT ON-BEACH-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3135]"
	PRINT TOS
	PRINT PERIOD
	RTRUE

	.FUNCT ON-ISLE-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "[RIDX: 3145]"
	PRINTD TS6
	PRINTI "[RIDX: 3146]"
	CALL2 MENTION-DOOR,TS6-DOOR
	RTRUE
?L1:	EQUAL? CONTEXT,M-ENTERED \FALSE
	FSET? ON-ISLE,SEEN /?L4
	FSET ON-ISLE,SEEN
	CRLF
	CALL VOICE-MUTTERS,STR?255,0
?L4:	IN? MEEP,TS6 \TRUE
	FSET MEEP,SEEN
	SET 'P-IT-OBJECT,MEEP
	CRLF
	PRINTI "A "
	PRINTD MEEP
	PRINTI " is perched on the "
	PRINTD TS6
	PRINTI "'s crown"
	CALL1 ENTICINGLY
	PRINT PERIOD
	RTRUE

	.FUNCT ENTICINGLY
	PRINT PTHE
	PRINTI "[RIDX: 3151]"
	RTRUE

	.FUNCT ON-ISLE-IN
	FSET? TS6-DOOR,NOALL \?L1
	CALL1 DOOR-NOT-HERE
	RFALSE
?L1:	FSET? TS6-DOOR,OPENED \?L3
	CALL1 BROLLY-OPEN? >STACK
	ZERO? STACK \FALSE
	PRINTI "[RIDX: 3152]"
	CALL1 CARRIAGE-RETURNS
	CALL1 GO-TO-SHACK
	RETURN IN-SHACK
?L3:	CALL2 ITS-CLOSED,TS6-DOOR
	RFALSE

	.FUNCT GO-TO-SHACK,CNT=0,?TMP
	SET 'TR?,1
	SET 'FLIP?,0
?L1:	SET '?TMP,WIRE-TYPES
	CALL2 PICK-ONE,WIRE-COLORS >STACK
	PUT ?TMP,CNT,STACK
	IGRTR? 'CNT,3 \?L1
	FSET METEOR,NOALL
	CALL2 DEQUEUE,I-WTK
	CALL2 DEQUEUE,I-SHADOW
	SET 'MINUTES,58
	SET 'SECONDS,30
	SET 'HOURS,4
	CALL QUEUE,I-VOICES,-1
	MOVE GROVES,GLOBAL-OBJECTS
	RTRUE

	.FUNCT PICK-ONE,TBL,L,CNT,RND,MSG,RTBL
	GET TBL,0 >L
	GET TBL,1 >CNT
	DEC 'L
	ADD TBL,2 >TBL
	MUL CNT,2 >STACK
	ADD TBL,STACK >RTBL
	SUB L,CNT >STACK
	RANDOM STACK >RND
	GET RTBL,RND >MSG
	GET RTBL,1 >STACK
	PUT RTBL,RND,STACK
	PUT RTBL,1,MSG
	INC 'CNT
	EQUAL? CNT,L \?L1
	SET 'CNT,0
?L1:	PUT TBL,0,CNT
	RETURN MSG

	.FUNCT IN-ORBIT-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "[RIDX: 3165]"
	PRINTD HORIZON
	PRINTR "[RIDX: 3166]"
?L1:	EQUAL? CONTEXT,M-BEG \FALSE
	ZERO? SUITED? \FALSE
	EQUAL? PRSA,V?LISTEN,V?SMELL /?L4
	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \FALSE
?L4:	CALL1 DONT-PROPAGATE
	RTRUE

	.FUNCT DONT-PROPAGATE
	EQUAL? PRSA,V?SMELL \?L1
	PRINTI "Odor"
	JUMP ?L3
?L1:	PRINTI "Sound"
?L3:	PRINTR "[RIDX: 3169]"

	.FUNCT NO-PROPULSION
	PRINTI "[RIDX: 3170]"
	CRLF
	RFALSE

	.FUNCT ON-SAT-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL1 LOOK-AT-XRAY
	RTRUE

	.FUNCT LOOK-AT-XRAY
	CALL2 CTHE-PRINT,XRAY
	EQUAL? HERE,ON-SAT \?L1
	PRINTI " you're riding"
	JUMP ?L3
?L1:	PRINTI " drifting "
	EQUAL? ORBCNT,3 \?L4
	PRINTI "closer to "
	JUMP ?L7
?L4:	GRTR? ORBCNT,5 \?L6
	PRINTI "away from "
	JUMP ?L7
?L6:	PRINTI "past "
?L7:	PRINTI "you"
?L3:	PRINTI "[RIDX: 3179]"
	EQUAL? HERE,ON-SAT \?L8
	PRINT PTHE
	PRINTD FILM
	PRINTI "[RIDX: 3180]"
	PRINTD XRAY
	PRINTI "'s hull by the "
	PRINTD LUMP
?L8:	PRINT PERIOD
	RTRUE

	.FUNCT ON-PLATFORM-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "This narrow "
	PRINTD PLATFORM
	PRINTI " is attached"
	PRINT TON
	PRINTI "[RIDX: 3187]"
	PRINTD TBOMB
	PRINTI "[RIDX: 3188]"
	PRINTD HORIZON
	PRINTI " lined with gray "
	PRINTD TMOUNTS
	PRINT PCR
	FSET? TS4-DOOR,NOALL \?L3
	PRINTI "A "
	PRINTD PLADDER
	PRINTR " leads downward."
?L3:	PRINTI "A"
	CALL OPEN-CLOSED,TS4-DOOR,1
	PRINTI " leads into the "
	PRINTD TBOMB
	PRINTI "[RIDX: 3194]"
	PRINTD PLADDER
	PRINTR " stand beside it."

	.FUNCT PLAT-FALL
	CALL2 YOUD-FALL-OFF,PLATFORM
	RFALSE

	.FUNCT ON-PLATFORM-IN
	FSET? TS4-DOOR,NOALL \?L1
	CALL1 DOOR-NOT-HERE
	RFALSE
?L1:	FSET? TS4-DOOR,OPENED \?L3
	CALL2 DEQUEUE,I-RCOUNT
	CALL2 DEQUEUE,I-RODENTS
	GRTR? MINUTES,49 \?L4
	PRINTI "Numb with cold, you "
	JUMP ?L6
?L4:	PRINTI "You "
?L6:	PRINTI "[RIDX: 3198]"
	PRINTD TS4-DOOR
	PRINT PERIOD
	CALL EXIT-HOLE,TS4-DOOR,IN-GARDEN
	RFALSE
?L3:	CALL2 ITS-CLOSED,TS4-DOOR
	RFALSE

	.FUNCT EXIT-HOLE,DOOR,TO
	SET 'HERE,TO
	MOVE PLAYER,TO
	SET 'ODEG,6
	FSET DOOR,NOALL
	FCLEAR DOOR,OPENED
	CALL1 CARRIAGE-RETURNS
	CALL1 V-LOOK
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	CRLF
	CALL2 CTHE-PRINT,DOOR
	PRINTI "[RIDX: 3199]"
	PRINTD TS0
	PRINT PERIOD
	RTRUE

	.FUNCT DOWN-PLADDER
	PRINTI "You descend the "
	PRINTD PLADDER
	PRINT PCR
	RETURN UNDER-PLAT

	.FUNCT UNDER-PLAT-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "A network of "
	PRINTD TCABLES
	PRINTI "[RIDX: 3204]"
	PRINTD TBOMB
	PRINTI "[RIDX: 3205]"
	PRINTD TUNDRA
	PRINTI "[RIDX: 3206]"
	PRINTD PLADDER
	PRINTI " leads up to a "
	PRINTD PLATFORM
	PRINTR " overhead."

	.FUNCT UP-PLADDER
	PRINTI "You ascend the "
	PRINTD PLADDER
	PRINT PCR
	RETURN ON-PLATFORM

	.FUNCT ATUN-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3216]"
	PRINTD TMOUNTS
	PRINTI ". "
	PRINT YOU-SEE
	CALL2 THE-PRINT,TBOMB
	PRINTI " on the southeast "
	PRINTD HORIZON
	PRINT PERIOD
	RTRUE

	.FUNCT DESOLATION
	PRINTI "[RIDX: 3219]"
	PRINTD RIGHT
	PRINT PERIOD
	RFALSE

	.FUNCT BTUN-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL2 CTHE-PRINT,TMOUNTS
	PRINTI "[RIDX: 3226]"
	PRINTD TBOMB
	PRINTI " is visible far"
	PRINT TOS
	PRINT PERIOD
	RTRUE

	.FUNCT CTUN-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "A prehistoric "
	PRINTD PASS
	PRINTI "[RIDX: 3236]"
	PRINTD TMOUNTS
	PRINTI "[RIDX: 3237]"
	PRINTD TBOMB
	PRINTI "[RIDX: 3238]"
	PRINTD HORIZON
	PRINT PERIOD
	RTRUE

	.FUNCT TO-CLIFF
	PRINTI "[RIDX: 3239]"
	PRINTD RATS
	PRINT PCR
	RETURN CLIFF-EDGE

	.FUNCT DTUN-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3243]"
	PRINTD TBOMB
	PRINTI "[RIDX: 3244]"
	PRINTD TMOUNTS
	PRINT PERIOD
	RTRUE

	.FUNCT ETUN-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3251]"
	PRINTD TBOMB
	PRINTI " and beyond. Gray "
	PRINTD TMOUNTS
	PRINTI "[RIDX: 3253]"
	PRINT TOE
	PRINT PERIOD
	RTRUE

	.FUNCT FTUN-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "The tall "
	PRINTD TBOMB
	PRINTI "[RIDX: 3257]"
	PRINTD HORIZON
	PRINTI ". Thick "
	PRINTD TCABLES
	PRINTI "[RIDX: 3259]"
	PRINTD GROUP
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? CONTEXT,M-ENTERED \FALSE
	SET 'P-THEM-OBJECT,GROUP
	RFALSE

	.FUNCT GTUN-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "Only the "
	PRINTD TBOMB
	PRINTI " on the northern "
	PRINTD HORIZON
	PRINTR "[RIDX: 3264]"

	.FUNCT HTUN-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "Steep "
	PRINTD TMOUNTS
	PRINTI " tower"
	PRINT TOW
	PRINTI "[RIDX: 3273]"
	PRINTD TBOMB
	PRINTI "[RIDX: 3274]"
	PRINTD HORIZON
	PRINT PERIOD
	RTRUE

	.FUNCT CLIFF-EDGE-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	CALL2 CTHE-PRINT,PASS
	PRINTI "[RIDX: 3281]"
	PRINTD RATS
	PRINTI "[RIDX: 3282]"
	EQUAL? RATS,RODENTS \?L3
	PRINTI "[RIDX: 3283]"
?L3:	PRINTI ".

The "
	PRINTD GROUND
	PRINTI "[RIDX: 3285]"
	PRINTD FISSURE
	PRINTI "[RIDX: 3286]"
	PRINTD LEMMINGS
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? CONTEXT,M-ENTERED \FALSE
	EQUAL? RATS,RODENTS \FALSE
	CALL1 SWITCH-LEMMINGS
	RFALSE

	.FUNCT OVER-CLIFF
	CALL1 SAY-SURE
	PRINTI "go over that cliff?"
	CALL1 YES? >STACK
	ZERO? STACK /?L1
	CRLF
	CALL2 VOICE-MUTTERS,STR?256
	PRINTI "You tumble "
	CALL1 CLIFF-DROWN
	RFALSE
?L1:	CRLF
	CALL VOICE-MUTTERS,STR?257,0
	RFALSE

	.FUNCT CLIFF-DROWN
	PRINTI "[RIDX: 3291]"
	CALL2 PRINT-ID,STR?258
	CALL1 JIGS-UP
	RTRUE

	.FUNCT TO-TUNDRA
	PRINTI "[RIDX: 3293]"
	PRINTD RATS
	PRINT PCR
	RETURN CTUN

	.FUNCT TUN1-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3303]"
	FSET? TS2-DOOR,NOALL /?L3
	FSET? TS2-DOOR,OPENED \?L3
	PRINTI "[RIDX: 3304]"
	JUMP ?L6
?L3:	CALL2 VISIBLE?,LAMP >STACK
	ZERO? STACK /?L5
	FSET? LAMP,LIGHTED \?L5
	CALL2 THE-PRINT,LAMP
	PRINTI "'s beam"
	JUMP ?L6
?L5:	CALL2 THE-PRINT,SHARD
	PRINTI "'s fitful glow"
?L6:	PRINTI ". "
	CALL1 LOOK-AT-RWALLS
	CRLF
	PRINTI "A large "
	PRINTD UBOMB
	PRINTI "[RIDX: 3309]"
	PRINTD UCABLES
	PRINTI "[RIDX: 3310]"
	PRINTD CAVERN
	PRINT PERIOD
	FSET? TS2-DOOR,NOALL /TRUE
	FSET? TS2-DOOR,OPENED /TRUE
	CRLF
	CALL2 CTHE-PRINT,TS2-DOOR
	PRINTR "[RIDX: 3311]"

	.FUNCT TUN1-IN
	FSET? TS2-DOOR,OPENED \?L1
	CALL1 EXIT-CAVE
	RFALSE
?L1:	RETURN TUN2

	.FUNCT LOOK-AT-RWALLS
	PRINTI "The walls and "
	PRINTD CEILING
	PRINTR "[RIDX: 3313]"

	.FUNCT EXIT-CAVE
	FSET? TS2-DOOR,NOALL \?L1
	CALL1 DOOR-NOT-HERE
	RFALSE
?L1:	FSET? TS2-DOOR,OPENED \?L3
	PRINTI "[RIDX: 3314]"
	PRINTD TS2-DOOR
	PRINT PCR
	CALL2 DEQUEUE,I-TUNNEL
	CALL2 GOT?,WTK >STACK
	ZERO? STACK /?L4
	FCLEAR WTK,SEEN
	CALL QUEUE,I-WTK,-1
?L4:	CALL EXIT-HOLE,TS2-DOOR,OSSUARY
	RFALSE
?L3:	CALL2 ITS-CLOSED,TS2-DOOR
	RFALSE

	.FUNCT TUN2-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	CALL2 CTHE-PRINT,UCABLES
	PRINTI " lining the "
	PRINTD CAVERN
	PRINTI "[RIDX: 3324]"
	CALL2 VISIBLE?,LAMP >STACK
	ZERO? STACK /?L3
	FSET? LAMP,LIGHTED \?L3
	IN? LAMP,PLAYER \?L5
	PRINTI "dancing "
?L5:	PRINTI "beam of the "
	PRINTD LAMP
	JUMP ?L8
?L3:	PRINTD SHARD
	PRINTI "'s flickering glow"
?L8:	PRINTI ". Deep "
	PRINTD CAVERN
	PRINTI "s bend off"
	PRINT TOE
	PRINTR " and west."
?L1:	EQUAL? CONTEXT,M-ENTERED \FALSE
	ZERO? LIT? /FALSE
	FSET? SKINK,NODESC \FALSE
	MOVE SKINK,TUN2
	FCLEAR SKINK,NODESC
	CALL QUEUE,I-SKINK,-1
	FSET SKINK,SEEN
	CRLF
	PRINTI "As you study the "
	PRINTD MIKE
	PRINTI "[RIDX: 3332]"
	PRINTD SKINK
	PRINT PERIOD
	RTRUE

	.FUNCT TUN3-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "The west end of the "
	PRINTD CAVERN
	PRINTI "[RIDX: 3342]"
	PRINTD LANDSLIDE
	PRINTI "[RIDX: 3343]"
	PRINTD UCABLES
	PRINTI " emerge from the "
	PRINTD RUBBLE
	PRINTI "[RIDX: 3345]"
	CALL1 SAY-EAST
	PRINT PCR
	IN? SHARD,CREVICE \?L3
	PRINTI "[RIDX: 3346]"
	JUMP ?L6
?L3:	CALL2 VISIBLE?,LAMP >STACK
	ZERO? STACK /?L5
	FSET? LAMP,LIGHTED \?L5
	CALL2 CTHE-PRINT,LAMP
	PRINTI "'s beam reveals a "
	JUMP ?L6
?L5:	CALL2 CTHE-PRINT,SHARD
	PRINTI "[RIDX: 3348]"
?L6:	PRINTI "narrow "
	PRINTD CREVICE
	PRINTI " in the wall of the "
	PRINTD TUNNEL
	PRINT PERIOD
	RTRUE

	.FUNCT ON-SCAFFOLD-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3354]"
	PRINTD CEILING
	PRINTI "[RIDX: 3355]"
	PRINTD SCHOOL
	FSET? TS3-DOOR,NOALL /?L3
	PRINT PTHE
	PRINTI "only familiar "
	PRINTD MIKE
	PRINTI " is the"
	CALL2 OPEN-CLOSED,TS3-DOOR
	PRINTI "[RIDX: 3358]"
?L3:	PRINT PCR
	PRINTI "A "
	PRINTD SCAF-STAIR
	PRINTI " leads "
	EQUAL? HERE,ON-SCAFFOLD \?L6
	PRINTI "down"
	JUMP ?L8
?L6:	PRINTI "up"
?L8:	PRINTR "ward."

	.FUNCT DOWN-SCAFFOLD
	PRINTI "You descend the "
	PRINTD SCAF-STAIR
	PRINT PCR
	RETURN AT-SDOORS

	.FUNCT ON-SCAFFOLD-IN
	FSET? TS3-DOOR,NOALL \?L1
	CALL1 DOOR-NOT-HERE
	RFALSE
?L1:	FSET? TS3-DOOR,OPENED \?L3
	CALL2 DEQUEUE,I-FLIPPER
	CALL2 DEQUEUE,I-TIDE
	CALL2 DEQUEUE,I-CRABS
	PRINTI "[RIDX: 3365]"
	PRINTD TS3-DOOR
	PRINT PERIOD
	CALL EXIT-HOLE,TS3-DOOR,ON-MESA
	RFALSE
?L3:	CALL2 ITS-CLOSED,TS3-DOOR
	RFALSE

	.FUNCT AT-SDOORS-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3368]"
	PRINTD SCAFFOLD
	PRINTI " overlooking the "
	PRINTD MIKE
	PRINTI "[RIDX: 3370]"
	FSET? SDOORS,OPENED \?L3
	PRINTI "n open "
	JUMP ?L5
?L3:	PRINTI " closed "
?L5:	PRINTI "set of "
	PRINTD SDOORS
	PRINTI "[RIDX: 3374]"
	PRINTD SPEAKER
	PRINTR "[RIDX: 3375]"

	.FUNCT CLIMB-SCAFFOLD
	PRINTI "You ascend the "
	PRINTD SCAF-STAIR
	PRINT PCR
	RETURN ON-SCAFFOLD

	.FUNCT SSAND-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	SET 'P-IT-OBJECT,OBUTTON
	PRINTI "[RIDX: 3380]"
	PRINTD LAGOON
	PRINTI "[RIDX: 3381]"
	PRINTD ISLAND
	PRINTI "[RIDX: 3382]"
	PRINT TON
	PRINTI "[RIDX: 3383]"
	PRINTD OBUTTON
	PRINTI "[RIDX: 3384]"
	CALL2 OPEN-CLOSED,SDOORS
	PRINTR " of the shed."

	.FUNCT TO-ESAND
	CALL1 WALK-BEACH
	RETURN ESAND

	.FUNCT TO-WSAND
	CALL1 WALK-BEACH
	RETURN WSAND

	.FUNCT TO-NSAND
	CALL1 WALK-BEACH
	RETURN NSAND

	.FUNCT TO-SSAND
	CALL1 WALK-BEACH
	RETURN SSAND

	.FUNCT WALK-BEACH
	PRINTI "You "
	EQUAL? HERE,NSAND \?L1
	PRINTI "duck under the "
	PRINTD TUBE
	PRINTI " and "
?L1:	PRINTI "[RIDX: 3389]"
	PRINTD BEACH
	PRINT PCR
	RTRUE

	.FUNCT LAGOON-SWIMMING
	FSET? LAGOON,SEEN \?L1
	PRINTI "[RIDX: 3390]"
	CRLF
	RFALSE
?L1:	FSET LAGOON,SEEN
	PRINTI "[RIDX: 3391]"
	PRINTD LAGOON
	PRINTI "[RIDX: 3392]"
	CRLF
	CALL2 PRINT-ID,STR?259
	RFALSE

	.FUNCT ESAND-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3396]"
	PRINTD LAGOON
	PRINTI "[RIDX: 3397]"
	PRINTD BEACH
	PRINTI "[RIDX: 3398]"
	PRINTD ESHED
	PRINT PERIOD
	RTRUE

	.FUNCT NSAND-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "A square wooden "
	PRINTD TUBE
	PRINTI "[RIDX: 3402]"
	PRINTD SCHOOL
	PRINTI "[RIDX: 3403]"
	PRINTD LAGOON
	PRINTI "[RIDX: 3404]"
	PRINTD ESHED
	PRINT TOS
	PRINTR "east and southwest."

	.FUNCT WSAND-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "[RIDX: 3408]"
	PRINTD ESHED
	PRINT PCR
	PRINTI "A tiny "
	PRINTD ISLET
	PRINTR "[RIDX: 3410]"
?L1:	EQUAL? CONTEXT,M-ENTERED \FALSE
	FSET? CRABS,NODESC /FALSE
	SET 'P-THEM-OBJECT,CRABS
	RFALSE

	.FUNCT CRABS-ATTACK
	FSET CRABS,SEEN
	FSET? CRABS,NODESC \?L1
	FCLEAR CRABS,NODESC
	CALL QUEUE,I-CRABS,-1
	MOVE CRABS,WSAND
	SET 'P-THEM-OBJECT,CRABS
	PRINTI "[RIDX: 3411]"
	CRLF
	RFALSE
?L1:	PRINTI "[RIDX: 3412]"
	PRINTD CRABS
	PRINT CHANGES
	RFALSE

	.FUNCT IN-SKY-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "You're "
	FSET? IN-SKY,NOALL \?L3
	PRINTI "several"
	JUMP ?L5
?L3:	PRINTI "fourteen"
?L5:	PRINTI "[RIDX: 3430]"
	ZERO? SUITED? \?L8
	IN? PARASOL,PLAYER \?L6
	FSET? PARASOL,OPENED \?L6
?L8:	PRINTI "[RIDX: 3431]"
	ZERO? SUITED? /?L9
	PRINTI "presses against the "
	PRINTD FILM
	PRINTI " around you"
	JUMP ?L12
?L9:	PRINTI "fills your open "
	PRINTD PARASOL
	JUMP ?L12
?L6:	PRINTI "[RIDX: 3435]"
	FSET? IN-SKY,NOALL \?L13
	PRINTI "a hundred and thir"
	JUMP ?L15
?L13:	PRINTI "seven"
?L15:	PRINTI "ty miles an hour"
?L12:	PRINT PCR
	PRINTI "A "
	PRINTD TS5-DOOR
	PRINTR "[RIDX: 3440]"
?L1:	EQUAL? CONTEXT,M-ENTERED \FALSE
	FSET? IN-SKY,SEEN /FALSE
	FSET IN-SKY,SEEN
	FSET IN-SKY,NOALL
	CALL QUEUE,I-FALLING,2
	RFALSE

	.FUNCT ON-BIRD-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3453]"
	PRINTD CRANE
	PRINT PERIOD
	RTRUE

	.FUNCT EXIT-NAGASAKI
	FSET? TS5-DOOR,NOALL \?L1
	CALL1 DOOR-NOT-HERE
	RFALSE
?L1:	FSET? TS5-DOOR,OPENED \?L3
	CALL2 DEQUEUE,I-FLIGHT
	PRINTI "You climb off the "
	PRINTD MCRANE
	PRINTI "[RIDX: 3455]"
	PRINTD TS3-DOOR
	PRINT PERIOD
	CALL EXIT-HOLE,TS5-DOOR,ON-MOOR
	RFALSE
?L3:	CALL2 ITS-CLOSED,TS5-DOOR
	RFALSE

	.FUNCT PLAYGROUND-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "A set of "
	PRINTD KIDS
	PRINTI "'s "
	PRINTD SWINGS
	PRINTI " moves "
	CALL1 BACK-AND-FORTH
	PRINTI "[RIDX: 3461]"
	PRINTD SCHOOL
	PRINTI ", its "
	PRINTD SCHOOL-WINDOWS
	PRINTI " hung with "
	PRINTD FLOWERS
	PRINTI "[RIDX: 3464]"
	PRINTD SHELHOLE
	PRINT TOE
	PRINTI "[RIDX: 3465]"
	PRINTD SHELTER
	PRINTI "[RIDX: 3466]"
	PRINTD KIDS
	PRINTI "[RIDX: 3467]"
	PRINTD DFLIES
	PRINTI " north of the swing set[RIDX: 3370] group of adults (school"
	PRINTD TEACHERS
	PRINTI "[RIDX: 3469]"
	PRINTD SHELTER
	PRINTR " like the first."
?L1:	EQUAL? CONTEXT,M-BEG \?L3
	EQUAL? PRSA,V?YELL,V?ALARM \?L3
	PRINTI "[RIDX: 3471]"
	CRLF
	CALL1 TEACHERS-NOTICE
	RTRUE
?L3:	EQUAL? CONTEXT,M-ENTERED \?L4
	FSET? SPILE,NODESC \?L4
	FCLEAR SPILE,NODESC
	CRLF
	PRINTI "[RIDX: 3472]"
	PRINTD SPILE
	CALL1 LOOK-IN-SPILE
	PRINT PERIOD
	RTRUE
?L4:	EQUAL? CONTEXT,M-EXIT \FALSE
	ZERO? IN-SAND? /FALSE
	CALL1 EXIT-SPILE
	RTRUE

	.FUNCT LOOK-IN-SPILE
	CALL2 SEE-ANYTHING-IN?,SPILE >STACK
	ZERO? STACK /TRUE
	PRINTI "[RIDX: 3473]"
	CALL2 PRINT-CONTENTS,SPILE
	RTRUE

	.FUNCT EXIT-SPILE
	SET 'IN-SAND?,0
	SET 'OLD-HERE,0
	PRINTI "[RIDX: 3474]"
	PRINTD SPILE
	PRINTI " first"
	PRINT BRACKET
	RTRUE

	.FUNCT ENTER-SCHOOL
	ZERO? IN-SAND? /?L1
	CALL1 EXIT-SPILE
?L1:	PRINTI "There are no "
	PRINTD SBENTRY
	PRINTI "s visible here."
	CRLF
	RFALSE

	.FUNCT ENTER-SHELTER
	ZERO? IN-SAND? /?L1
	CALL1 EXIT-SPILE
?L1:	PRINTI "[RIDX: 3478]"
	PRINT PCR
	RETURN IN-SHELTER

	.FUNCT TEACHERS-CATCH
	CALL2 CHICKEN-OUT?,TEACHERS >STACK
	ZERO? STACK \FALSE
	ZERO? IN-SAND? /?L3
	CALL1 EXIT-SPILE
?L3:	PRINTI "[RIDX: 3479]"
	PRINTD TEACHERS
	PRINT PERIOD
	CALL2 TEACHERS-NOTICE,1
	RFALSE

	.FUNCT TEACHERS-NOTICE,COMING=0
	CRLF
	PRINTI "[RIDX: 3481]"
	ZERO? COMING \?L1
	PRINTI "standing "
	ZERO? IN-SAND? \?L3
	PRINTI "by "
	JUMP ?L5
?L3:	PRINTI "in "
?L5:	CALL2 THE-PRINT,SPILE
	JUMP ?L6
?L1:	PRINTI "coming"
?L6:	PRINTI "[RIDX: 3486]"
	PRINTD SHELTER
	PRINTI "[RIDX: 3487]"
	CALL2 PRINT-ID,STR?260
	CALL1 JIGS-UP
	RTRUE

	.FUNCT CHILDREN-CATCH
	CALL2 CHICKEN-OUT?,KIDS >STACK
	ZERO? STACK \FALSE
	ZERO? IN-SAND? /?L3
	CALL1 EXIT-SPILE
?L3:	CALL2 CTHE-PRINT,KIDS
	PRINTI "[RIDX: 3489]"
	CRLF
	CALL2 TEACHERS-NOTICE,1
	RFALSE

	.FUNCT CHICKEN-OUT?,WHO
	PRINTI "[RIDX: 3490]"
	CALL2 THE-PRINT,WHO
	PRINTI "[RIDX: 3491]"
	PRINT PCR
	CALL1 SAY-SURE
	PRINTI "go that way?"
	CALL1 YES? >STACK
	ZERO? STACK /?L1
	CRLF
	RFALSE
?L1:	CALL1 NO-DETECTION
	RTRUE

	.FUNCT IN-SHELTER-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3497]"
	PRINTD FLOOR
	PRINTI "[RIDX: 3498]"
	PRINTD CORNER
	PRINTI "s reek of "
	PRINTD PEE
	PRINTI "[RIDX: 3500]"
	PRINTD SHELHOLE
	PRINT TOW
	PRINT PERIOD
	RTRUE

	.FUNCT EXIT-SHELTER
	PRINTI "[RIDX: 3501]"
	PRINT PCR
	RETURN PLAYGROUND

	.FUNCT IN-SHACK-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "You're in a metal "
	PRINTD SHACK
	PRINTI "[RIDX: 3512]"
	PRINTD FLOOR
	PRINTI "[RIDX: 3513]"
	PRINTD HARDWARE
	PRINT PA
	PRINTI "d"
	FSET? WATT,LIGHTED \?L3
	PRINTI "im"
	JUMP ?L5
?L3:	PRINTI "ark"
?L5:	PRINTI "[RIDX: 3517]"
	PRINTD CEILING
	FSET? WATT,LIGHTED \?L6
	PRINTI ", filling the "
	PRINTD DSHADOW
	PRINTI "s with a sullen glow"
?L6:	FSET? SPOT,SEEN \?L9
	PRINTI "[RIDX: 3520]"
	JUMP ?L11
?L9:	PRINTI ". You can see an "
?L11:	PRINTI "[RIDX: 3522]"
	PRINTD GADGET
	PRINTI "[RIDX: 3523]"
	PRINTD FLOOR
	PRINTI ". Its "
	PRINTD CSURFACE
	PRINTI " is studded with "
	PRINTD GBOLTS
	PRINTI "[RIDX: 3526]"
	PRINTD GCABLES
	PRINTI "[RIDX: 3527]"
	PRINTD X5
	PRINTI " nearby.

A"
	CALL OPEN-CLOSED,TS6-DOOR,1
	PRINTR "[RIDX: 3529]"

	.FUNCT IN-SHACK-OUT
	FSET? TS6-DOOR,OPENED \?L1
	CALL1 WHICH-WAY-OUT
	RFALSE
?L1:	RETURN TOWER-PLAT

	.FUNCT SLAM-TS6-DOOR
	FSET? TS6-DOOR,NOALL \?L1
	CALL1 DOOR-NOT-HERE
	RFALSE
?L1:	FSET? TS6-DOOR,OPENED \?L3
	CALL1 KILL-TS6-DOOR
	RFALSE
?L3:	CALL2 ITS-CLOSED,TS6-DOOR
	RFALSE

	.FUNCT KILL-TS6-DOOR
	PUTP IN-SHACK,P?SEE-E,WALLS
	FCLEAR TS6-DOOR,OPENED
	CALL2 ITALICIZE,STR?261
	PRINTI "[RIDX: 3531]"
	CRLF
	GET QUOTES,BYRNE >DO-WINDOW
	RTRUE

	.FUNCT TOWER-PLAT-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "[RIDX: 3535]"
	PRINTD GDESERT
	PRINTI "[RIDX: 3536]"
	PRINTD TPLAT
	PRINTI "[RIDX: 3537]"
	PRINTD SHACK
	FSET? SPOT,SEEN \?L3
	PRINT PA
	PRINTD SPOT
	PRINTI " on the southwest "
	PRINTD HORIZON
	PRINTI " floods the "
	PRINTD PLATFORM
	PRINTI "[RIDX: 3540]"
?L3:	PRINT PA
	PRINTD TLADDER
	PRINTI "[RIDX: 3541]"
	PRINTD TPLAT
	PRINTR "'s edge."
?L1:	EQUAL? CONTEXT,M-ENTERED \FALSE
	SET 'STAIR-DIR,STR?41
	RFALSE

	.FUNCT TOWER-PLAT-D
	FSET? VOICES,SEEN \?L3
	PRINTI "[RIDX: 3544]"
	PRINTD TLADDER
	PRINTI "[RIDX: 3545]"
	PRINTD VOICES
	PRINTI " below"
	PRINT PCR
	CALL1 SAY-SURE
	PRINTI "[RIDX: 3547]"
	CALL1 YES? >STACK
	ZERO? STACK \?L3
	CALL1 NO-DETECTION
	RFALSE
?L3:	FSET? ON-TOWER,TOUCHED /?L7
	PRINTI "[RIDX: 3548]"
	PRINTD TLADDER
	PRINTI "[RIDX: 3549]"
	PRINTD CSURFACE
	PRINT PCR
?L7:	RETURN ON-TOWER

	.FUNCT ON-TOWER-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	SET 'P-IT-OBJECT,TLADDER
	PRINTI "[RIDX: 3552]"
	PRINTD GDESERT
	PRINTI "[RIDX: 3553]"
	PRINTD PLATFORM
	PRINTI "[RIDX: 3554]"
	PRINTD GCABLES
	PRINTI " dangle around the "
	PRINTD TLADDER
	PRINTI " that continues "
	PRINT STAIR-DIR
	PRINTR "ward."

	.FUNCT TOWER-FALL
	CALL2 YOUD-FALL-OFF,LANDING
	RFALSE

	.FUNCT ON-TOWER-U
	PRINTI "[RIDX: 3558]"
	PRINTD TLADDER
	PRINT PCR
	RETURN TOWER-PLAT

	.FUNCT ON-TOWER-D
	FSET? AT-ZERO,TOUCHED /?L1
	PRINTI "[RIDX: 3559]"
	PRINTD TLADDER
	PRINTI " and inch "
	PRINTD ME
	PRINTI " downward"
	PRINT PCR
?L1:	RETURN AT-ZERO

	.FUNCT AT-ZERO-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "A steel "
	PRINTD TOWER
	PRINTI "[RIDX: 3565]"
	PRINTD TLADDER
	PRINTI ", past dangling "
	PRINTD TROPES
	PRINTI ", to the "
	PRINTD PLATFORM
	PRINTI "[RIDX: 3568]"
	PRINTD ILINES
	PRINTI "[RIDX: 3569]"
	PRINTD GDESERT
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? CONTEXT,M-ENTERED \FALSE
	SET 'STAIR-DIR,STR?262
	FSET? MEEP,CHILLY \FALSE
	FCLEAR MEEP,CHILLY
	CALL QUEUE,I-TMEEP,-1
	SET 'P-IT-OBJECT,RUBY
	FSET MEEP,SEEN
	MOVE RUBY,BOX
	CRLF
	PRINTI "A familiar "
	PRINTD MEEP
	PRINTI "[RIDX: 3572]"
	PRINTD MEEP
	PRINTR "[RIDX: 3573]"

	.FUNCT AT-ZERO-U
	PRINTI "[RIDX: 3574]"
	PRINTD TLADDER
	PRINTI " and pull "
	PRINTD ME
	PRINTI " upward."
	CRLF
	CALL2 DO-MOVES,1
	CRLF
	RETURN ON-TOWER

	.FUNCT N75-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3579]"
	PRINTD ILINES
	PRINTI "[RIDX: 3580]"
	PRINTD NBUNKERS
	PRINTI " and "
	PRINTD SLIGHT
	PRINTI "s is visible on the "
	PRINTD HORIZON
	PRINT PTHE
	PRINTD PROAD
	PRINTI " continues in that "
	PRINTD INTDIR
	PRINTR "[RIDX: 3584]"

	.FUNCT GO-TO-NBUNKERS
	FSET? NBUNKERS,SEEN \?L1
	CALL1 YOU-MARCH
	PRINTI " towards the "
	PRINTD NBUNKERS
	PRINTI "[RIDX: 3586]"
	PRINTD SHELTER
	PRINTI "[RIDX: 3587]"
	PRINT AGROUND
	PRINTI "[RIDX: 3588]"
	CRLF
	CALL1 HOLD-IT
	CALL1 SURROUNDED
	RFALSE
?L1:	FSET NBUNKERS,SEEN
	CALL2 TAKE-A-MOMENT-TO,NBUNKERS
	RFALSE

	.FUNCT ENTER-JEEP
	FSET? JDOOR,OPENED /?L1
	FSET JDOOR,OPENED
	PRINTI "["
	PRINTD CAVE-HOLE
	PRINTI " the "
	PRINTD JDOOR
	PRINTI " first"
	PRINT BRACKET
?L1:	PRINTI "[RIDX: 3592]"
	PRINT PCR
	RETURN IN-JEEP

	.FUNCT IN-JEEP-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3604]"
	PRINTD FLOOR
	PRINT PERIOD
	RTRUE

	.FUNCT EXIT-JEEP
	FSET? JDOOR,OPENED \?L1
	PRINTI "[RIDX: 3605]"
	PRINT PCR
	RETURN N75
?L1:	CALL2 ITS-CLOSED,JDOOR
	RFALSE

	.FUNCT N50-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "A "
	PRINTD PROAD
	PRINTI "[RIDX: 3609]"
	PRINTD GDESERT
	PRINTI "[RIDX: 3610]"
	PRINTD DTOWER
	PRINT PERIOD
	RTRUE

	.FUNCT N25-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3613]"
	PRINTD ILINES
	PRINTI " follow a "
	PRINTD PROAD
	PRINTI " northwest "
	PRINT INTO-DESERT
	PRINTI ", while a "
	PRINTD DTRAIL
	PRINTI " curves away"
	PRINT TOS
	PRINT PCR
	CALL2 CTHE-PRINT,DTOWER
	PRINTI "[RIDX: 3618]"
	PRINTD TMOUNTS
	PRINT PERIOD
	RTRUE

	.FUNCT NZERO-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL2 CTHE-PRINT,TOWER
	PRINTI " is visible not far"
	PRINT TOS
	PRINTI "[RIDX: 3622]"
	PRINTD GDESERT
	PRINT PERIOD
	RTRUE

	.FUNCT NEZERO-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL2 CTHE-PRINT,TOWER
	PRINTI " on the southwest "
	PRINTD HORIZON
	PRINTI "[RIDX: 3626]"
	PRINTD GDESERT
	PRINT PERIOD
	RTRUE

	.FUNCT EZERO-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3629]"
	PRINTD GDESERT
	PRINTI " lies between the "
	PRINTD TOWER
	PRINT TOW
	PRINTI ", and a range of "
	PRINTD TMOUNTS
	PRINT TOE
	PRINT PERIOD
	RTRUE

	.FUNCT AT-TNT-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3634]"
	PRINTD TCRATER
	PRINTI " in the "
	PRINTD GDESERT
	PRINTI "[RIDX: 3636]"
	PRINTD PROAD
	PRINTI " leads southeast "
	PRINT INTO-DESERT
	PRINTI "[RIDX: 3638]"
	PRINTD DTOWER
	PRINT PERIOD
	RTRUE

	.FUNCT WZERO-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "A tall "
	PRINTD FRAME
	PRINTI "[RIDX: 3642]"
	PRINTD TOWER
	PRINTI " visible not far"
	PRINT TOE
	PRINTI "[RIDX: 3644]"
	PRINTD JUMBO
	PRINTI "[RIDX: 3645]"
	PRINTD DTRAIL
	PRINTR "[RIDX: 3646]"

	.FUNCT W25-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "A "
	PRINTD PROAD
	PRINTI "[RIDX: 3650]"
	PRINTD DTOWER
	PRINTI ", and southwest "
	PRINT INTO-DESERT
	PRINTI ". There's also a "
	PRINTD DTRAIL
	PRINTR " bearing north."

	.FUNCT W50-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL2 CTHE-PRINT,DTOWER
	PRINTI "[RIDX: 3656]"
	PRINTD HORIZON
	PRINT PTHE
	PRINTD RANCH-ROAD
	PRINTI "[RIDX: 3657]"
	PRINT INTO-DESERT
	PRINT PERIOD
	RTRUE

	.FUNCT W75-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "A "
	PRINTD PROAD
	PRINTI "[RIDX: 3661]"
	PRINTD DTRAIL
	PRINTI " peters off"
	PRINT TON
	PRINTR "west."

	.FUNCT W100-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "The military "
	PRINTD BHOUSE
	PRINTI "[RIDX: 3667]"
	PRINTD SLIGHT
	PRINTI "[RIDX: 3668]"
	ZERO? DISTRACTION /?L3
	PRINTI "onto the road"
	JUMP ?L5
?L3:	PRINTI "[RIDX: 3670]"
?L5:	PRINT PERIOD
	RTRUE
?L1:	EQUAL? CONTEXT,M-BEG \?L6
	IN? DOG,W100 \?L6
	EQUAL? PRSA,V?YELL,V?ALARM \?L6
	CALL1 WAKE-DOG
	RTRUE
?L6:	EQUAL? CONTEXT,M-ENTERED \FALSE
	ZERO? DISTRACTION /?L8
	CRLF
	PRINTI "A great, big "
	PRINTD DOG
	PRINTI " is making"
	CALL1 AKC
	CALL1 HOLD-IT
	CALL1 KINDA-SPY
	CALL1 SURROUNDED
	RTRUE
?L8:	IN? FEATHERS,W100 \FALSE
	FSET? FEATHERS,SEEN /FALSE
	FSET FEATHERS,SEEN
	CRLF
	PRINTI "[RIDX: 3673]"
	PRINTD FEATHERS
	PRINTI " lies scattered"
	PRINT AGROUND
	PRINTI "[RIDX: 3675]"
	PRINTD GDESERT
	PRINT PERIOD
	RTRUE

	.FUNCT W100-NW
	PRINTI "[RIDX: 3676]"
	PRINTD BHOUSE
	PRINT PCR
	RETURN D5

	.FUNCT W100-SW
	GRTR? MINUTES,27 \?L1
	CALL2 AIMLESS,D9
	RETURN D9
?L1:	PRINTI "[RIDX: 3677]"
	CRLF
	RFALSE

	.FUNCT S25-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3680]"
	PRINT INTO-DESERT
	PRINT PERIOD
	RTRUE

	.FUNCT S50-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "A "
	PRINTD PROAD
	PRINTI "[RIDX: 3684]"
	PRINTD GDESERT
	PRINT PERIOD
	RTRUE

	.FUNCT S75-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "A "
	PRINTD PROAD
	PRINTI "[RIDX: 3688]"
	PRINTD GDESERT
	PRINTI "[RIDX: 3689]"
	PRINTD DTRAIL
	PRINTI " wanders off"
	PRINT TOS
	PRINTR "east."

	.FUNCT S100-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "[RIDX: 3694]"
	PRINTD SHED
	PRINTI "[RIDX: 3695]"
	PRINTD CORNER
	PRINTI "[RIDX: 3696]"
	PRINTD SBUNK
	PRINTI " immediately"
	PRINT TON
	PRINTI "east. Several "
	PRINTD JEEPS
	LESS? MINUTES,28 \?L3
	PRINTI ", manned by nervous "
	PRINTD GIS
	PRINTI ","
?L3:	PRINTI "[RIDX: 3701]"
	PRINTD SBUNK
	PRINTI "'s open "
	PRINTD SBENTRY
	PRINT PCR
	CALL1 HEAR-SBUNK
	RTRUE
?L1:	EQUAL? CONTEXT,M-ENTERED \?L6
	FSET? SBUNK,TOUCHED /?L6
	FSET SBUNK,TOUCHED
	LESS? MINUTES,15 \FALSE
	CRLF
	PRINTI "[RIDX: 3703]"
	PRINTD SHELTER
	PRINTI "'s "
	PRINTD SBENTRY
	PRINTR "[RIDX: 3705]"
?L6:	EQUAL? CONTEXT,M-ENTERING \FALSE
	PRINTI "You "
	RANDOM 100 >STACK
	LESS? 50,STACK /?L11
	PRINTI "run for cover"
	JUMP ?L13
?L11:	PRINTI "dodge into hiding"
?L13:	PRINTI " at the "
	RANDOM 100 >STACK
	LESS? 50,STACK /?L14
	PRINTI "[RIDX: 3710]"
	JUMP ?L16
?L14:	PRINTI "[RIDX: 3711]"
?L16:	PRINT PCR
	RTRUE

	.FUNCT S100-NE
	PRINTI "[RIDX: 3712]"
	PRINTD SHELTER
	CALL2 BUT-HESITATE,STR?263
	RFALSE

	.FUNCT S100-S
	PRINTI "[RIDX: 3714]"
	CALL2 BUT-HESITATE,STR?264
	RFALSE

	.FUNCT BUT-HESITATE,STR
	PRINTI "[RIDX: 3716]"
	PRINTD GIS
	GRTR? MINUTES,27 \?L1
	PRINTI " in the "
	PRINTD TRENCHES
?L1:	PRINTI " fingering a "
	PRINT STR
	PRINTI "[RIDX: 3719]"
	CALL1 YES? >STACK
	ZERO? STACK \?L4
	CALL1 NO-DETECTION
	RFALSE
?L4:	CRLF
	CALL1 YOU-MARCH
	PRINTI "[RIDX: 3720]"
	EQUAL? STR,STR?263 \?L7
	PRINTI "with the rifle"
	JUMP ?L9
?L7:	PRINTI "[RIDX: 3723]"
?L9:	PRINTI " leaps out of his "
	LESS? MINUTES,28 \?L10
	PRINTD JEEP
	JUMP ?L12
?L10:	PRINTI "trench"
?L12:	PRINTI "[RIDX: 3726]"
	CALL2 ITALICIZE,STR?265
	PRINTI """"
	CRLF
	CALL1 SURROUNDED
	RFALSE

	.FUNCT YOU-MARCH
	PRINTI "You "
	EQUAL? P-PRSA-WORD,W?RUN,W?JOG,W?CRAWL \?L1
	PRINTB P-PRSA-WORD
	RTRUE
?L1:	PRINTI "march confidently"
	RTRUE

	.FUNCT S100-E
	PRINTI "[RIDX: 3731]"
	PRINT PCR
	RETURN D11

	.FUNCT HEAR-SBUNK
	PRINTI "Muted "
	PRINTD VOICES
	PRINTI "[RIDX: 3733]"
	PRINTD SBUNK
	PRINT PERIOD
	RTRUE

	.FUNCT NEPASS-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "A "
	PRINTD PROAD
	PRINTI "[RIDX: 3737]"
	PRINTD GDESERT
	PRINT PERIOD
	RTRUE

	.FUNCT D0-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "Bleak, featureless "
	PRINTD GDESERT
	PRINTI "[RIDX: 3741]"
	PRINTD INTDIR
	PRINT PERIOD
	RTRUE

	.FUNCT D0-S,DEST
	EQUAL? DROOM,N75 \?L1
	SET 'DEST,DROOM
	JUMP ?L3
?L1:	SET 'DEST,D3
?L3:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D0-E,DEST
	EQUAL? DROOM,N75 \?L1
	SET 'DEST,DROOM
	JUMP ?L3
?L1:	SET 'DEST,D1
?L3:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT BORING-DESERT
	CALL2 PICK-NEXT,DESERT-BORES >STACK
	PRINT STACK
	PRINT PERIOD
	RFALSE

	.FUNCT D1-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3749]"
	PRINTD GDESERT
	PRINTR "[RIDX: 3750]"

	.FUNCT D1-SE,DEST
	EQUAL? DROOM,NEZERO,NZERO \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,NZERO
	JUMP ?L4
?L3:	SET 'DEST,NEZERO
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D1-S,DEST
	EQUAL? DROOM,N25,NZERO,N50 \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,NZERO
	JUMP ?L4
?L3:	SET 'DEST,N25
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D1-SW,DEST
	EQUAL? DROOM,N75,N50,N25 \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,N50
	JUMP ?L4
?L3:	SET 'DEST,N25
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D1-W,DEST
	EQUAL? DROOM,N75,N50 \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,N75
	JUMP ?L4
?L3:	SET 'DEST,D0
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D2-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "The trackless "
	PRINTD GDESERT
	PRINTI "[RIDX: 3758]"
	PRINTD FHILLS
	PRINTR " in the east."

	.FUNCT D2-S,DEST
	EQUAL? DROOM,NEZERO /?L3
	RANDOM 100 >STACK
	LESS? 50,STACK /?L1
?L3:	SET 'DEST,NEZERO
	JUMP ?L4
?L1:	SET 'DEST,D6
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D2-SW,DEST
	EQUAL? DROOM,NZERO,NEZERO \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,NZERO
	JUMP ?L4
?L3:	SET 'DEST,NEZERO
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D3-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3764]"
	PRINTD GDESERT
	PRINTR " around you."

	.FUNCT D3-N,DEST
	EQUAL? DROOM,N75,N50 \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,N75
	JUMP ?L4
?L3:	SET 'DEST,D0
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D3-NE,DEST
	EQUAL? DROOM,N50,N75,N25 \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,N50
	JUMP ?L4
?L3:	SET 'DEST,N25
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D3-E,DEST
	EQUAL? DROOM,N25,N50,WZERO \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,N25
	JUMP ?L4
?L3:	SET 'DEST,N50
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D3-SE,DEST
	EQUAL? DROOM,WZERO,W25 \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,WZERO
	JUMP ?L4
?L3:	SET 'DEST,W25
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D5-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "Gray, empty "
	PRINTD GDESERT
	PRINTR "[RIDX: 3773]"

	.FUNCT D5-E,DEST
	EQUAL? DROOM,W75,W50,W25 \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,W50
	JUMP ?L4
?L3:	SET 'DEST,W25
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D5-SE,DEST
	EQUAL? DROOM,W100,W50 \?L1
	SET 'DEST,DROOM
	JUMP ?L3
?L1:	SET 'DEST,W75
?L3:	EQUAL? DEST,W75 \?L4
	RETURN W75
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D5-S,DEST
	EQUAL? DROOM,W100,W75,W50 \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,W75
	JUMP ?L4
?L3:	SET 'DEST,D9
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D6-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3779]"
	PRINTD GDESERT
	PRINTR " wasteland."

	.FUNCT D6-SE
	EQUAL? DROOM,NERANCH,NCIST \?L1
	CALL2 AIMLESS,DROOM
	RETURN DROOM
?L1:	CALL1 FHILLS-TOO-STEEP
	RFALSE

	.FUNCT D6-S,DEST
	EQUAL? DROOM,NERANCH,NCIST,UNDERM /?L3
	EQUAL? DROOM,NWRANCH \?L1
?L3:	SET 'DEST,DROOM
	JUMP ?L5
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L4
	SET 'DEST,D6A
	JUMP ?L5
?L4:	SET 'DEST,NCIST
?L5:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D6-SW,DEST
	EQUAL? DROOM,NERANCH,NWRANCH,NCIST /?L3
	EQUAL? DROOM,UNDERM,EZERO,AT-TNT \?L1
?L3:	SET 'DEST,DROOM
	JUMP ?L5
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L4
	SET 'DEST,NERANCH
	JUMP ?L5
?L4:	SET 'DEST,NCIST
?L5:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D6-W,DEST
	EQUAL? DROOM,AT-TNT,EZERO,NEZERO /?L3
	EQUAL? DROOM,UNDERM,NCIST,SCIST \?L1
?L3:	SET 'DEST,DROOM
	JUMP ?L5
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L4
	SET 'DEST,AT-TNT
	JUMP ?L5
?L4:	SET 'DEST,EZERO
?L5:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D6-NW,DEST
	EQUAL? DROOM,EZERO,NEZERO \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,NEZERO
	JUMP ?L4
?L3:	SET 'DEST,D2
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D6A-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3787]"
	PRINTD TMOUNTS
	PRINTR " in the east."

	.FUNCT D6A-N,DEST
	EQUAL? DROOM,SERANCH,SCIST,UNDERM \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,SCIST
	JUMP ?L4
?L3:	SET 'DEST,D6
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D6A-NE
	EQUAL? DROOM,SCIST \?L1
	CALL2 AIMLESS,DROOM
	RETURN DROOM
?L1:	CALL1 FHILLS-TOO-STEEP
	RFALSE

	.FUNCT D6A-W,DEST
	RANDOM 100 >STACK
	LESS? 50,STACK /?L1
	SET 'DEST,D8
	JUMP ?L3
?L1:	SET 'DEST,D11
?L3:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D6A-NW,DEST
	EQUAL? DROOM,SWRANCH,SERANCH,SCIST /?L3
	EQUAL? DROOM,UNDERM \?L1
?L3:	SET 'DEST,DROOM
	JUMP ?L5
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L4
	SET 'DEST,SEYARD
	JUMP ?L5
?L4:	SET 'DEST,D8
?L5:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D7-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "The distant "
	PRINTD DTOWER
	PRINTI "[RIDX: 3795]"
	PRINTD GDESERT
	PRINTR " expanse."

	.FUNCT D7-N,DEST
	EQUAL? DROOM,W50,W25 \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,W50
	JUMP ?L4
?L3:	SET 'DEST,W25
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D7-NE,DEST
	EQUAL? DROOM,S50,S25 \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,S50
	JUMP ?L4
?L3:	SET 'DEST,S25
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D7-NW,DEST
	EQUAL? DROOM,W25,W50 \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,W25
	JUMP ?L4
?L3:	SET 'DEST,W50
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D7-W,DEST
	EQUAL? DROOM,W75,W50,NEPASS \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,W75
	JUMP ?L4
?L3:	SET 'DEST,W50
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D8-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL2 CTHE-PRINT,GDESERT
	PRINTI "[RIDX: 3803]"
	PRINTD DTOWER
	PRINTR "[RIDX: 3804]"

	.FUNCT D8-N,DEST
	EQUAL? DROOM,AT-TNT,SWRANCH \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,SWRANCH
	JUMP ?L4
?L3:	SET 'DEST,AT-TNT
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D8-NE,DEST
	EQUAL? DROOM,SWRANCH,NWRANCH,AT-TNT /?L3
	EQUAL? DROOM,SERANCH \?L1
?L3:	SET 'DEST,DROOM
	JUMP ?L5
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L4
	SET 'DEST,NWRANCH
	JUMP ?L5
?L4:	SET 'DEST,SWRANCH
?L5:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D8-E,DEST
	EQUAL? DROOM,SWRANCH,NWRANCH \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,SWRANCH
	JUMP ?L4
?L3:	SET 'DEST,D6A
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D8-SE,DEST
	EQUAL? DROOM,SWRANCH \?L1
	SET 'DEST,DROOM
	JUMP ?L3
?L1:	SET 'DEST,D6A
?L3:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D8-SW,DEST
	EQUAL? DROOM,S50,S75 \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,S75
	JUMP ?L4
?L3:	SET 'DEST,S50
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D8-NW,DEST
	EQUAL? DROOM,S50,S25 \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,S25
	JUMP ?L4
?L3:	SET 'DEST,S50
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D9-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL2 CTHE-PRINT,GDESERT
	PRINTR "[RIDX: 3813]"

	.FUNCT D9-N,DEST
	EQUAL? DROOM,W100 \?L1
	SET 'DEST,W100
	JUMP ?L3
?L1:	SET 'DEST,D5
?L3:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D9-NE,DEST
	EQUAL? DROOM,W100,D10 \?L1
	SET 'DEST,DROOM
	JUMP ?L3
?L1:	SET 'DEST,D10
?L3:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D9-E,DEST
	EQUAL? DROOM,W100 \?L1
	SET 'DEST,W100
	JUMP ?L3
?L1:	SET 'DEST,D10
?L3:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D10-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "Empty tracts of "
	PRINTD GDESERT
	PRINTR "[RIDX: 3820]"

	.FUNCT D10-N,DEST
	EQUAL? DROOM,W75,NEPASS \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,W75
	JUMP ?L4
?L3:	SET 'DEST,NEPASS
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D10-SE
	EQUAL? DROOM,S100 /?L3
	RANDOM 100 >STACK
	LESS? 50,STACK /?L1
?L3:	CALL2 AIMLESS,S100
	RETURN S100
?L1:	CALL1 BORING-DESERT
	RFALSE

	.FUNCT D10-NEE,DEST
	EQUAL? DROOM,NEPASS,S75,S100 \?L1
	SET 'DEST,DROOM
	JUMP ?L4
?L1:	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	SET 'DEST,S75
	JUMP ?L4
?L3:	SET 'DEST,NEPASS
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D10-W,DEST
	EQUAL? DROOM,W100 /?L3
	RANDOM 100 >STACK
	LESS? 50,STACK /?L1
?L3:	SET 'DEST,W100
	JUMP ?L4
?L1:	SET 'DEST,D9
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT D11-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3826]"
	PRINTD GDESERT
	PRINT PERIOD
	RTRUE

	.FUNCT D11-NWW,DEST
	EQUAL? DROOM,S100 \?L1
	SET 'DEST,DROOM
	JUMP ?L3
?L1:	SET 'DEST,S75
?L3:	EQUAL? DEST,S75 \?L4
	RETURN DEST
?L4:	CALL2 AIMLESS,DEST
	RETURN DEST

	.FUNCT NWRANCH-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3831]"
	PRINTD CORNER
	PRINTI " of a "
	PRINTD SWALL
	PRINTI ". A"
	CALL OPEN-CLOSED,NWGATE,1
	PRINTI "[RIDX: 3834]"
	PRINTD RANCH
	PRINT PCR
	PRINTI "A "
	PRINTD RANCH-ROAD
	PRINTI " bears northwest "
	PRINT INTO-DESERT
	PRINTR "[RIDX: 3837]"

	.FUNCT NWYARD-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3841]"
	PRINTD RANCH
	PRINTI "[RIDX: 3842]"
	PRINTD SWALL
	PRINT TON
	PRINTI "[RIDX: 3843]"
	PRINTD SHALL
	PRINTI "[RIDX: 3844]"
	CALL OPEN-CLOSED,NROOM-DOOR,1
	PRINT TOE
	PRINTI ", and a"
	CALL OPEN-CLOSED,NWGATE,1
	PRINTI " in the northwest "
	PRINTD CORNER
	PRINTI " of the "
	PRINTD SWALL
	PRINT PERIOD
	RTRUE

	.FUNCT NERANCH-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "A dilapidated "
	PRINTD RANCH
	PRINTI "[RIDX: 3851]"
	PRINTD SWALL
	PRINTI "[RIDX: 3852]"
	PRINTD RESERVOIR
	PRINT PA
	PRINTD RANCH-ROAD
	PRINTI " bends off"
	PRINT TOW
	PRINT PERIOD
	RTRUE

	.FUNCT BROOM-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3856]"
	PRINTD CORNER
	PRINTI ", lighter than the "
	PRINTD FLOOR
	PRINTI "[RIDX: 3858]"
	CALL OPEN-CLOSED,BROOM-DOOR,1
	PRINTI "[RIDX: 3859]"
	PRINTD RANCH
	PRINT PERIOD
	RTRUE

	.FUNCT IN-BATH-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "An old porcelain "
	PRINTD SINK
	PRINTR "[RIDX: 3863]"

	.FUNCT NROOM-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "Aside from a"
	CALL OPEN-CLOSED,NROOM-DOOR,1
	PRINT TOW
	PRINTR "[RIDX: 3867]"

	.FUNCT NWROOM-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTR "[RIDX: 3870]"

	.FUNCT NEROOM-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "[RIDX: 3873]"
	PRINTD AWINDOWS
	PRINTI "[RIDX: 3874]"
	CALL OPEN-CLOSED,NEROOM-DOOR,1
	PRINTI "[RIDX: 3875]"
	FSET? CLOSET-DOOR,OPENED \?L3
	PRINTI "n open "
	PRINTD CLOSET
	JUMP ?L5
?L3:	PRINTI " closed"
?L5:	PRINTR "[RIDX: 3878]"
?L1:	EQUAL? CONTEXT,M-ENTERED \?L6
	FSET? XSNAKE,NODESC \?L6
	FCLEAR XSNAKE,NODESC
	CALL QUEUE,I-SNAKE,-1
	CRLF
	PRINTI "[RIDX: 3879]"
	PRINT PCR
	CALL2 PRINT-ID,STR?266
	CALL1 HEAR-SNAKE
	RTRUE
?L6:	EQUAL? CONTEXT,M-EXIT \FALSE
	FSET? SNAKE,LIVING \FALSE
	FSET SNAKE,SEEN
	PRINTI "[RIDX: 3881]"
	PRINTD SNAKE
	PRINT PCR
	RTRUE

	.FUNCT HEAR-SNAKE
	SET 'P-IT-OBJECT,SNAKE
	PRINTR "[RIDX: 3882]"

	.FUNCT IN-CLOSET-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3886]"
	PRINTD CLOSET
	PRINTI ". Its single "
	FSET? CLOSET-DOOR,OPENED \?L3
	PRINTI "open"
	JUMP ?L5
?L3:	PRINTI "closed"
?L5:	PRINTR "[RIDX: 3890]"

	.FUNCT SWROOM-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "Disconnected "
	PRINTD PIPES
	PRINTI " and an open "
	PRINTD CUPBOARD
	FIRST? CUPBOARD >STACK \?L3
	PRINTI " with "
	CALL2 PRINT-CONTENTS,CUPBOARD
	PRINTI " in it"
?L3:	PRINTI "[RIDX: 3897]"
	CALL OPEN-CLOSED,SWROOM-DOOR,1
	PRINTI "[RIDX: 3898]"
	PRINTD SHALL
	PRINTR "[RIDX: 3899]"

	.FUNCT SEROOM-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3902]"
	PRINTD SEROOM-DOOR
	PRINTI "[RIDX: 3903]"
	FSET? SEROOM-DOOR,OPENED \?L3
	PRINTI "wide open"
	JUMP ?L5
?L3:	PRINTI "closed"
?L5:	PRINTR "[RIDX: 3906]"

	.FUNCT IN-HALL-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "This short "
	PRINTD SHALL
	PRINTI " opens outdoors"
	PRINT TON
	PRINTI " and south. A"
	CALL OPEN-CLOSED,SWROOM-DOOR,1
	PRINTI " leads east into a "
	PRINTD KITCHEN
	PRINTI "[RIDX: 3913]"
	PRINTD ISTAIR
	PRINTR "[RIDX: 3914]"

	.FUNCT ENTER-IHOUSE
	PRINTI "You descend the "
	PRINTD ISTAIR
	PRINT PCR
	RETURN IHOUSE

	.FUNCT IHOUSE-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL1 FEEL-IHOUSE
	PRINTI "[RIDX: 3918]"
	PRINTD ISTAIR
	PRINTR " climbing east."

	.FUNCT FEEL-IHOUSE
	PRINTI "[RIDX: 3920]"
	CALL2 PRINT-ID,STR?267
	RTRUE

	.FUNCT EXIT-IHOUSE
	PRINTI "You trudge up the "
	PRINTD ISTAIR
	PRINT PCR
	RETURN IN-HALL

	.FUNCT SWRANCH-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "The low "
	PRINTD SWALL
	PRINTI "[RIDX: 3926]"
	PRINTD RANCH
	PRINTI "[RIDX: 3927]"
	PRINT TON
	PRINTI " and east, and a"
	CALL OPEN-CLOSED,SWGATE,1
	PRINTR "[RIDX: 3929]"

	.FUNCT ENTER-SHALL
	PRINTI "You step into the "
	PRINTD SHALL
	PRINT PCR
	RETURN IN-HALL

	.FUNCT SEYARD-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3935]"
	PRINTD SWALL
	PRINTI ", near the "
	PRINTD RANCH
	PRINTI "'s southeast "
	PRINTD CORNER
	PRINT PA
	PRINTI "[RIDX: 3938]"
	PRINT TON
	PRINTI ", and a"
	CALL OPEN-CLOSED,SEGATE,1
	PRINTR "[RIDX: 3940]"

	.FUNCT CLIMB-PORCH
	PRINTI "[RIDX: 3941]"
	PRINT PCR
	RETURN ON-PORCH

	.FUNCT SERANCH-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "The low "
	PRINTD SWALL
	PRINTI "[RIDX: 3945]"
	PRINTD RANCH
	PRINTI " has a"
	CALL OPEN-CLOSED,SEGATE,1
	PRINTI "[RIDX: 3947]"
	PRINT TON
	PRINTI "[RIDX: 3948]"
	PRINTD RESERVOIR
	PRINT PERIOD
	RTRUE

	.FUNCT NEYARD-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "There aren't any "
	PRINTD CAVE-HOLE
	PRINTI "s in this "
	PRINTD CORNER
	PRINTI " of the "
	PRINTD SWALL
	PRINT PA
	PRINTI "[RIDX: 3938]"
	PRINT TOS
	PRINTI ", and a"
	CALL OPEN-CLOSED,BROOM-DOOR,1
	PRINTI " leads west"
	PRINT INRANCH
	RTRUE

	.FUNCT SWYARD-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3961]"
	PRINTD CORNER
	PRINTI " of the "
	PRINTD RANCH
	PRINTI ", just inside the "
	PRINTD SWALL
	PRINT PA
	PRINTD SHALL
	PRINTI "[RIDX: 3964]"
	CALL OPEN-CLOSED,SWGATE,1
	PRINTR "[RIDX: 3965]"

	.FUNCT ON-PORCH-F,CONTEXT=0,L=0,R=0,B=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	FSET? LEFT-DOOR,OPENED \?L3
	SET 'L,1
?L3:	FSET? RIGHT-DOOR,OPENED \?L6
	SET 'R,1
?L6:	PRINTI "[RIDX: 3969]"
	PRINT TOE
	PRINTI " side of the "
	PRINTD RANCH
	PRINTI ". Two "
	ZERO? L /?L20
	ZERO? R /?L9
	SET 'B,1
	PRINTI "open "
	JUMP ?L11
?L9:	ZERO? L \?L11
?L20:	ZERO? R \?L11
	SET 'B,1
	PRINTI "closed "
?L11:	PRINTI "doors, "
	ZERO? B \?L13
	CALL2 SAY-A-DOOR,LEFT-DOOR
?L13:	PRINTI "[RIDX: 3975]"
	PRINTD CORNER
	PRINTI " and "
	ZERO? B \?L16
	CALL2 SAY-A-DOOR,RIGHT-DOOR
?L16:	PRINTR "[RIDX: 3977]"

	.FUNCT SAY-A-DOOR,DOOR
	PRINTI "a"
	FSET? DOOR,OPENED \?L1
	PRINTI "n open "
	RTRUE
?L1:	PRINTI " closed "
	RTRUE

	.FUNCT ENTER-RANCH,DEST
	FSET? LEFT-DOOR,OPENED \?L1
	SET 'DEST,SEROOM
	FSET? RIGHT-DOOR,OPENED \?L7
	PRINTI "[RIDX: 3982]"
	CRLF
	RFALSE
?L1:	FSET? RIGHT-DOOR,OPENED \?L6
	SET 'DEST,NEROOM
	JUMP ?L7
?L6:	SET 'P-THEM-OBJECT,RIGHT-DOOR
	PRINTI "[RIDX: 3983]"
	CRLF
	RFALSE
?L7:	PRINTI "You step inside the "
	PRINTD RANCH
	PRINT PCR
	RETURN DEST

	.FUNCT DOWN-RAMP
	PRINTI "You descend the "
	PRINTD RAMP
	PRINT PCR
	RETURN ERANCH

	.FUNCT ON-PORCH-N
	CALL1 CLIMB-OFF-PORCH
	RETURN NEYARD

	.FUNCT ON-PORCH-S
	CALL1 CLIMB-OFF-PORCH
	RETURN SEYARD

	.FUNCT CLIMB-OFF-PORCH
	PRINTI "[RIDX: 3986]"
	PRINT PCR
	RTRUE

	.FUNCT ERANCH-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3989]"
	PRINTD RANCH
	PRINT TOW
	PRINTI ", and a huge cement "
	PRINTD RESERVOIR
	PRINT TOE
	PRINTI "[RIDX: 3991]"
	PRINTD SWALL
	PRINTI "[RIDX: 3992]"
	PRINTD RESERVOIR
	PRINTI "[RIDX: 3993]"
	PRINTD SWALL
	PRINTR "[RIDX: 3994]"

	.FUNCT ASCEND-RAMP
	PRINTI "You ascend the "
	PRINTD RAMP
	PRINT PCR
	RETURN ON-PORCH

	.FUNCT NCIST-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 3998]"
	PRINTD RESERVOIR
	PRINTI "[RIDX: 3999]"
	PRINTD RANCH
	PRINTI "[RIDX: 4000]"
	PRINTD MILL
	PRINT PERIOD
	RTRUE

	.FUNCT UNDERM-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	SET 'P-IT-OBJECT,MLADDER
	PRINTI "A squat wooden "
	PRINTD MILL
	PRINTI "[RIDX: 4004]"
	FSET? BINOS,TOUCHED \?L3
	PRINTI "broken "
	JUMP ?L5
?L3:	PRINTI "square "
?L5:	PRINTD LANDING
	PRINTI " that"
	FSET? BINOS,TOUCHED \?L6
	PRINTI "'s tilted over"
	JUMP ?L8
?L6:	PRINTI " overlooks"
?L8:	PRINTI "[RIDX: 4010]"
	PRINTD RESERVOIR
	PRINTI "[RIDX: 4011]"
	PRINTD MLADDER
	PRINTR "[RIDX: 4012]"

	.FUNCT CLIMB-MILL
	FSET? BINOS,TOUCHED \?L1
	SET 'P-IT-OBJECT,LANDING
	CALL2 CTHE-PRINT,LANDING
	PRINTI "[RIDX: 4013]"
	PRINT CANT
	PRINTI "[RIDX: 4014]"
	CRLF
	RFALSE
?L1:	FSET? IN-MILL,TOUCHED /?L3
	CALL QUEUE,I-MILL,-1
?L3:	CALL2 CTHE-PRINT,MLADDER
	PRINTI "[RIDX: 4016]"
	PRINT PCR
	RETURN IN-MILL

	.FUNCT IN-MILL-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "You're on a square "
	PRINTD LANDING
	PRINTI "[RIDX: 4020]"
	PRINTD MILL
	PRINT PTHE
	PRINTI "[RIDX: 4021]"
	PRINTD MLADDER
	PRINTR " leads downward."

	.FUNCT DOWN-MLADDER
	CALL2 SAY-GROANS,MLADDER
	CRLF
	RETURN UNDERM

	.FUNCT SAY-GROANS,OBJ
	CALL2 CTHE-PRINT,OBJ
	PRINTR "[RIDX: 4023]"

	.FUNCT SCIST-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 4026]"
	PRINTD RESERVOIR
	PRINTI "[RIDX: 4027]"
	PRINTD RANCH
	PRINTI "[RIDX: 4028]"
	PRINTD MILL
	PRINTI ".

A "
	PRINTD CISTAIR
	PRINTI " climbs up to the "
	PRINTD RESERVOIR
	PRINTR "'s edge."

	.FUNCT ENTER-RESERVOIR
	PRINTI "You climb the "
	PRINTD CISTAIR
	PRINT PCR
	RETURN ON-CIST

	.FUNCT ON-CIST-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 4035]"
	PRINTD RESERVOIR
	PRINTR "[RIDX: 4036]"

	.FUNCT RES-FALL
	CALL2 YOUD-FALL-OFF,RESERVOIR
	RFALSE

	.FUNCT INTO-RESERVOIR,L
	IN? CAGE,PLAYER \?L1
	CALL1 DO-DROWN
?L1:	LOC WTK >L
	ZERO? L /?L6
	EQUAL? L,PLAYER /?L7
	IN? L,PLAYER \?L6
?L7:	FSET WTK,CHILLY
?L6:	LOC BAG >L
	ZERO? L /?L11
	EQUAL? L,PLAYER /?L12
	IN? L,PLAYER \?L11
?L12:	MOVE SOGGY,L
	REMOVE BAG
	SET 'APPETITE,0
	SET 'CCNT,0
?L11:	LOC EBAG >L
	ZERO? L /?L16
	EQUAL? L,PLAYER /?L17
	IN? L,PLAYER \?L16
?L17:	MOVE SOGGY,L
	REMOVE EBAG
?L16:	CALL2 ITALICIZE,STR?268
	CRLF
	CRLF
	RETURN IN-CIST

	.FUNCT DOWN-CISTAIR
	PRINTI "You descend the "
	PRINTD CISTAIR
	PRINT PCR
	RETURN SCIST

	.FUNCT ONLY-SOUTH
	PRINTI "The only way out is"
	PRINT TOS
	PRINT PERIOD
	RFALSE

	.FUNCT IN-CIST-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	PRINTI "[RIDX: 4043]"
	PRINTD RESERVOIR
	PRINTR "[RIDX: 4044]"

	.FUNCT EXIT-CIST
	PRINTI "[RIDX: 4045]"
	PRINTD RESERVOIR
	PRINT PCR
	RETURN ON-CIST

	.FUNCT IN-CIST-D
	ZERO? BREATH-HELD? \?L1
	SET 'BREATH-HELD?,4
	CALL QUEUE,I-HOLD-BREATH,-1
	PRINTI "[holding "
	PRINTD BREATH
	PRINTI " first"
	PRINT BRACKET
?L1:	PRINTI "You sink below the "
	PRINTD CSURFACE
	PRINT PCR
	IN? CAGE,PLAYER \?L4
	CALL1 DO-DROWN
?L4:	RETURN UNDER-WATER

	.FUNCT UNDER-WATER-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \?L1
	PRINTI "[RIDX: 4060]"
	PRINTD LAMP
	PRINTR "[RIDX: 4061]"
?L1:	EQUAL? CONTEXT,M-BEG \FALSE
	EQUAL? PRSA,V?SMELL,V?INHALE,V?EXHALE /?L4
	EQUAL? PRSA,V?DRINK,V?EAT,V?TASTE /?L4
	EQUAL? PRSA,V?SUCK \FALSE
?L4:	CALL1 NOT-RECOMMENDED
	RTRUE

	.FUNCT RISE-TO-SURFACE
	ZERO? BREATH-HELD? /?L1
	SET 'BREATH-HELD?,0
	CALL2 DEQUEUE,I-HOLD-BREATH
?L1:	PRINTI "You rise to the "
	PRINTD CSURFACE
	PRINTI ", gasping for air"
	PRINT PCR
	RETURN IN-CIST

	.FUNCT JIGS-UP
	CALL1 CARRIAGE-RETURNS
	SET 'IN-DORY?,0
	SET 'HERE,DEATH
	MOVE PLAYER,HERE
	SET 'LIT?,1
	SET 'VERBOSITY,1
	CALL1 DISPLAY-PLACE
	CALL1 V-LOOK
	CALL1 FINISH >STACK
	RSTACK

	.FUNCT DEATH-F,CONTEXT=0
	EQUAL? CONTEXT,M-LOOK \FALSE
	CALL1 DESCRIBE-DOCKSIDE
	CALL1 DORY-APPEARS
	CALL1 MAKE-OUT-CHARON
	CRLF
	CALL1 SOUNDLESS-LANDING
	PRINTI "[RIDX: 4066]"
	CALL2 GOT?,BCOIN >STACK
	ZERO? STACK /?L3
	PRINTI "your "
	PRINTD BCOIN
	JUMP ?L5
?L3:	PRINTI "a "
	PRINTD BCOIN
	PRINTI "[RIDX: 4069]"
?L5:	PRINTI "[RIDX: 4070]"
	PRINTD OPSHORE
	PRINT PERIOD
	RTRUE

	.FUNCT FINISH,X
	CRLF
	CALL1 V-SCORE
	CRLF
	PRINTI "[RIDX: 4072]"
	CRLF
	CRLF
?L1:	PRINTI "[RIDX: 4073]"
	READ P-INBUF,P-LEXV
	GET P-LEXV,1 >X
	EQUAL? X,W?RESTART \?L3
	RESTART
?L3:	EQUAL? X,W?RESTORE \?L5
	RESTORE >X
	CALL2 FAILED,STR?51
	JUMP ?L1
?L5:	EQUAL? X,W?Q,W?QUIT \?L1
	CRLF
	QUIT

	.FUNCT GTRINITY-F
	EQUAL? PRSA,V?PLAY,V?READ \?L1
	CALL1 ALREADY-DOING-THAT
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE \?L3
	CALL1 V-LOOK
	RTRUE
?L3:	CALL1 USELESS
	RETURN 2

	.FUNCT GENERIC-LONDON-F,TBL
	RETURN LCITY

	.FUNCT LONDON-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?WATCH /?L3
	EQUAL? PRSA,V?LOOK,V?SEARCH,V?LOOK-ON \?L1
?L3:	PRINTI "[RIDX: 4136]"
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?LOOK-BEHIND,V?LOOK-UNDER,V?LOOK-OUTSIDE \?L4
	CALL1 CANT-SEE-MUCH
	RTRUE
?L4:	CALL1 HERE-F >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT PATH-F
	FSET? HERE,INDOORS \?L1
	CALL1 V-WALK-AROUND
	RETURN 2
?L1:	EQUAL? PRSA,V?LOOK-DOWN,V?LOOK-UP,V?LOOK-BEHIND /?L6
	EQUAL? PRSA,V?LOOK-OUTSIDE \?L5
?L6:	CALL1 CANT-SEE-MUCH
	RTRUE
?L5:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH /?L8
	EQUAL? PRSA,V?COUNT \?L7
?L8:	CALL1 V-LOOK
	RTRUE
?L7:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L11
	CALL1 EXITING? >STACK
	ZERO? STACK \?L11
	EQUAL? PRSA,V?FOLLOW,V?CROSS,V?STAND-ON /?L11
	EQUAL? PRSA,V?CLIMB-OVER,V?CLIMB-UP,V?CLIMB-DOWN /?L11
	EQUAL? PRSA,V?TAKE,V?USE,V?RIDE \?L9
?L11:	CALL1 V-WALK-AROUND
	RTRUE
?L9:	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL PERFORM,V?DROP,PRSO
	RTRUE

	.FUNCT METEOR-F
	FSET? METEOR,NOALL \?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	FSET? METEOR,SEEN \?L5
	PRINT CANT
	PRINTI "see it anymore."
	CRLF
	RETURN 2
?L5:	EQUAL? PRSA,V?EXAMINE,V?WATCH,V?WALK-TO /?L9
	EQUAL? PRSA,V?FOLLOW,V?FIND \?L8
?L9:	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 4141]"
?L8:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT SKY-F
	FSET? HERE,INDOORS \?L1
	CALL2 CANT-SEE-FROM-HERE,SKY
	RETURN 2
?L1:	EQUAL? HERE,IN-ORBIT,ON-SAT \?L5
	CALL1 STARS-F >STACK
	ZERO? STACK /FALSE
	RTRUE
?L5:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L10
	IN? METEOR,GLOBAL-OBJECTS \?L12
	CALL PERFORM,V?EXAMINE,METEOR
	RTRUE
?L12:	CALL2 CTHE-PRINT,SKY
	PRINTI " is "
	FSET? HERE,CHILLY \?L15
	PRINTR "gray and overcast."
?L15:	FSET? HERE,DESERT /?L18
	EQUAL? HERE,IN-JEEP \?L17
?L18:	PRINTR "[RIDX: 4145]"
?L17:	PRINTR "[RIDX: 4146]"
?L10:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L21
	CALL1 ENTERING? >STACK
	ZERO? STACK /FALSE
?L21:	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT BREEZE-F
	FSET? HERE,INDOORS \?L1
	PRINT DONT
	PRINTI "feel any"
	PRINT AT-MOMENT
	CRLF
	RETURN 2
?L1:	INTBL? PRSA,SEEVERBS,NSVERBS >STACK \?L5
	PRINTR "It's transparent."
?L5:	EQUAL? PRSA,V?TOUCH,V?REACH-IN,V?LISTEN \?L6
	PRINTI "It whi"
	EQUAL? HERE,IN-SKY,ON-BIRD \?L7
	PRINTI "ps past"
	JUMP ?L9
?L7:	PRINTI "spers in"
?L9:	PRINTR " your ears."
?L6:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L11
	CALL1 EXITING? >STACK
	ZERO? STACK /?L10
?L11:	CALL1 V-WALK-AROUND
	RTRUE
?L10:	EQUAL? PRSA,V?SMELL,V?INHALE \?L12
	CALL PERFORM,V?SMELL,ROOMS
	RTRUE
?L12:	CALL2 YOU-DONT-NEED,BREEZE
	RETURN 2

	.FUNCT HORIZON-F
	FSET? HERE,INDOORS \?L1
	PRINT CANT
	PRINTI "see that from here."
	CRLF
	RETURN 2
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH /?L6
	EQUAL? PRSA,V?LOOK-INSIDE,V?WATCH \?L5
?L6:	CALL1 CANT-SEE-MUCH
	RTRUE
?L5:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L8
	CALL1 EXITING? >STACK
	ZERO? STACK /?L7
?L8:	CALL1 V-WALK-AROUND
	RTRUE
?L7:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT SUN-F
	FSET? HERE,INDOORS \?L1
	CALL2 CANT-SEE-FROM-HERE,SUN
	RETURN 2
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE \?L5
	CALL2 CTHE-PRINT,SUN
	FSET? HERE,SHADOWY \?L6
	PRINTI "[RIDX: 4158]"
	GET SHDIRS,2 >STACK
	PRINT STACK
	PRINTR "ern sky."
?L6:	FSET? HERE,DESERT /?L10
	EQUAL? HERE,NSAND,WSAND,ESAND /?L10
	EQUAL? HERE,SSAND,AT-SDOORS,IN-ORBIT /?L10
	EQUAL? HERE,ON-SAT,IN-SHACK,TOWER-PLAT /?L10
	EQUAL? HERE,ON-TOWER,ON-CIST,IN-CIST /?L10
	EQUAL? HERE,IN-MILL \?L8
?L10:	PRINTI " is still below the "
	PRINTD HORIZON
	PRINT PERIOD
	RTRUE
?L8:	FSET? HERE,CHILLY \?L11
	PRINTR "[RIDX: 4161]"
?L11:	PRINTR " is warm and bright."
?L5:	EQUAL? PRSA,V?TOUCH \?L13
	EQUAL? P-PRSA-WORD,W?FEEL \?L13
	PRINTR "It feels warm."
?L13:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L15
	CALL1 ENTERING? >STACK
	ZERO? STACK /FALSE
?L15:	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT GARDENS-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH /?L3
	EQUAL? PRSA,V?LOOK \?L1
?L3:	CALL1 V-LOOK
	RTRUE
?L1:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L4
	CALL1 ALREADY-IN
	RTRUE
?L4:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	EQUAL? HERE,LION-GATE,LAN-GATE,PAL-GATE /?L8
	EQUAL? HERE,AT-TERRACE \?L6
?L8:	CALL2 DO-WALK,P?OUT
	RTRUE
?L6:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT WRISTWATCH-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L1:	EQUAL? PRSA,V?READ,V?LOOK-ON,V?EXAMINE /?L7
	EQUAL? PRSA,V?USE \?L6
?L7:	PRINTI "Your "
	PRINTD WRISTWATCH
	FSET? HERE,SHADOWY \?L8
	PRINTR "[RIDX: 4167]"
?L8:	CALL1 TELL-TIME
	ZERO? FREEZE? /TRUE
	CRLF
	PRINTR "[RIDX: 4168]"
?L6:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?ADJUST \?L14
	CALL1 FORGOT-HOW
	RTRUE
?L14:	EQUAL? PRSA,V?TURN-TO,V?TUNE-TO \?L15
	EQUAL? PRSI,INTNUM,INTDIR \?L16
	CALL1 FORGOT-HOW
	RTRUE
?L16:	CALL1 IMPOSSIBLE
	RTRUE
?L15:	EQUAL? PRSA,V?CLOSE \FALSE
	CALL2 ITS-ALREADY,STR?71
	RTRUE

	.FUNCT FORGOT-HOW
	PRINTI "[RIDX: 4170]"
	PRINTD PRSO
	PRINTR " long ago."

	.FUNCT COIN-F
	CALL2 ADJ-USED?,W?THIRTY >STACK
	ZERO? STACK /?L1
	CALL2 CTHE-PRINT,COIN
	PRINTI "[RIDX: 4173]"
	CRLF
	RETURN 2
?L1:	CALL2 HANDLE-COIN?,STR?269 >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT HANDLE-COIN?,STR=0
	ZERO? STR /?L1
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L1
	PRINTI "[RIDX: 4176]"
	PRINT STR
	PRINTI " pence"
	FSET? PRSO,FLIPPED \?L3
	PRINTI "[RIDX: 4178]"
?L3:	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?TURN \FALSE
	EQUAL? PRSI,0,HANDS \FALSE
	EQUAL? P-PRSA-WORD,W?FLIP \FALSE
	CALL2 DONT-HAVE?,PRSO >STACK
	ZERO? STACK \TRUE
	RANDOM 100 >STACK
	LESS? 50,STACK /?L9
	PRINTR "Heads."
?L9:	PRINTR "Tails."

	.FUNCT SCOIN-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?TAKE \?L3
	FSET? SCOIN,TOUCHED /?L3
	SET 'LAYAWAY,3
	RFALSE
?L3:	CALL2 HANDLE-COIN?,STR?270 >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT CREDIT-CARD-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \FALSE
	CALL1 CTHE-PRINT
	PRINTI " is embossed "
	FSET? PRSO,FLIPPED \?L3
	PRINTI "(backwards) "
?L3:	PRINTR "[RIDX: 4186]"

	.FUNCT PIGEONS-F
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L1
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 4188]"
?L1:	CALL1 FEED-THE-BIRDS? >STACK
	ZERO? STACK \TRUE
	EQUAL? PRSA,V?LISTEN \?L4
	CALL1 CTHE-PRINT
	PRINTR " coo incessantly."
?L4:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L5
	CALL2 CTHE-PRINT,PIGEONS
	PRINTI " coo in reply."
	CRLF
	RETURN 2
?L5:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L9
	CALL1 ENTERING? >STACK
	ZERO? STACK /FALSE
?L9:	CALL2 CTHE-PRINT,PIGEONS
	PRINTR " deftly avoid you."

	.FUNCT FEED-THE-BIRDS?
	ZERO? NOW-PRSI? /FALSE
	EQUAL? PRSA,V?GIVE,V?FEED \?L3
	EQUAL? PRSO,BAG \?L4
	CALL1 TAKE-CRUMBS
	RTRUE
?L4:	CALL NOT-LIKELY,PRSI,STR?271
	RTRUE
?L3:	EQUAL? PRSA,V?THROW,V?THROW-OVER \?L7
	EQUAL? PRSO,BAG \?L7
	ZERO? CCNT /?L7
	CALL1 TAKE-CRUMBS
	RTRUE
?L7:	EQUAL? PRSA,V?SHOW \FALSE
	CALL1 CTHEI-PRINT
	EQUAL? PRSO,BAG \?L9
	EQUAL? PRSI,PIGEONS \?L11
	PRINTI " strut"
	JUMP ?L13
?L11:	PRINTI " swim"
?L13:	PRINTI "[RIDX: 4195]"
	JUMP ?L14
?L9:	PRINTI "[RIDX: 4196]"
?L14:	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT FLWALK-F
	EQUAL? HERE,PAL-GATE,FLOWER-WALK /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	XCALL HANDLE-PLACE?,FLOWER-WALK,0,0,0,PAL-GATE >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT PGATE-F
	EQUAL? HERE,PAL-GATE /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	CALL1 HANDLE-GATES? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT GENERIC-GATE-F,TBL
	EQUAL? P-IT-OBJECT,BLGATE,PGATE,LGATE \?L1
	RETURN P-IT-OBJECT
?L1:	EQUAL? HERE,LION-GATE \?L3
	RETURN BLGATE
?L3:	EQUAL? HERE,PAL-GATE \?L4
	RETURN PGATE
?L4:	EQUAL? HERE,LAN-GATE \?L5
	RETURN LGATE
?L5:	CALL1 CANT-SEE-ANY
	RETURN NOT-HERE-OBJECT

	.FUNCT BLGATE-F
	EQUAL? HERE,LION-GATE /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	CALL1 HANDLE-GATES? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT LGATE-F
	EQUAL? HERE,LAN-GATE /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	CALL1 HANDLE-GATES? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT HANDLE-GATES?
	ZERO? NOW-PRSI? \FALSE
	CALL1 ENTERING? >STACK
	ZERO? STACK \?L4
	CALL1 EXITING? >STACK
	ZERO? STACK \?L4
	EQUAL? PRSA,V?CROSS \?L3
?L4:	CALL2 DO-WALK,P?OUT
	RTRUE
?L3:	EQUAL? PRSA,V?CLIMB-OVER,V?CLIMB-ON,V?CLIMB-UP /?L6
	EQUAL? PRSA,V?LEAP \?L5
?L6:	CALL1 TOURISTS-SNICKER
	RTRUE
?L5:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH \?L7
	CALL2 ITS-ALREADY,STR?70
	RTRUE
?L7:	EQUAL? PRSA,V?LOOK-INSIDE \?L8
	CALL1 V-LOOK
	RTRUE
?L8:	EQUAL? PRSA,V?EXAMINE,V?LOOK-OUTSIDE,V?WATCH \?L9
	CALL1 DESCRIBE-GATE
	RTRUE
?L9:	EQUAL? PRSA,V?CLOSE \FALSE
	PRINT CANT
	PRINTI "do that. "
	CALL1 DESCRIBE-GATE
	RTRUE

	.FUNCT DESCRIBE-GATE
	PRINTI "[RIDX: 4203]"
	CALL1 SAY-TOURISTS
	PRINT PERIOD
	RTRUE

	.FUNCT TOURISTS-SNICKER
	PRINTI "Passersby "
	ZERO? RAID? \?L1
	PRINTI "snicker at"
	JUMP ?L3
?L1:	PRINTI "ignore"
?L3:	PRINTR "[RIDX: 4207]"

	.FUNCT IFENCE-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?THROW-OVER \FALSE
	CALL1 WASTE-OF-TIME
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE \?L6
	CALL1 CTHE-PRINT
	PRINTR " is quite high."
?L6:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-BEHIND,V?LOOK-OUTSIDE \?L7
	CALL1 CANT-SEE-MUCH
	RTRUE
?L7:	EQUAL? PRSA,V?CLIMB-OVER,V?CLIMB-ON,V?LEAP /?L9
	EQUAL? PRSA,V?THROUGH \?L8
?L9:	CALL1 TOURISTS-SNICKER
	RTRUE
?L8:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL NOT-IN,PRSO,1
	RTRUE

	.FUNCT GENERIC-WALK-F,TBL
	EQUAL? P-IT-OBJECT,FLWALK,LNWALK,BWALK \?L1
	RETURN P-IT-OBJECT
?L1:	EQUAL? HERE,LAN-WALK,LAN-GATE \?L3
	RETURN LNWALK
?L3:	EQUAL? HERE,FLOWER-WALK \?L4
	RETURN FLWALK
?L4:	EQUAL? HERE,BROAD-WALK,PAL-GATE,LION-GATE \?L5
	RETURN BWALK
?L5:	RETURN PATH

	.FUNCT LNWALK-F
	EQUAL? HERE,LAN-WALK,LAN-GATE,FLOWER-WALK /?L1
	EQUAL? HERE,ROUND-POND /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	XCALL HANDLE-PLACE?,LAN-WALK,LAN-GATE,LONG-WATER,FLOWER-WALK,ROUND-POND >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT TERRACE-F
	EQUAL? HERE,AT-TERRACE /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	CALL1 HERE-F >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT GENERIC-WATER-F,TBL
	EQUAL? P-IT-OBJECT,RPOND,GRPOND,LWATER \?L1
	RETURN P-IT-OBJECT
?L1:	EQUAL? HERE,ROUND-POND \?L3
	RETURN RPOND
?L3:	EQUAL? HERE,LAN-WALK,LONG-WATER,IN-WATER /?L5
	EQUAL? W?LONG,P-ADJ,P-XADJ \?L4
?L5:	RETURN LWATER
?L4:	EQUAL? HERE,BROAD-WALK /?L7
	EQUAL? W?ROUND,P-ADJ,P-XADJ \?L6
?L7:	RETURN GRPOND
?L6:	CALL1 REFERRING
	RETURN NOT-HERE-OBJECT

	.FUNCT LWATER-F
	EQUAL? PRSA,V?FIND \?L1
	EQUAL? HERE,LONG-WATER,IN-WATER \?L3
	CALL1 ITS-RIGHT-HERE
	RTRUE
?L3:	EQUAL? HERE,LAN-WALK \?L5
	CALL1 SEE-IT-SPARKLE
	RTRUE
?L5:	CALL1 V-WALK-AROUND
	RTRUE
?L1:	EQUAL? HERE,LAN-WALK,IN-WATER,LONG-WATER /?L7
	CALL1 CANT-SEE-ANY
	RETURN 2
?L7:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L10
	EQUAL? HERE,LONG-WATER \?L11
	CALL1 OPAQUE-WATER
	RTRUE
?L11:	EQUAL? HERE,IN-WATER \?L13
	CALL1 V-LOOK
	RTRUE
?L13:	EQUAL? HERE,LAN-WALK \?L14
	CALL1 SEE-IT-SPARKLE
	RTRUE
?L14:	CALL2 CANT-SEE-FROM-HERE,LWATER
	RTRUE
?L10:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-UNDER,V?SEARCH \?L16
	EQUAL? HERE,LONG-WATER,IN-WATER \?L17
	CALL1 OPAQUE-WATER
	RTRUE
?L17:	CALL2 CANT-SEE-FROM-HERE,LWATER
	RTRUE
?L16:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L20
	EQUAL? HERE,LONG-WATER,LAN-WALK \?L21
	CALL2 DO-WALK,P?EAST
	RTRUE
?L21:	EQUAL? HERE,IN-WATER \?L23
	CALL1 ALREADY-IN
	RTRUE
?L23:	CALL1 V-WALK-AROUND
	RTRUE
?L20:	CALL1 EXITING? >STACK
	ZERO? STACK /?L25
	EQUAL? HERE,IN-WATER \?L26
	CALL2 DO-WALK,P?WEST
	RTRUE
?L26:	CALL1 NOT-IN
	RTRUE
?L25:	EQUAL? HERE,LONG-WATER,IN-WATER /?L29
	CALL1 CANT-FROM-HERE
	RTRUE
?L29:	EQUAL? PRSA,V?SWIM,V?DIVE,V?LEAP /?L31
	EQUAL? PRSA,V?CLIMB-DOWN,V?STAND-UNDER \?L30
?L31:	EQUAL? HERE,LONG-WATER \?L32
	PUSH P?EAST
	JUMP ?L34
?L32:	PUSH P?DOWN
?L34:	CALL2 DO-WALK,STACK
	RTRUE
?L30:	CALL1 HANDLE-WATER? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT SEE-IT-SPARKLE
	PRINTI "[RIDX: 4213]"
	CALL2 TWEEN-TREES,0
	PRINT TOE
	PRINT PERIOD
	RTRUE

	.FUNCT GRPOND-F
	EQUAL? PRSA,V?FIND \?L1
	EQUAL? HERE,BROAD-WALK \?L3
	PRINT YOU-SEE
	PRINTI "it"
	PRINT TOE
	PRINT PERIOD
	RTRUE
?L3:	CALL1 V-WALK-AROUND
	RTRUE
?L1:	EQUAL? HERE,BROAD-WALK,LAN-WALK,LAN-GATE /?L6
	EQUAL? HERE,AT-TERRACE,LION-GATE,WABE /?L6
	CALL1 CANT-SEE-ANY
	RETURN 2
?L6:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L9
	EQUAL? HERE,BROAD-WALK \?L10
	PUSH P?EAST
	JUMP ?L16
?L10:	EQUAL? HERE,LAN-WALK \?L12
	PUSH P?WEST
	JUMP ?L16
?L12:	EQUAL? HERE,AT-TERRACE \?L13
	PUSH P?SOUTH
	JUMP ?L16
?L13:	EQUAL? HERE,WABE \?L14
	PUSH P?NORTH
	JUMP ?L16
?L14:	EQUAL? HERE,LION-GATE \?L15
	PUSH P?SE
	JUMP ?L16
?L15:	PUSH P?SW
?L16:	CALL2 DO-WALK,STACK
	RTRUE
?L9:	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT RPOND-F
	EQUAL? PRSA,V?EXAMINE \?L1
	PRINTI "[RIDX: 4217]"
	ZERO? RAID? /?L3
	PRINTD GDESERT
	PRINTI "ed "
?L3:	PRINTD BOAT
	PRINTI " of the "
	PRINTD CHILDREN
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?LOOK-ON,V?LOOK-INSIDE,V?SEARCH \?L6
	PRINTI "[RIDX: 4220]"
	CALL2 PRINT-CONTENTS,PRSO
	PRINTI " on the "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L6:	EQUAL? PRSA,V?DRINK,V?DRINK-FROM,V?TASTE \?L7
	PRINTI "The sight of a "
	ZERO? RAID? /?L8
	PRINTI "frightened "
?L8:	PRINTI "[RIDX: 4224]"
	PRINT CHANGES
	RTRUE
?L7:	CALL1 GETTING-INTO? >STACK
	ZERO? STACK \?L12
	EQUAL? PRSA,V?SWIM,V?DIVE \?L11
?L12:	CALL2 DO-WALK,P?IN
	RTRUE
?L11:	CALL1 HANDLE-WATER? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT HANDLE-WATER?
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?TAKE,V?PUSH-TO /FALSE
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \?L5
	EQUAL? PRSO,BALL,CRANE /?L8
	EQUAL? PRSO,PARASOL \?L6
	FSET? PRSO,OPENED \?L6
?L8:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 4225]"
	PRINT IF-YOU-DID
	RTRUE
?L6:	CALL1 VANISH
	CALL1 CTHE-PRINT
	EQUAL? PRSO,OCRANE,BAD-CRANE \?L10
	PRINTI " floats away "
	JUMP ?L12
?L10:	PRINTI " disappears "
?L12:	CALL1 SAY-IN-WATER
	RTRUE
?L5:	EQUAL? PRSA,V?FILL /?L14
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
?L14:	CALL1 SPLASHES
	RTRUE
?L1:	EQUAL? PRSA,V?LOOK-UNDER \?L16
	CALL1 OPAQUE-WATER
	RTRUE
?L16:	CALL1 EXITING? >STACK
	ZERO? STACK /?L17
	CALL1 NOT-IN
	RTRUE
?L17:	EQUAL? PRSA,V?CLOSE,V?OPEN,V?OPEN-WITH \?L18
	CALL1 IMPOSSIBLE
	RTRUE
?L18:	EQUAL? PRSA,V?DRINK,V?DRINK-FROM \?L19
	CALL1 CTHE-PRINT
	CALL1 ISNT-ARENT
	PRINTI "very clean."
	CRLF
	CALL2 PRINT-ID,STR?272
	RTRUE
?L19:	EQUAL? PRSA,V?EAT,V?BITE \?L20
	CALL2 PRINT-ID,STR?273
	CALL1 IMPOSSIBLE
	RTRUE
?L20:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 SPLASHES
	RTRUE

	.FUNCT OPAQUE-WATER
	PRINTI "Little can be seen "
	CALL1 SAY-IN-WATER
	RTRUE

	.FUNCT SAY-IN-WATER
	PRINTR "in the dark water."

	.FUNCT CRANE-F
	FSET CRANE,SEEN
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	CALL1 CTHE-PRINT
	PRINTI " is "
	FSET? PRSO,LIGHTED \?L4
	PRINTR "twinkling."
?L4:	PRINTI "[RIDX: 4237]"
	PRINTD OCRANE
	PRINTR "[RIDX: 4238]"
?L3:	EQUAL? PRSA,V?READ,V?LOOK-ON,V?LOOK-INSIDE /?L8
	EQUAL? PRSA,V?SEARCH \?L7
?L8:	CALL YOUD-HAVE-TO,STR?274,PRSO
	RTRUE
?L7:	EQUAL? PRSA,V?UNFOLD,V?OPEN,V?OPEN-WITH \?L9
	EQUAL? PRSA,V?OPEN-WITH \?L10
	EQUAL? PRSI,HANDS /?L10
	PRINT DONT
	PRINTI "need "
	CALL1 THEI-PRINT
	PRINTR " to do that."
?L10:	IN? PRSO,PLAYER /?L12
	CALL YOUD-HAVE-TO,STR?240,PRSO
	RTRUE
?L12:	CALL1 CRANE-LIT? >STACK
	ZERO? STACK \TRUE
	MOVE OCRANE,PLAYER
	REMOVE PRSO
	SET 'P-IT-OBJECT,OCRANE
	PRINTI "You gently "
	PRINTB P-PRSA-WORD
	PRINTI " the "
	PRINTD PRSO
	PRINTR " to its full size."
?L9:	EQUAL? PRSA,V?FOLD,V?CLOSE \?L15
	CALL2 ITS-ALREADY,STR?275
	RTRUE
?L15:	EQUAL? PRSA,V?CUT,V?RIP,V?MUNG /?L17
	EQUAL? PRSA,V?WRAP-AROUND \?L16
?L17:	CALL2 PRINT-ID,STR?276
	CALL1 RUIN-LOVELY-CRANE
	RTRUE
?L16:	EQUAL? PRSA,V?MUNG,V?HIT,V?SQUEEZE /?L19
	EQUAL? PRSA,V?KICK,V?SHAKE \?L18
?L19:	CALL1 CRANE-LIT? >STACK
	ZERO? STACK \TRUE
	LOC PRSO >STACK
	MOVE BAD-CRANE,STACK
	REMOVE PRSO
	SET 'P-IT-OBJECT,BAD-CRANE
	PRINTI "[RIDX: 4248]"
	PRINTD BAD-CRANE
	PRINT PERIOD
	CALL2 PRINT-ID,STR?277
	RTRUE
?L18:	EQUAL? PRSA,V?WATCH \?L23
	FSET? PRSO,LIGHTED \?L23
	FCLEAR PRSO,CHILLY
	CALL2 I-NEWCRANE,0
	RTRUE
?L23:	EQUAL? PRSA,V?TAKE \FALSE
	FSET? PRSO,TOUCHED /FALSE
	CALL1 ITAKE >STACK
	ZERO? STACK /TRUE
	PRINTI "[RIDX: 4250]"
	PRINTD RPOND
	PRINTI ", and pluck the "
	PRINTD PRSO
	PRINTI " out of the water."
	CRLF
	CALL2 UPDATE-SCORE,3
	RTRUE

	.FUNCT RUIN-LOVELY-CRANE
	PRINTI "And ruin the lovely "
	PRINTD PRSO
	PRINTR "? Unthinkable."

	.FUNCT HANDLE-OPEN-BIRD?
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?READ,V?LOOK-ON,V?EXAMINE /?L4
	EQUAL? PRSA,V?LOOK-INSIDE \?L3
?L4:	PRINTI "The words """
	FSET? PRSO,FLIPPED \?L5
	PRINTI "[RIDX: 4260]"
	JUMP ?L7
?L5:	PRINTI "[RIDX: 4261]"
?L7:	PRINTI "[RIDX: 4262]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?WRAP-AROUND \?L8
	EQUAL? PRSI,PRSO \?L9
	GET P-NAMW,1 >STACK
	EQUAL? STACK,W?BIRD,W?CRANE,W?ORIGAMI /?L11
?L11:	CALL1 FUMBLE
	RTRUE
?L9:	CALL1 WASTE-OF-TIME
	RTRUE
?L8:	EQUAL? PRSA,V?MUNG,V?HIT,V?SQUEEZE /?L14
	EQUAL? PRSA,V?CUT,V?RIP,V?KICK /?L14
	EQUAL? PRSA,V?SHAKE \?L13
?L14:	EQUAL? PRSO,OCRANE \?L15
	CALL2 PRINT-ID,STR?278
	CALL1 RUIN-LOVELY-CRANE
	RTRUE
?L15:	CALL1 WASTE-OF-TIME
	RTRUE
?L13:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?UNFOLD \?L18
	CALL2 ITS-ALREADY,STR?279
	RTRUE
?L18:	EQUAL? PRSA,V?FOLD,V?REPAIR,V?CLOSE \FALSE
	CALL1 FUMBLE
	RTRUE

	.FUNCT FUMBLE
	PRINTI "[RIDX: 4265]"
	PRINTB P-PRSA-WORD
	PRINTR "[RIDX: 4266]"

	.FUNCT POND-BIRDS-F
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L1
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 4268]"
?L1:	CALL1 FEED-THE-BIRDS? >STACK
	ZERO? STACK \TRUE
	EQUAL? PRSA,V?LISTEN \?L4
	CALL1 CTHE-PRINT
	PRINTR " honk incessantly."
?L4:	ZERO? NOW-PRSI? \?L5
	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L5
	CALL2 CTHE-PRINT,POND-BIRDS
	PRINTI " honk in reply."
	CRLF
	RETURN 2
?L5:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL2 CTHE-PRINT,POND-BIRDS
	PRINTR "[RIDX: 4271]"

	.FUNCT BOAT-F
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L1
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 4273]"
	PRINTD POND-BIRDS
	PRINTR "[RIDX: 4274]"
?L1:	EQUAL? PRSA,V?SWIM,V?DIVE,V?WALK-TO /?L4
	EQUAL? PRSA,V?FOLLOW,V?SIT,V?LIE-DOWN /?L4
	EQUAL? PRSA,V?ENTER \?L3
?L4:	CALL2 DO-WALK,P?IN
	RTRUE
?L3:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL2 CTHE-PRINT,BOAT
	PRINTR "[RIDX: 4275]"

	.FUNCT DESCRIBE-DIAL,CONTEXT
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "[RIDX: 4278]"
	PRINTD DIAL
	PRINTI "[RIDX: 4279]"
	PRINTD CLEARING
	CALL2 LOOK-AT-DIAL,DIAL
	RTRUE

	.FUNCT DIAL-F
	CALL NOUN-USED?,W?SUNLIGHT,W?LIGHT >STACK
	ZERO? STACK /?L1
	CALL1 SUN-F >STACK
	ZERO? STACK \TRUE
	CALL1 USELESS
	RTRUE
?L1:	CALL2 NOUN-USED?,W?SHAFT >STACK
	ZERO? STACK \?L7
	CALL2 ADJ-USED?,W?GOLDEN >STACK
	ZERO? STACK /?L6
?L7:	CALL1 USELESS
	RTRUE
?L6:	CALL2 HANDLE-DIAL?,DIAL >STACK
	RSTACK

	.FUNCT LOOK-AT-DIAL,D,ANY=0,H=0
	CALL2 SEE-ANYTHING-IN?,D >STACK
	ZERO? STACK /?L1
	SET 'ANY,1
?L1:	IN? GNOMON,D \?L6
	FSET? GNOMON,NODESC /?L4
?L6:	SET 'H,1
?L4:	ZERO? ANY \?L10
	ZERO? H /?L8
?L10:	PRINTI ". "
	PRINT YOU-SEE
	ZERO? H /?L13
	CALL2 PRINTA,DIAL-HOLE
	ZERO? ANY /?L17
	PRINTI " along with "
?L13:	ZERO? ANY /?L17
	CALL2 PRINT-CONTENTS,D
?L17:	PRINTI " on the dial's face"
?L8:	PRINTI "."
	RTRUE

	.FUNCT DESCRIBE-BDIAL,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "[RIDX: 4287]"
	PRINTD PLATFORM
	PRINTI "[RIDX: 4288]"
	PRINTD BDIAL
	CALL2 LOOK-AT-DIAL,BDIAL
	PRINTI "[RIDX: 4289]"
	PRINTD RING
	PRINTI "."
	RTRUE

	.FUNCT BDIAL-F
	CALL2 NOUN-USED?,W?SHADOW >STACK
	ZERO? STACK \?L3
	ZERO? NOW-PRSI? \?L3
	EQUAL? PRSA,V?TURN-TO,V?TUNE-TO,V?POINT-AT /?L4
	EQUAL? PRSA,V?PUSH-TO,V?TURN,V?MOVE /?L4
	EQUAL? PRSA,V?LOOSEN,V?SPIN,V?PUSH /?L4
	EQUAL? PRSA,V?SWING \?L3
?L4:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 4291]"
	PRINTD PLATFORM
	PRINTI "[RIDX: 4292]"
	PRINTD RING
	PRINTI "[RIDX: 4293]"
	CALL1 WOBBLES
	RTRUE
?L3:	CALL2 HANDLE-DIAL?,BDIAL >STACK
	RSTACK

	.FUNCT HANDLE-DIAL?,D,G=0
	IN? GNOMON,D \?L1
	FSET? GNOMON,NODESC \?L1
	SET 'G,1
?L1:	CALL2 NOUN-USED?,W?SHADOW >STACK
	ZERO? STACK /?L17
	ZERO? G \?L6
	EQUAL? HERE,WABE \?L8
	PRINT CANT
	PRINTI "see the "
	PRINTD DSHADOW
	PRINTI " now."
	CRLF
	RETURN 2
?L8:	CALL1 DSHADOW-F >STACK
	ZERO? STACK /?L17
	RTRUE
?L6:	EQUAL? PRSA,V?EXAMINE,V?READ,V?WATCH /?L15
	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L14
?L15:	CALL2 CTHE-PRINT,DSHADOW
	CALL1 READ-DIAL
	PRINT PERIOD
	RTRUE
?L14:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \?L16
	CALL1 HOW?
	RTRUE
?L16:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L17
	CALL1 V-WALK-AROUND
	RTRUE
?L17:	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L22
	PRINTI "[RIDX: 4297]"
	PRINTD PRSO
	PRINTI "[RIDX: 4298]"
	PRINTD SYMBOLS
	PRINTI " and a "
	PRINTD ROSE
	PRINTI ", with the legend """
	EQUAL? PRSO,DIAL /?L25
	ZERO? FLIP? \?L23
?L25:	PRINTI "TEMPUS EDAX RERUM"
	JUMP ?L26
?L23:	PRINTI "MURER XADE SUPMET"
?L26:	PRINTI "[RIDX: 4303]"
	ZERO? G \?L27
	PRINTD DIAL-HOLE
	PRINTI "[RIDX: 4304]"
	JUMP ?L29
?L27:	PRINTI "triangular "
	PRINTD GNOMON
	PRINTI " casts a fingerlike "
	PRINTD DSHADOW
	PRINTI " that"
	CALL1 READ-DIAL
?L29:	CALL2 SEE-ANYTHING-IN?,PRSO >STACK
	ZERO? STACK /?L30
	PRINTI ". You also see "
	CALL2 PRINT-CONTENTS,PRSO
	PRINTI " lying on top"
?L30:	PRINT PERIOD
	FSET? PRSO,TOUCHED /TRUE
	FSET PRSO,TOUCHED
	EQUAL? PRSO,DIAL \?L35
	PUSH CARROLL
	JUMP ?L37
?L35:	PUSH RIMBAUD
?L37:	GET QUOTES,STACK >DO-WINDOW
	RETURN 2
?L22:	EQUAL? PRSA,V?TAKE,V?MOVE,V?PUSH /?L42
	EQUAL? PRSA,V?PULL,V?RAISE,V?TURN /?L42
	EQUAL? PRSA,V?LOOSEN,V?UNSCREW,V?UNSCREW-FROM /?L42
	EQUAL? PRSA,V?TAKE-WITH \?L41
?L42:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 4310]"
	EQUAL? PRSO,DIAL \?L43
	PRINTD GROUND
	JUMP ?L45
?L43:	PRINTD PLATFORM
?L45:	PRINTR "[RIDX: 4311]"
?L41:	EQUAL? PRSA,V?LOOK-UNDER,V?LOOK-BEHIND \FALSE
	CALL1 LOOK-UNDER-DIAL
	RTRUE

	.FUNCT LOOK-UNDER-DIAL
	PRINTI "There's nothing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	EQUAL? HERE,WABE \?L1
	PRINTI " in the "
	PRINTD CLEARING
	JUMP ?L3
?L1:	PRINTI " on the "
	PRINTD PLATFORM
?L3:	PRINTI " around the "
	PRINTD DIAL
	PRINT PERIOD
	RTRUE

	.FUNCT READ-DIAL,DOOR
	GET OSIGN-DOORS,OSIGN >DOOR
	EQUAL? HERE,WABE \?L1
	PRINTI "[RIDX: 4317]"
	JUMP ?L16
?L1:	ZERO? SUN-MOVING? /?L3
	PRINTI "[RIDX: 4318]"
	EQUAL? OSIGN,12 \?L4
	GRTR? ODEG,6 \?L4
	PRINTI "away from"
	JUMP ?L16
?L4:	ZERO? DOOR \?L6
	CALL1 SAY-BETWEEN
	RTRUE
?L6:	EQUAL? ODEG,5,6 \?L7
	PRINTI "across"
	JUMP ?L16
?L7:	GRTR? ODEG,6 \?L8
	PRINTI "away from"
	JUMP ?L16
?L8:	PRINTI "towards"
	JUMP ?L16
?L3:	PRINTI " rests "
	EQUAL? OSIGN,12 \?L11
	GRTR? ODEG,6 \?L11
	PRINTI "a little after"
	JUMP ?L16
?L11:	ZERO? DOOR \?L13
	CALL1 SAY-BETWEEN
	RTRUE
?L13:	EQUAL? ODEG,5,6 \?L14
	PRINTI "exactly on"
	JUMP ?L16
?L14:	GRTR? ODEG,6 \?L15
	PRINTI "a little after"
	JUMP ?L16
?L15:	PRINTI "a bit before"
?L16:	PRINTI " the "
	GET SYMBOL-NAMES,OSIGN >STACK
	PRINT STACK
	PRINTI " symbol"
	RTRUE

	.FUNCT SAY-BETWEEN
	PRINTI "between the "
	GET SYMBOL-NAMES,OSIGN >STACK
	PRINT STACK
	PRINTI " and "
	ADD OSIGN,1 >STACK
	GET SYMBOL-NAMES,STACK >STACK
	PRINT STACK
	PRINTI " "
	PRINTD SYMBOLS
	RTRUE

	.FUNCT RING-F,G=0,A=0,X
	IN? GNOMON,BDIAL \?L1
	FSET? GNOMON,NODESC \?L1
	SET 'G,1
?L1:	CALL NOUN-USED?,W?ARROW,W?POINTER,W?INDICATOR >STACK
	ZERO? STACK /?L4
	SET 'A,1
?L4:	ZERO? G \?L7
	ZERO? A /?L7
	PRINT CANT
	PRINTI "see that any"
	FSET? RING,SEEN \?L9
	PRINTI "mo"
	JUMP ?L11
?L9:	PRINTI "whe"
?L11:	PRINTI "re."
	CRLF
	RETURN 2
?L7:	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L16
	EQUAL? PRSA,V?READ,V?SEARCH \?L15
?L16:	ZERO? A /?L17
	PRINTI "The arrow on the "
	PRINTD PRSO
	CALL1 READ-ARROW
	RTRUE
?L17:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 4356]"
	ZERO? G /?L20
	PRINTI "[RIDX: 4357]"
	CALL1 READ-ARROW
	RTRUE
?L20:	PRINT PERIOD
	RTRUE
?L15:	EQUAL? PRSA,V?TOUCH,V?SHAKE,V?SQUEEZE /?L24
	EQUAL? PRSA,V?PLAY,V?SWING,V?KISS \?L23
?L24:	EQUAL? PRSI,0,HANDS \?L23
	CALL1 CTHE-PRINT
	EQUAL? PRSA,V?KISS /?L25
	PUSH 0
	JUMP ?L26
?L25:	PUSH 1
?L26:	CALL PRINT-ID,STR?280,STACK
	CALL1 WOBBLES
	RTRUE
?L23:	EQUAL? PRSA,V?TURN-TO,V?TUNE-TO,V?POINT-AT /?L28
	EQUAL? PRSA,V?PUSH-TO \?L27
?L28:	ZERO? G \?L29
	CALL1 CTHE-PRINT
	FSET? PRSO,SEEN \?L31
	PRINTI " no longer has any "
	JUMP ?L33
?L31:	PRINTI " has no "
?L33:	PRINTR "[RIDX: 4361]"
?L29:	EQUAL? PRSI,BDIAL \?L34
	GET P-NAMW,1 >STACK
	EQUAL? STACK,W?SHADOW \?L35
	PRINTI "[RIDX: 4362]"
	PRINTD DSHADOW
	PRINTI " on the "
	PRINTD GNOMON
	PRINT PERIOD
	RTRUE
?L35:	CALL1 SPECIFY-SYMBOL
	RETURN 2
?L34:	EQUAL? PRSI,SYMBOLS \?L40
	GET P-ADJW,1 >X
	EQUAL? X,W?FIRST,W?OMEGA,W?ONE \?L41
	SET 'X,0
	JUMP ?L50
?L41:	EQUAL? X,W?SECOND,W?MERCURY,W?TWO \?L43
	SET 'X,2
	JUMP ?L50
?L43:	EQUAL? X,W?THIRD,W?PLUTO,W?THREE \?L44
	SET 'X,4
	JUMP ?L50
?L44:	EQUAL? X,W?FOURTH,W?NEPTUNE,W?FOUR \?L45
	SET 'X,6
	JUMP ?L50
?L45:	EQUAL? X,W?FIFTH,W?LIBRA,W?FIVE \?L46
	SET 'X,8
	JUMP ?L50
?L46:	EQUAL? X,W?SIXTH,W?MARS,W?SIX \?L47
	SET 'X,10
	JUMP ?L50
?L47:	EQUAL? X,W?SEVENTH,W?ALPHA /?L49
	EQUAL? X,W?SEVEN,W?LAST \?L48
?L49:	SET 'X,12
	JUMP ?L50
?L48:	SET 'X,7
?L50:	EQUAL? X,7 /?L53
	GET P-NAMW,1 >STACK
	EQUAL? STACK,W?SYMBOLS,W?GLYPHS \?L51
?L53:	CALL1 SPECIFY-SYMBOL
	RETURN 2
?L51:	ADD X,1 >STACK
	EQUAL? OSIGN,STACK /?L57
	EQUAL? OSIGN,X \?L56
	GRTR? ODEG,4 \?L56
?L57:	PRINT ARROW-ON
	PRINTI "to the "
	GET P-ADJW,1 >STACK
	PRINTB STACK
	PRINTR " symbol."
?L56:	FSET? PRSO,TOUCHED \?L58
	CALL1 SECOND-MOVE
	JUMP ?L59
?L58:	CALL2 FIRST-MOVE,1
?L59:	CALL2 NEW-OSIGN,X
	RTRUE
?L40:	EQUAL? PRSI,INTDIR \?L60
	EQUAL? P-DIRECTION,P?NORTH \?L61
	SET 'X,6
	JUMP ?L87
?L61:	EQUAL? P-DIRECTION,P?NE \?L63
	ZERO? FLIP? \?L64
	SET 'X,8
	JUMP ?L87
?L64:	SET 'X,4
	JUMP ?L87
?L63:	EQUAL? P-DIRECTION,P?EAST \?L67
	ZERO? FLIP? \?L68
	SET 'X,10
	JUMP ?L87
?L68:	SET 'X,2
	JUMP ?L87
?L67:	EQUAL? P-DIRECTION,P?SE \?L71
	ZERO? FLIP? \?L72
	SET 'X,12
	JUMP ?L87
?L72:	SET 'X,0
	JUMP ?L87
?L71:	EQUAL? P-DIRECTION,P?SW \?L75
	ZERO? FLIP? \?L76
	SET 'X,0
	JUMP ?L87
?L76:	SET 'X,12
	JUMP ?L87
?L75:	EQUAL? P-DIRECTION,P?WEST \?L79
	ZERO? FLIP? \?L80
	SET 'X,2
	JUMP ?L87
?L80:	SET 'X,10
	JUMP ?L87
?L79:	EQUAL? P-DIRECTION,P?NW \?L83
	ZERO? FLIP? \?L84
	SET 'X,4
	JUMP ?L87
?L84:	SET 'X,8
	JUMP ?L87
?L83:	SET 'X,7
?L87:	EQUAL? X,7 \?L88
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 4366]"
?L88:	ADD X,1 >STACK
	EQUAL? OSIGN,STACK /?L91
	EQUAL? OSIGN,X \?L90
	GRTR? ODEG,4 \?L90
?L91:	CALL1 ALREADY-POINTING
	RTRUE
?L90:	FSET? PRSO,TOUCHED \?L92
	CALL1 SECOND-MOVE
	JUMP ?L93
?L92:	CALL2 FIRST-MOVE,1
?L93:	CALL2 NEW-OSIGN,X
	RTRUE
?L60:	EQUAL? PRSI,INTNUM \?L94
	LESS? P-NUMBER,1 \?L95
	CALL1 SPECIFY-SYMBOL
	RETURN 2
?L95:	GRTR? P-NUMBER,7 \?L99
	PRINTI "[RIDX: 4367]"
	PRINTD SYMBOLS
	PRINTI " on the "
	PRINTD DIAL
	PRINT PERIOD
	RTRUE
?L99:	SUB P-NUMBER,1 >STACK
	MUL STACK,2 >X
	ADD X,1 >STACK
	EQUAL? OSIGN,STACK /?L103
	EQUAL? OSIGN,X \?L101
	GRTR? ODEG,4 \?L101
?L103:	CALL1 ALREADY-POINTING
	RTRUE
?L101:	FSET? PRSO,TOUCHED \?L104
	CALL1 SECOND-MOVE
	JUMP ?L105
?L104:	CALL2 FIRST-MOVE,1
?L105:	CALL2 NEW-OSIGN,X
	RTRUE
?L94:	EQUAL? PRSI,RIGHT \?L106
	ZERO? FLIP? \?L107
	GRTR? OSIGN,10 \?L109
	SET 'X,0
	JUMP ?L118
?L109:	EQUAL? OSIGN,0,1 \?L111
	SET 'X,2
	JUMP ?L118
?L111:	MOD OSIGN,2 >STACK
	ZERO? STACK /?L112
	ADD OSIGN,1 >X
	JUMP ?L118
?L112:	ADD OSIGN,2 >X
	JUMP ?L118
?L107:	EQUAL? OSIGN,0,1 \?L115
	SET 'X,12
	JUMP ?L118
?L115:	MOD OSIGN,2 >STACK
	ZERO? STACK /?L117
	SUB OSIGN,3 >X
	JUMP ?L118
?L117:	SUB OSIGN,2 >X
?L118:	ADD X,1 >STACK
	EQUAL? OSIGN,STACK /?L121
	EQUAL? OSIGN,X \?L119
	GRTR? ODEG,4 \?L119
?L121:	CALL1 ALREADY-POINTING
	RTRUE
?L119:	FSET? PRSO,TOUCHED \?L122
	CALL1 SECOND-MOVE
	JUMP ?L123
?L122:	CALL2 FIRST-MOVE,1
?L123:	CALL2 NEW-OSIGN,X
	RTRUE
?L106:	EQUAL? PRSI,LEFT \?L124
	ZERO? FLIP? \?L125
	EQUAL? OSIGN,0,1 \?L127
	SET 'X,12
	JUMP ?L136
?L127:	MOD OSIGN,2 >STACK
	ZERO? STACK /?L129
	SUB OSIGN,3 >X
	JUMP ?L136
?L129:	SUB OSIGN,2 >X
	JUMP ?L136
?L125:	GRTR? OSIGN,10 \?L132
	SET 'X,0
	JUMP ?L136
?L132:	EQUAL? OSIGN,0,1 \?L134
	SET 'X,2
	JUMP ?L136
?L134:	MOD OSIGN,2 >STACK
	ZERO? STACK /?L135
	ADD OSIGN,1 >X
	JUMP ?L136
?L135:	ADD OSIGN,2 >X
?L136:	ADD X,1 >STACK
	EQUAL? OSIGN,STACK /?L139
	EQUAL? OSIGN,X \?L137
	GRTR? ODEG,4 \?L137
?L139:	CALL1 ALREADY-POINTING
	RTRUE
?L137:	FSET? PRSO,TOUCHED \?L140
	CALL1 SECOND-MOVE
	JUMP ?L141
?L140:	CALL2 FIRST-MOVE,1
?L141:	CALL2 NEW-OSIGN,X
	RTRUE
?L124:	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 4369]"
?L27:	EQUAL? PRSA,V?TURN,V?MOVE,V?SPIN /?L144
	EQUAL? PRSA,V?PUSH \?L143
?L144:	EQUAL? PRSI,0,HANDS,ROOMS /?L145
	PRINT DONT
	PRINTI "need "
	CALL1 THEI-PRINT
	PRINTI " to "
	PRINTB P-PRSA-WORD
	PRINTI " the "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L145:	RANDOM 7 >STACK
	DEC 'STACK
	MUL STACK,2 >X
	EQUAL? X,OSIGN /?L145
	FSET? PRSO,TOUCHED /?L153
	CALL2 FIRST-MOVE,G
	JUMP ?L158
?L153:	PRINTI "[RIDX: 4373]"
	PRINTD RING
	ZERO? G /?L156
	PRINT PTHE
	PRINTI "arrow "
	CALL2 NEW-OSIGN,X
	RTRUE
?L156:	PRINT PERIOD
?L158:	CALL NEW-OSIGN,X,G
	RTRUE
?L143:	EQUAL? PRSA,V?TAKE,V?RAISE,V?UNPLUG /?L160
	EQUAL? PRSA,V?LOWER,V?PULL,V?RELEASE /?L160
	EQUAL? PRSA,V?UNSCREW,V?LOOSEN,V?UNSCREW-FROM \?L159
?L160:	CALL FIRMLY-ATTACHED,PRSO,BDIAL
	RTRUE
?L159:	EQUAL? PRSA,V?LAMP-OFF \FALSE
	ZERO? SUN-MOVING? \?L162
	CALL1 PRSO-NOT-MOVING
	RTRUE
?L162:	CALL1 HOW?
	RTRUE

	.FUNCT WOBBLES
	PRINTR "[RIDX: 4375]"

	.FUNCT ALREADY-POINTING
	PRINT ARROW-ON
	PRINTI "in "
	PRINTD RIGHT
	PRINT PERIOD
	RTRUE

	.FUNCT SPECIFY-SYMBOL
	PRINTI "[RIDX: 4377]"
	CALL2 ITALICIZE,STR?281
	PRINTI " of the seven "
	PRINTD SYMBOLS
	PRINTI " on the "
	PRINTD DIAL
	PRINTR "[RIDX: 4381]"

	.FUNCT READ-ARROW
	FSET RING,SEEN
	PRINTI " is pointing to the "
	GET SYMBOL-NAMES,OSIGN >STACK
	PRINT STACK
	PRINTR " symbol on the dial."

	.FUNCT FIRST-MOVE,P=0
	FSET RING,TOUCHED
	PRINTI "[RIDX: 4385]"
	PRINTD RING
	PRINTI "[RIDX: 4386]"
	PRINTD PLATFORM
	PRINTI "[RIDX: 4387]"
	PRINT PCR
	CALL2 ITALICIZE,STR?282
	PRINTI "[RIDX: 4389]"
	CRLF
	ZERO? P /TRUE
	CRLF
	PRINTI "[RIDX: 4390]"
	RTRUE

	.FUNCT SECOND-MOVE
	PRINTI "[RIDX: 4391]"
	PRINTD PRSO
	PRINTI ". It "
	RTRUE

	.FUNCT DIAL-HOLE-F
	CALL2 HANDLE-HOLE?,DIAL >STACK
	RSTACK

	.FUNCT BDIAL-HOLE-F
	CALL2 HANDLE-HOLE?,BDIAL >STACK
	RSTACK

	.FUNCT HANDLE-HOLE?,D
	IN? GNOMON,D \?L1
	FSET? GNOMON,NODESC \?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	ZERO? NOW-PRSI? /?L5
	EQUAL? PRSA,V?PUT,V?SCREW \?L6
	EQUAL? PRSO,GNOMON \?L8
	CALL PERFORM,V?SCREW,GNOMON,D
	RTRUE
?L8:	CALL1 PRSO-WONT-FIT
	RTRUE
?L6:	EQUAL? PRSA,V?PUT-ON \FALSE
	CALL PERFORM,V?PUT-ON,PRSO,D
	RTRUE
?L5:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE \?L13
	PRINTI "The hole has a "
	EQUAL? HERE,WABE /?L16
	ZERO? FLIP? /?L14
?L16:	PRINTI "lef"
	JUMP ?L17
?L14:	PRINTI "righ"
?L17:	CALL1 EXAMINE-HOLE
	RTRUE
?L13:	EQUAL? PRSA,V?REACH-IN \?L18
	CALL1 TOO-SMALL
	RTRUE
?L18:	EQUAL? PRSA,V?COVER \?L19
	CALL PERFORM,V?PUT-ON,PRSO,D
	RTRUE
?L19:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT EXAMINE-HOLE
	PRINTR "[RIDX: 4398]"

	.FUNCT ROSE-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L1
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 4400]"
	EQUAL? HERE,ON-GNOMON \?L3
	ZERO? FLIP? /?L3
	PRINTI "[RIDX: 4401]"
?L3:	PRINT PERIOD
	RTRUE
?L1:	CALL1 HANDLE-GLYPHS? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT SYMBOLS-F
	EQUAL? PRSA,V?EXAMINE,V?READ,V?LOOK-INSIDE /?L3
	EQUAL? PRSA,V?SEARCH,V?LOOK-UP \?L1
?L3:	PRINTI "The seven "
	PRINTD PRSO
	PRINTI "[RIDX: 4404]"
	ZERO? FLIP? /?L4
	PRINTI "counter"
?L4:	PRINTI "[RIDX: 4406]"
	ZERO? FLIP? /?L7
	PRINTI ". All of the "
	PRINTD PRSO
	PRINTI "[RIDX: 4408]"
?L7:	PRINTI "[RIDX: 4409]"
	PRINTD PRSO
	PRINTI " reproduced on the "
	PRINTD DIAL
	PRINTI " in your "
	CALL2 ITALICIZE,STR?44
	PRINTI " package.]"
	CRLF
	FSET? PRSO,SEEN /TRUE
	FSET PRSO,SEEN
	GET QUOTES,MATTHEW >DO-WINDOW
	RETURN 2
?L1:	EQUAL? PRSA,V?COUNT \?L15
	PRINTR "[RIDX: 4414]"
?L15:	EQUAL? PRSA,V?TURN-TO,V?TUNE-TO,V?POINT-AT /?L17
	EQUAL? PRSA,V?PUSH-TO \?L16
?L17:	ZERO? NOW-PRSI? /?L16
	EQUAL? PRSO,RING,BDIAL /?L16
	CALL1 IMPOSSIBLE
	RTRUE
?L16:	CALL1 HANDLE-GLYPHS? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT HANDLE-GLYPHS?
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?THROW-OVER \FALSE
	EQUAL? HERE,ON-GNOMON \?L5
	CALL PERFORM,PRSA,PRSO,BDIAL
	RTRUE
?L5:	CALL PERFORM,PRSA,PRSO,DIAL
	RTRUE
?L1:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT GNOMON-F
	CALL NOUN-USED?,W?BOLT,W?THREAD >STACK
	ZERO? STACK /?L13
	FSET? GNOMON,NODESC \?L3
	CALL1 CANT-SEE-ANY
	RETURN 2
?L3:	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L8
	PRINTI "The bolt has a "
	FSET? GNOMON,FLIPPED \?L9
	PRINTI "righ"
	JUMP ?L11
?L9:	PRINTI "lef"
?L11:	PRINTI "[RIDX: 4420]"
	CALL1 ATTACHED-TO
	RTRUE
?L8:	EQUAL? PRSA,V?UNSCREW-FROM \?L12
	EQUAL? PRSO,PRSI \?L12
	PRINTI "The bolt is "
	CALL1 ATTACHED-TO
	RTRUE
?L12:	EQUAL? PRSA,V?TAKE,V?MOVE,V?PULL /?L14
	EQUAL? PRSA,V?PUSH,V?RAISE,V?LOWER /?L14
	EQUAL? PRSA,V?LOOSEN,V?UNPLUG,V?TAKE-OFF /?L14
	EQUAL? PRSA,V?SHAKE,V?HIT,V?KICK /?L14
	EQUAL? PRSA,V?KNOCK,V?SWING,V?UNSCREW \?L13
?L14:	PRINTI "The bolt is "
	CALL1 ATTACHED-TO
	RTRUE
?L13:	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L19
	PRINTI "[RIDX: 4423]"
	FSET? GNOMON,NODESC \?L20
	PRINTI "[RIDX: 4424]"
	PRINTD DIAL
	JUMP ?L22
?L20:	PRINT PA
	PRINTI "[RIDX: 4425]"
?L22:	PRINT PERIOD
	RTRUE
?L19:	EQUAL? PRSA,V?UNSCREW,V?SPIN,V?TURN /?L24
	EQUAL? PRSA,V?UNSCREW-FROM,V?UNPLUG \?L23
?L24:	FSET? PRSO,NODESC \?L23
	EQUAL? PRSA,V?UNSCREW-FROM \?L25
	EQUAL? PRSI,DIAL,BDIAL,DIAL-HOLE /?L30
	EQUAL? PRSI,BDIAL-HOLE /?L30
	RFALSE
?L25:	EQUAL? PRSI,0,HANDS /?L30
	CALL NOT-LIKELY,PRSI,STR?283
	RTRUE
?L30:	FSET PRSO,BORING
	FCLEAR PRSO,NODESC
	FCLEAR PRSO,NOALL
	PRINTI "You can feel the "
	PRINTD PRSO
	PRINTI "[RIDX: 4428]"
	PRINTB P-PRSA-WORD
	PRINTI "[RIDX: 4429]"
	PRINTD DIAL
	PRINT PERIOD
	EQUAL? HERE,ON-GNOMON \TRUE
	REMOVE LEVER
	CRLF
	CALL2 CTHE-PRINT,RING
	PRINTI "[RIDX: 4430]"
	PRINTD LEVER
	ZERO? SUN-MOVING? \?L34
	SET 'SUN-MOVING?,1
	PRINTI "[RIDX: 4431]"
?L34:	PRINTI "[RIDX: 4432]"
	PRINTD FLOOR
	PRINT PERIOD
	RTRUE
?L23:	EQUAL? PRSA,V?TAKE,V?TOUCH,V?MOVE /?L39
	EQUAL? PRSA,V?LOOSEN,V?PULL,V?PUSH /?L39
	EQUAL? PRSA,V?SHAKE,V?PUSH-TO,V?RAISE /?L39
	EQUAL? PRSA,V?KNOCK,V?SQUEEZE,V?SWING /?L39
	EQUAL? PRSA,V?KICK,V?PLAY \?L38
?L39:	FSET? PRSO,NODESC \?L38
	FSET PRSO,BORING
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 4433]"
	EQUAL? PRSA,V?TOUCH,V?PUSH,V?SQUEEZE /?L42
	EQUAL? PRSA,V?KICK,V?KNOCK,V?SHAKE /?L42
	EQUAL? PRSA,V?SWING \?L40
?L42:	PRINTB P-PRSA-WORD
	JUMP ?L43
?L40:	PRINTI "try to move"
?L43:	PRINTR " it."
?L38:	EQUAL? PRSA,V?SCREW,V?PUT,V?PUSH-TO /?L45
	EQUAL? PRSA,V?PLUG \FALSE
?L45:	EQUAL? PRSI,DIAL,BDIAL \FALSE
	CALL2 WEIGHT,PRSI >STACK
	GRTR? STACK,3 \?L46
	CALL YOUD-HAVE-TO,STR?284,PRSI
	RTRUE
?L46:	EQUAL? PRSI,BDIAL \?L48
	CALL1 GNOMON-FITS? >STACK
	ZERO? STACK \?L48
	FSET? PRSO,SEEN /?L49
	FSET PRSO,SEEN
	PRINTI "[RIDX: 4437]"
	PRINTD PRSO
	PRINTI "[RIDX: 4438]"
	PRINTD PRSI
	PRINTI "[RIDX: 4439]"
?L49:	PRINTR "[RIDX: 4440]"
?L48:	MOVE GNOMON,PRSI
	FSET GNOMON,NODESC
	FSET GNOMON,NOALL
	PRINTI "You screw the "
	PRINTD GNOMON
	PRINTI "[RIDX: 4438]"
	PRINTD DIAL
	PRINT PERIOD
	EQUAL? HERE,ON-GNOMON \TRUE
	MOVE LEVER,HERE
	CALL2 THIS-IS-IT,LEVER
	CRLF
	PRINTI "A long metal "
	PRINTD LEVER
	PRINTI "[RIDX: 4444]"
	PRINTD FLOOR
	PRINTI "[RIDX: 4445]"
	PRINTD BDIAL
	PRINTI "[RIDX: 4446]"
	CRLF
	FSET? LEVER,TOUCHED /TRUE
	FSET LEVER,TOUCHED
	CALL2 UPDATE-SCORE,5
	CRLF
	CALL VOICE-MUTTERS,STR?285,0
	RTRUE

	.FUNCT GNOMON-FITS?
	ZERO? FLIP? /?L6
	FSET? GNOMON,FLIPPED \TRUE
	ZERO? FLIP? \FALSE
?L6:	FSET? GNOMON,FLIPPED /TRUE
	RFALSE

	.FUNCT DESCRIBE-LEVER,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "A long metal "
	PRINTD LEVER
	CALL1 SAY-LEVER
	RTRUE

	.FUNCT SAY-LEVER
	PRINTI " stands "
	ZERO? SUN-MOVING? \?L1
	PRINTI "at a sharp angle to "
	JUMP ?L3
?L1:	PRINTI "vertically out of "
?L3:	CALL2 THE-PRINT,PLATFORM
	PRINTC 46
	RTRUE

	.FUNCT LEVER-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	CALL2 CTHE-PRINT,LEVER
	PRINTI "[RIDX: 4455]"
	CALL1 SAY-LEVER
	CRLF
	RTRUE
?L3:	EQUAL? PRSA,V?RAISE,V?PULL,V?LOOSEN \?L4
	ZERO? SUN-MOVING? \?L5
	CALL1 RAISE-LEVER
	RTRUE
?L5:	CALL2 LEVER-MOVED,STR?262
	RTRUE
?L4:	EQUAL? PRSA,V?LOWER,V?PUSH \?L8
	ZERO? SUN-MOVING? \?L9
	CALL2 LEVER-MOVED,STR?41
	RTRUE
?L9:	CALL1 LOWER-LEVER
	RTRUE
?L8:	EQUAL? PRSA,V?MOVE,V?TURN \?L12
	ZERO? SUN-MOVING? \?L13
	CALL1 RAISE-LEVER
	RTRUE
?L13:	CALL1 LOWER-LEVER
	RTRUE
?L12:	EQUAL? PRSA,V?PUSH-TO \?L16
	EQUAL? PRSI,GROUND \?L17
	CALL PERFORM,V?LOWER,LEVER
	RTRUE
?L17:	EQUAL? PRSI,INTDIR /?L19
	CALL1 CANT-PRSA-LEVER
	PRINTR " to that."
?L19:	EQUAL? P-DIRECTION,P?UP \?L20
	CALL PERFORM,V?RAISE,LEVER
	RTRUE
?L20:	EQUAL? P-DIRECTION,P?DOWN \?L21
	CALL PERFORM,V?LOWER,LEVER
	RTRUE
?L21:	CALL1 CANT-PRSA-LEVER
	PRINTI " in "
	PRINTD RIGHT
	PRINT PERIOD
	RTRUE
?L16:	EQUAL? PRSA,V?TAKE,V?MUNG,V?SHAKE /?L24
	EQUAL? PRSA,V?KICK,V?KNOCK,V?HIT \?L23
?L24:	CALL FIRMLY-ATTACHED,LEVER,FLOOR
	RTRUE
?L23:	EQUAL? PRSA,V?LAMP-ON,V?LAMP-OFF,V?OPEN /?L26
	EQUAL? PRSA,V?CLOSE,V?OPEN-WITH \FALSE
?L26:	CALL1 HOW?
	RTRUE

	.FUNCT LOWER-LEVER
	SET 'SUN-MOVING?,0
	PRINTI "As you lower"
	CALL2 SAY-GRIND,STR?286
	RTRUE

	.FUNCT RAISE-LEVER
	SET 'SUN-MOVING?,1
	PRINTI "As you raise"
	CALL2 SAY-GRIND,STR?287
	RTRUE

	.FUNCT SAY-GRIND,STR
	PRINTI " the "
	PRINTD LEVER
	PRINTI "[RIDX: 4465]"
	PRINTD FLOOR
	PRINTI " lurches and "
	PRINT STR
	PRINTI "[RIDX: 4467]"
	CALL1 ALL-IS-STILL >STACK
	RSTACK

	.FUNCT ALL-IS-STILL
	PRINTI ". Then "
	RANDOM 100 >STACK
	LESS? 50,STACK /?L1
	PRINTR "everything is quiet."
?L1:	PRINTR "all is still."

	.FUNCT LEVER-MOVED,STR
	CALL2 CTHE-PRINT,LEVER
	PRINTI " is moved "
	PRINT STR
	PRINTR "[RIDX: 4472]"

	.FUNCT CANT-PRSA-LEVER
	PRINT CANT
	PRINTB P-PRSA-WORD
	PRINTI " the "
	PRINTD LEVER
	RTRUE

	.FUNCT BEDS-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL1 UNTIDY-BEDS
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L7
	EQUAL? PRSA,V?SEARCH \?L6
?L7:	FIRST? PRSO >STACK \?L8
	CALL1 LOOK-IN-BEDS
	RTRUE
?L8:	CALL1 LOVELY
	RTRUE
?L6:	EQUAL? PRSA,V?TAKE,V?PICK \?L11
	CALL1 NO-PICKING
	RTRUE
?L11:	EQUAL? PRSA,V?MUNG,V?HIT,V?KICK /?L13
	EQUAL? PRSA,V?SHAKE,V?SQUEEZE,V?DIG /?L13
	EQUAL? PRSA,V?LOOSEN \?L12
?L13:	CALL2 PRINT-ID,STR?288
	CALL1 UNTIDY-BEDS
	RTRUE
?L12:	CALL1 GETTING-INTO? >STACK
	ZERO? STACK /?L14
	CALL2 DO-WALK,P?EAST
	RTRUE
?L14:	CALL1 EXITING? >STACK
	ZERO? STACK /?L15
	CALL1 NOT-IN
	RTRUE
?L15:	EQUAL? PRSA,V?SMELL \FALSE
	CALL1 SMELL-FLOWERS
	RTRUE

	.FUNCT LOOK-IN-BEDS
	PRINTI "You can see "
	CALL2 PRINT-CONTENTS,BEDS
	PRINTR "[RIDX: 4477]"

	.FUNCT SMELL-FLOWERS
	PRINTI "[RIDX: 4478]"
	CRLF
	CALL2 PRINT-ID,STR?289 >STACK
	RSTACK

	.FUNCT UNTIDY-BEDS
	PRINTI "That would make the "
	PRINTD BEDS
	PRINTR " appear most untidy."

	.FUNCT LOVELY
	CALL2 CTHE-PRINT,FLOWERS
	PRINTR "[RIDX: 4482]"

	.FUNCT NO-PICKING
	PRINTI "[RIDX: 4484]"
	PRINTD GARDENS
	PRINTI "[RIDX: 4485]"
	CRLF
	CALL2 PRINT-ID,STR?290
	RTRUE

	.FUNCT FLOWERS-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL1 UNTIDY-BEDS
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE \?L6
	CALL1 LOVELY
	RTRUE
?L6:	EQUAL? PRSA,V?SMELL \?L7
	CALL1 SMELL-FLOWERS
	RTRUE
?L7:	EQUAL? PRSA,V?TAKE,V?PICK,V?PULL \?L8
	CALL1 NO-PICKING
	RTRUE
?L8:	INTBL? PRSA,HURTVERBS,NHVERBS >STACK \FALSE
	CALL1 UNTIDY-BEDS
	RTRUE

	.FUNCT THICKET-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?LOOK-DOWN /?L3
	EQUAL? PRSA,V?SEARCH,V?LOOK \?L1
?L3:	PRINTI "The surrounding "
	PRINTD PRSO
	PRINTR "[RIDX: 4489]"
?L1:	CALL1 EXITING? >STACK
	ZERO? STACK /?L4
	CALL1 V-WALK-AROUND
	RTRUE
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L6
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L5
?L6:	PRINTI "Ouch! The "
	PRINTD THICKET
	PRINTR " is full of thorns."
?L5:	ZERO? NOW-PRSI? \FALSE
	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT CLEARING-F
	EQUAL? PRSA,V?LOOK-UNDER,V?LOOK-DOWN \?L1
	CALL1 LOOK-UNDER-DIAL
	RTRUE
?L1:	CALL1 HERE-F >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT MEMORIAL-F
	EQUAL? HERE,FLOWER-WALK /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L6
	EQUAL? PRSA,V?READ \?L5
?L6:	FSET? MEMORIAL,TOUCHED \?L7
	PRINT CANT
	PRINTI "bear to look at the "
	PRINTD MEMORIAL
	PRINTR " a moment longer."
?L7:	FSET MEMORIAL,TOUCHED
	PRINTI "Your "
	PRINTD LONDON
	PRINTI "[RIDX: 4498]"
	PRINTD PRSO
	PRINTR "[RIDX: 4499]"
?L5:	CALL1 GETTING-INTO? >STACK
	ZERO? STACK /?L10
	CALL2 DO-WALK,P?SOUTH
	RTRUE
?L10:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L11
	CALL1 CANT-FROM-HERE
	RTRUE
?L11:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 WHICH-WAY-OUT
	RTRUE

	.FUNCT BWALK-F
	EQUAL? HERE,BROAD-WALK,PAL-GATE,LION-GATE /?L1
	EQUAL? HERE,ROUND-POND /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	XCALL HANDLE-PLACE?,BROAD-WALK,LION-GATE,ROUND-POND,PAL-GATE >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT VICTORIA-F
	EQUAL? PRSA,V?EXAMINE \?L1
	PRINTR "[RIDX: 4502]"
?L1:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L3
	CALL2 DO-WALK,P?WEST
	RTRUE
?L3:	CALL1 GETTING-INTO? >STACK
	ZERO? STACK /FALSE
	CALL1 TOURISTS-SNICKER
	RTRUE

	.FUNCT SAID-CRUMBS?
	IN? BAG,PLAYER \FALSE
	ZERO? NOW-PRSI? \?L9
	GET P-OFW,0 >STACK
	EQUAL? STACK,W?BAG,W?SACK /FALSE
	ZERO? NOW-PRSI? /?L4
?L9:	GET P-OFW,1 >STACK
	EQUAL? STACK,W?BAG,W?SACK /FALSE
?L4:	CALL2 ADJ-USED?,W?PAPER >STACK
	ZERO? STACK \FALSE
	CALL NOUN-USED?,W?CRUMBS,W?BREAD,W?HANDFUL >STACK
	ZERO? STACK \TRUE
	CALL NOUN-USED?,W?FEED,W?BIRDFEED,W?FOOD >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT CRUMBS?,X
	EQUAL? X,W?CRUMBS,W?BREAD,W?HANDFUL /TRUE
	EQUAL? X,W?FEED,W?BIRDFEED,W?FOOD /TRUE
	RFALSE

	.FUNCT BAG-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?POUR-FROM \?L3
	EQUAL? PRSO,PRSI \?L3
	GET P-NAMW,1 >STACK
	CALL2 CRUMBS?,STACK >STACK
	ZERO? STACK \?L7
	GET P-NAMW,0 >STACK
	EQUAL? STACK,W?BAG,W?SACK /?L7
	GET P-OFW,0 >STACK
	EQUAL? STACK,W?BAG,W?SACK /?L7
	GET P-ADJW,0 >STACK
	EQUAL? STACK,W?PAPER \?L5
?L7:	CALL1 IMPOSSIBLE
	RTRUE
?L5:	CALL1 EMPTY-OUT-BAG
	RTRUE
?L3:	EQUAL? PRSA,V?PUT,V?PUT-ON \FALSE
	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,1 \?L10
	CALL YOUD-HAVE-TO,STR?291,BAG
	RTRUE
?L10:	PRINTI "You'd probably lose "
	CALL1 THE-PRINT
	PRINTI " in the crumbs"
	PRINT IF-YOU-DID
	RTRUE
?L1:	EQUAL? PRSA,V?BUY,V?CHARGE \?L14
	CALL1 TRY-BUY
	RTRUE
?L14:	EQUAL? PRSA,V?BUY-FROM \?L15
	EQUAL? PRSI,BWOMAN \?L15
	CALL PERFORM,V?BUY,PRSO
	RTRUE
?L15:	EQUAL? PRSA,V?EMPTY-INTO \?L16
	EQUAL? PRSI,PRSO \?L17
	CALL1 IMPOSSIBLE
	RTRUE
?L17:	EQUAL? PRSI,POCKET \?L19
	PRINTI "[RIDX: 4510]"
	PRINTD PRSO
	PRINTI " into "
	PRINTD POCKET
	PRINTI "[RIDX: 4512]"
	CALL1 DROP-CRUMBS
	RTRUE
?L19:	EQUAL? PRSI,PRAM \?L20
	CALL1 CRUMBS-INTO-PRAM
	RTRUE
?L20:	EQUAL? PRSI,GROUND,FLOOR /?L22
	FSET? PRSI,SURFACE /?L22
	FSET? PRSI,CONTAINER \FALSE
	FSET? PRSI,OPENED \FALSE
?L22:	CALL1 EMPTY-OUT-BAG
	RTRUE
?L16:	EQUAL? PRSA,V?EMPTY,V?POUR \?L24
	CALL2 DONT-HAVE?,PRSO >STACK
	ZERO? STACK \TRUE
	CALL1 EMPTY-OUT-BAG
	RTRUE
?L24:	EQUAL? PRSA,V?SHAKE,V?SQUEEZE \?L28
	PRINTI "[RIDX: 4513]"
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L28:	EQUAL? PRSA,V?SMELL \?L29
	PRINTR "[RIDX: 4514]"
?L29:	EQUAL? PRSA,V?REACH-IN,V?DIG \?L30
	EQUAL? PRSI,0,HANDS \?L30
	CALL1 FEEL-RUBY
	RTRUE
?L30:	CALL1 SAID-CRUMBS? >STACK
	ZERO? STACK /?L31
	EQUAL? PRSA,V?EXAMINE \?L32
	PRINTI "[RIDX: 4515]"
	CALL1 LOOK-IN-BAG
	RTRUE
?L32:	EQUAL? PRSA,V?TAKE,V?DROP,V?PUT /?L35
	EQUAL? PRSA,V?PUT-ON,V?THROW,V?PUT-UNDER /?L35
	EQUAL? PRSA,V?PUT-BEHIND \?L34
?L35:	CALL1 TAKE-CRUMBS
	RTRUE
?L34:	EQUAL? PRSA,V?TOUCH,V?SQUEEZE,V?PLAY \?L36
	EQUAL? PRSI,0,HANDS \?L36
	CALL1 FEEL-RUBY
	RTRUE
?L36:	EQUAL? PRSA,V?KISS \?L37
	CALL1 FEEL-STALE
	RTRUE
?L37:	EQUAL? PRSA,V?DRINK,V?DRINK-FROM \?L38
	CALL1 IMPOSSIBLE
	RTRUE
?L38:	EQUAL? PRSA,V?EAT,V?TASTE,V?BITE \FALSE
	PRINTI "You grab "
	CALL1 SAY-HANDFUL
	PRINTI "[RIDX: 4517]"
	FSET? HERE,WINDY \?L40
	CALL2 LOOK-ON-HUNGRY,PIGEONS
	JUMP ?L42
?L40:	CALL2 VISIBLE?,MEEP >STACK
	ZERO? STACK /?L42
	CALL2 LOOK-ON-HUNGRY,MEEP
?L42:	PRINT PERIOD
	FSET? RUBY,SEEN /TRUE
	CALL1 GET-RUBY
	CRLF
	PRINTI "[RIDX: 4518]"
	CALL2 PRINT-ID,STR?292
	ZERO? IN-PRAM? \?L46
	PRINTR "at your feet."
?L46:	PRINTR "on the ground."
?L31:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L51
	CALL1 LOOK-IN-BAG
	RTRUE
?L51:	EQUAL? PRSA,V?MUNG,V?HIT,V?CUT /?L53
	EQUAL? PRSA,V?RIP,V?SQUEEZE \?L52
?L53:	CALL2 PRINT-ID,STR?293
	CALL2 DONT-HAVE?,PRSO >STACK
	ZERO? STACK \TRUE
	CALL1 EMPTY-PRSO-FIRST
	RTRUE
?L52:	EQUAL? PRSA,V?DROP \?L57
	CALL1 IDROP >STACK
	ZERO? STACK /TRUE
	CALL1 SAY-DROPPED
	FSET? HERE,WINDY \TRUE
	CRLF
	CALL1 PIGEONS-EAT-BAG
	RTRUE
?L57:	CALL1 DO-BAG? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT DO-BAG?
	EQUAL? PRSA,V?FILL \?L1
	FSET? PRSI,WATERY \?L1
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 4523]"
	CRLF
	CALL2 PRINT-ID,STR?294 >STACK
	RSTACK
?L1:	EQUAL? PRSA,V?CLOSE \FALSE
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 4525]"

	.FUNCT LOOK-ON-HUNGRY,OBJ
	PRINT PTHE
	PRINTD OBJ
	PRINTI " look"
	FSET? OBJ,PLURAL /?L1
	PRINTI "s"
?L1:	PRINTI " on hungrily"
	RTRUE

	.FUNCT PIGEONS-EAT-BAG
	CALL1 EMPTY-BAG
	SET 'P-THEM-OBJECT,PIGEONS
	CALL2 CTHE-PRINT,PIGEONS
	PRINTI "[RIDX: 4529]"
	CRLF
	CALL2 PRINT-ID,STR?295
	FSET? RUBY,SEEN /TRUE
	CALL1 GET-RUBY
	CRLF
	PRINTI "[RIDX: 4531]"
	CALL1 NOTICE-RUBY
	RTRUE

	.FUNCT FEEL-RUBY
	CALL1 FEEL-STALE
	FSET? RUBY,SEEN /TRUE
	CALL1 GET-RUBY
	CRLF
	PRINTR "[RIDX: 4532]"

	.FUNCT EMPTY-PRSO-FIRST
	PRINTI "[RIDX: 4533]"
	PRINTD PRSO
	PRINTR " first."

	.FUNCT CRUMBS-INTO-PRAM
	CALL2 PRINT-ID,STR?296
	FSET? PRSI,OPENED /?L1
	CALL YOUD-HAVE-TO,STR?70,PRSI
	RTRUE
?L1:	ZERO? IN-PRAM? /?L3
	CALL YOUD-HAVE-TO,STR?130,PRSI
	RTRUE
?L3:	CALL1 SAY-CRUMBS-FALL
	PRINTI "[RIDX: 4538]"
	PRINTD PRSI
	PRINTI "[RIDX: 4539]"
	PRINTD PIGEONS
	PRINTI "[RIDX: 4540]"
	PRINT PCR
	CALL2 PRINT-ID,STR?297
	FSET? RUBY,SEEN /TRUE
	CALL2 GET-RUBY,1
	PRINTI "[RIDX: 4542]"
	PRINTD PIGEONS
	PRINTI " off the pram "
	CALL1 NOTICE-RUBY
	RTRUE

	.FUNCT SAY-CRUMBS-FALL
	CALL1 EMPTY-BAG
	PRINTI "[RIDX: 4544]"
	RTRUE

	.FUNCT EMPTY-OUT-BAG
	CALL1 SAY-CRUMBS-FALL
	CALL1 DROP-CRUMBS
	RTRUE

	.FUNCT LOOK-IN-BAG
	PRINTI "There"
	EQUAL? CCNT,1 \?L1
	PRINTI "[RIDX: 4546]"
	JUMP ?L3
?L1:	PRINTI " are "
	EQUAL? CCNT,2,3 \?L4
	PRINTI "a couple of"
	JUMP ?L6
?L4:	PRINTI "several"
?L6:	PRINTI " handfuls"
?L3:	PRINTI " left in the "
	PRINTD BAG
	PRINT PERIOD
	RTRUE

	.FUNCT EMPTY-BAG
	SET 'APPETITE,0
	LOC BAG >STACK
	MOVE EBAG,STACK
	REMOVE BAG
	SET 'CCNT,0
	SET 'P-IT-OBJECT,EBAG
	FSET EBAG,TOUCHED
	RTRUE

	.FUNCT SAY-HANDFUL
	DEC 'CCNT
	ZERO? CCNT \?L1
	CALL1 EMPTY-BAG
	PRINTI "the last "
	JUMP ?L3
?L1:	PRINTI "a "
?L3:	PRINTI "handful of crumbs"
	RTRUE

	.FUNCT TAKE-CRUMBS
	PRINTI "You take "
	CALL1 SAY-HANDFUL
	PRINTI " out of the bag. "
	EQUAL? PRSA,V?PUT,V?PUT-ON,V?THROW /?L3
	EQUAL? PRSA,V?THROW-OVER,V?PUT-UNDER,V?PUT-BEHIND \?L1
?L3:	EQUAL? PRSO,BAG \?L1
	PRINTI "But before you can "
	EQUAL? PRSA,V?PUT,V?PUT-ON,V?PUT-UNDER /?L6
	EQUAL? PRSA,V?PUT-BEHIND \?L4
?L6:	PRINTI "put them "
	EQUAL? PRSA,V?PUT \?L7
	PRINTI "in "
	JUMP ?L15
?L7:	EQUAL? PRSA,V?PUT-ON \?L9
	PRINTI "on "
	JUMP ?L15
?L9:	EQUAL? PRSA,V?PUT-UNDER \?L10
	PRINTI "under "
	JUMP ?L15
?L10:	PRINTI "behind "
	JUMP ?L15
?L4:	EQUAL? PRSA,V?THROW,V?THROW-OVER \?L15
	PRINTI "throw them "
	EQUAL? PRSA,V?THROW \?L13
	PRINTI "at "
	JUMP ?L15
?L13:	PRINTI "over "
?L15:	CALL1 THEI-PRINT
	PRINTI ", they "
	JUMP ?L17
?L1:	PRINTI "They "
?L17:	PRINTI "[RIDX: 4568]"
	CALL1 DROP-CRUMBS
	RTRUE

	.FUNCT DROP-CRUMBS
	PRINTI " and "
	EQUAL? HERE,IN-SKY,ON-BIRD \?L1
	PRINTR "scatter in the wind."
?L1:	EQUAL? HERE,IN-WATER,IN-CIST,UNDER-WATER /?L4
	ZERO? IN-DISH? \?L4
	ZERO? IN-DORY? /?L3
?L4:	PRINTR "[RIDX: 4571]"
?L3:	ZERO? SUITED? /?L5
	ZERO? CCNT \?L6
	LOC EBAG >STACK
	MOVE BAG,STACK
	REMOVE EBAG
	FCLEAR EBAG,TOUCHED
	SET 'P-IT-OBJECT,BAG
?L6:	INC 'CCNT
	PRINTI "[RIDX: 4572]"
	PRINTD FILM
	PRINTR "[RIDX: 4573]"
?L5:	EQUAL? HERE,IN-ORBIT,ON-SAT \?L9
	PRINTI "tumble"
	PRINT OUTASITE
	RTRUE
?L9:	PRINTI "tumble "
	ZERO? IN-PRAM? /?L11
	PRINTI "out of the "
	PRINTD PRAM
	JUMP ?L16
?L11:	PRINTI "across the "
	FSET? HERE,INDOORS \?L14
	EQUAL? HERE,TUN1,TUN2,TUN3 /?L14
	EQUAL? HERE,IN-BARROW /?L14
	PRINTD FLOOR
	JUMP ?L16
?L14:	PRINTD GROUND
?L16:	FSET? RUBY,SEEN /?L17
	CALL1 GET-RUBY
	PRINTI ".

As the "
	ZERO? IN-PRAM? \?L21
	EQUAL? HERE,WABE \?L19
?L21:	PRINTI "breeze scatters "
	JUMP ?L22
?L19:	PRINTD POND-BIRDS
	PRINTI " gobble down "
	CALL2 PRINT-ID,STR?298
?L22:	PRINTI "the crumbs, "
	CALL1 NOTICE-RUBY
	RTRUE
?L17:	ZERO? LIT? \?L23
	PRINT PERIOD
	RTRUE
?L23:	PRINTI ", where "
	IN? MEEP,HERE \?L25
	CALL2 THE-PRINT,MEEP
	PRINTI " gobbles them all up"
	CALL2 PRINT-ID,STR?299
	EQUAL? HERE,W100 \?L27
	FSET? DOG,WINDY \?L27
	PRINTI "[RIDX: 4586]"
?L27:	PRINT PERIOD
	RTRUE
?L25:	FSET? HERE,INDOORS \?L30
	PRINTR "[RIDX: 4587]"
?L30:	PRINTI "[RIDX: 4588]"
	CRLF
	CALL2 PRINT-ID,STR?300
	RTRUE

	.FUNCT NOTICE-RUBY
	PRINTI "[RIDX: 4590]"
	IN? RUBY,PRAM \?L1
	PRINTI "peer inside"
	JUMP ?L4
?L1:	ZERO? IN-PRAM? \?L3
	PRINTI "stoop down"
	JUMP ?L4
?L3:	PRINTI "[RIDX: 4593]"
	PRINTD PRAM
?L4:	PRINTI "[RIDX: 4594]"
	IN? RUBY,PRAM \?L5
	PRINTI "in the pram"
	JUMP ?L8
?L5:	ZERO? IN-PRAM? \?L7
	PRINTI "at your feet"
	JUMP ?L8
?L7:	PRINTI "on the ground"
?L8:	PRINTI "[RIDX: 4598]"
	PRINTD BAG
	PRINT PERIOD
	RTRUE

	.FUNCT FEEL-STALE
	PRINTR "[RIDX: 4599]"

	.FUNCT IN-EBAG,CONTEXT=0
	EQUAL? CONTEXT,M-CONT \FALSE
	CALL1 TAKE-OUT-EBAG? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT TAKE-OUT-EBAG?,L
	LOC EBAG >L
	EQUAL? L,POCKET,FISSURE,CREVICE \FALSE
	CALL YOUD-HAVE-TO,STR?301,EBAG
	RTRUE

	.FUNCT EBAG-F
	CALL1 SAID-CRUMBS? >STACK
	ZERO? STACK /?L1
	PRINTI "[RIDX: 4609]"
	CRLF
	RETURN 2
?L1:	ZERO? NOW-PRSI? /?L5
	EQUAL? PRSA,V?PUT,V?PUT-ON \FALSE
	CALL1 TAKE-OUT-EBAG? >STACK
	ZERO? STACK /FALSE
	RTRUE
?L5:	EQUAL? PRSA,V?BUY-FROM \?L9
	EQUAL? PRSI,BWOMAN \?L9
	CALL1 HOW?
	RTRUE
?L9:	EQUAL? PRSA,V?MUNG,V?CUT,V?RIP /?L11
	EQUAL? PRSA,V?HIT,V?SQUEEZE,V?KICK /?L11
	EQUAL? PRSA,V?STAND-ON,V?UNFOLD \?L10
?L11:	CALL2 PRINT-ID,STR?302
	CALL1 WASTE-OF-TIME
	RTRUE
?L10:	CALL1 DO-BAG? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT GBAG-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL PERFORM,V?GIVE,PRSO,BWOMAN
	RTRUE
?L1:	EQUAL? PRSA,V?BUY,V?CHARGE \?L6
	CALL1 TRY-BUY
	RTRUE
?L6:	EQUAL? PRSA,V?BUY-FROM \?L7
	EQUAL? PRSI,BWOMAN \?L7
	CALL PERFORM,V?BUY,PRSO
	RTRUE
?L7:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L8
	PRINTR "[RIDX: 4612]"
?L8:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 NO-TOUCHIN
	RTRUE

	.FUNCT NO-TOUCHIN
	FSET BWOMAN,SEEN
	PRINTI "The woman slaps "
	PRINTD HANDS
	PRINTI "[RIDX: 4614]"
	CRLF
	CALL2 PRINT-ID,STR?303 >STACK
	RSTACK

	.FUNCT GENERIC-BAG-F,TBL
	FSET? EBAG,TOUCHED \?L1
	RETURN EBAG
?L1:	RETURN BAG

	.FUNCT TRY-BUY
	EQUAL? HERE,BROAD-WALK /?L1
	PRINTR "[RIDX: 4616]"
?L1:	EQUAL? PRSI,COIN,SCOIN,CREDIT-CARD \?L3
	CALL PERFORM,V?GIVE,PRSI,BWOMAN
	RTRUE
?L3:	ZERO? PRSI /?L4
	FSET BWOMAN,SEEN
	CALL2 CTHE-PRINT,BWOMAN
	PRINTI "[RIDX: 4617]"
	CRLF
	CALL2 PRINT-ID,STR?304
	RTRUE
?L4:	CALL2 GOT?,COIN >STACK
	ZERO? STACK /?L5
	CALL2 BUY-WITH,COIN
	RTRUE
?L5:	CALL2 GOT?,SCOIN >STACK
	ZERO? STACK /?L6
	CALL2 BUY-WITH,SCOIN
	RTRUE
?L6:	CALL2 GOT?,CREDIT-CARD >STACK
	ZERO? STACK /?L7
	CALL2 BUY-WITH,CREDIT-CARD
	RTRUE
?L7:	CALL1 NO-MONEY
	RTRUE

	.FUNCT BUY-WITH,THING
	PRINTI "[with "
	CALL2 THE-PRINT,THING
	PRINT BRACKET
	CALL PERFORM,V?GIVE,THING,BWOMAN
	RTRUE

	.FUNCT GET-RUBY,P=0
	CALL2 PRINT-ID,STR?305
	FSET RUBY,SEEN
	ZERO? P \?L1
	PUSH HERE
	JUMP ?L3
?L1:	PUSH PRAM
?L3:	MOVE RUBY,STACK
	SET 'P-IT-OBJECT,RUBY
	CALL QUEUE,I-RUBY,-1
	RTRUE

	.FUNCT RUBY-F
	ZERO? NOW-PRSI? \FALSE
	CALL1 TRUBY-F >STACK
	ZERO? STACK \TRUE
	EQUAL? PRSA,V?TAKE,V?TOUCH,V?HIT /?L5
	EQUAL? PRSA,V?KISS,V?SQUEEZE,V?SHAKE /?L5
	EQUAL? PRSA,V?PLAY,V?KNOCK,V?MOVE /?L5
	EQUAL? PRSA,V?PULL,V?PUSH,V?PUSH-TO /?L5
	EQUAL? PRSA,V?RAISE \FALSE
?L5:	EQUAL? PRSI,0,HANDS \FALSE
	FSET? PRSO,TOUCHED /FALSE
	FSET PRSO,TOUCHED
	PRINTI "[RIDX: 4625]"
	CALL1 MEEP-GETS-RUBY
	RTRUE

	.FUNCT TRUBY-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE \FALSE
	CALL2 SPARKLE-WITH,STR?306 >STACK
	RSTACK

	.FUNCT SPARKLE-WITH,STR
	PRINTI "[RIDX: 4627]"
	PRINT STR
	PRINTR " fire."

	.FUNCT EMERALD-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE \FALSE
	CALL2 SPARKLE-WITH,STR?307 >STACK
	RSTACK

	.FUNCT GPRAM-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH /?L3
	EQUAL? PRSA,V?WATCH \?L1
?L3:	PRINTR "[RIDX: 4632]"
?L1:	CALL1 HANDLE-BABES? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT GENERIC-PRAM-F,TABLE
	RETURN PRAM

	.FUNCT DESCRIBE-PRAM,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "[RIDX: 4635]"
	PRINTD PRAM
	PRINTI " unattended"
	FIRST? PRAM >STACK \?L4
	FSET? PRAM,OPENED \?L4
	PRINTI ". Inside it you see "
	CALL2 PRINT-CONTENTS,PRAM
?L4:	PRINTI "."
	RTRUE

	.FUNCT PRAM-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	EQUAL? PRSO,ME \?L5
	CALL PERFORM,V?ENTER,PRAM
	RTRUE
?L5:	EQUAL? PRSO,BAG \FALSE
	CALL1 PIGEONS-EAT-BAG
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L10
	ZERO? IN-PRAM? /?L10
	PRINTI "Aside from "
	PRINTD ME
	PRINTI ", you see "
	CALL2 PRINT-CONTENTS,PRAM
	PRINTI " in the "
	PRINTD PRAM
	PRINT PERIOD
	RTRUE
?L10:	EQUAL? PRSA,V?ENTER,V?CLIMB-ON,V?SIT /?L12
	EQUAL? PRSA,V?LIE-DOWN,V?CLIMB-UP,V?STAND-ON /?L12
	EQUAL? PRSA,V?STAND \?L11
?L12:	ZERO? IN-PRAM? /?L13
	EQUAL? PRSA,V?STAND-ON,V?STAND /?L13
	CALL1 ALREADY-IN
	RTRUE
?L13:	FSET? PRSO,OPENED /?L15
	CALL YOUD-HAVE-TO,STR?70,PRSO
	RTRUE
?L15:	EQUAL? PRSA,V?STAND-ON,V?STAND \?L16
	ZERO? IN-PRAM? \?L17
	PRINTI "[RIDX: 4643]"
	PRINTD PRSO
	PRINTI "[RIDX: 4644]"
	CALL2 PRINT-ID,STR?308
	JUMP ?L19
?L17:	SET 'OLD-HERE,0
	SET 'IN-PRAM?,0
	FCLEAR PRSO,NODESC
	PRINTI "[RIDX: 4646]"
?L19:	PRINT PCR
	CALL2 ITALICIZE,STR?309
	PRINTI "[RIDX: 4648]"
	ZERO? RAID? \?L20
	EQUAL? HERE,WABE /?L20
	PRINTI "[RIDX: 4649]"
?L20:	PRINTR "[RIDX: 4650]"
?L16:	CALL2 VISIBLE?,RUBY >STACK
	ZERO? STACK /?L23
	PRINTI "[RIDX: 4651]"
	PRINTD PRSO
	PRINTI ", but stop short as "
	CALL1 MEEP-GETS-RUBY
	RTRUE
?L23:	SET 'IN-PRAM?,1
	FSET PRSO,NODESC
	SET 'OLD-HERE,0
	PRINTI "[RIDX: 4653]"
	ZERO? RAID? \?L25
	EQUAL? HERE,WABE /?L25
	PRINTI "[RIDX: 4654]"
?L25:	PRINTI "[RIDX: 4655]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L11:	CALL1 EXITING? >STACK
	ZERO? STACK \?L29
	EQUAL? PRSA,V?CLIMB-DOWN,V?LEAP \?L28
?L29:	ZERO? IN-PRAM? \?L30
	CALL1 NOT-IN
	RTRUE
?L30:	SET 'IN-PRAM?,0
	FCLEAR PRSO,NODESC
	SET 'OLD-HERE,0
	PRINTI "[RIDX: 4656]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L28:	EQUAL? PRSA,V?PUSH-TO \?L33
	EQUAL? PRSI,GRASS,LWATER \?L37
	EQUAL? HERE,LAN-WALK /?L36
?L37:	EQUAL? PRSI,GRPOND \?L34
	EQUAL? HERE,BROAD-WALK \?L34
?L36:	CALL2 DO-WALK,P?EAST
	RTRUE
?L34:	EQUAL? PRSI,INTDIR \?L38
	MOVE PRSO,PLAYER
	CALL2 DO-WALK,P-DIRECTION
	MOVE PRSO,HERE
	PUTP PRSO,P?DESCFCN,0
	RTRUE
?L38:	CALL1 V-WALK-AROUND
	RTRUE
?L33:	EQUAL? PRSA,V?TAKE,V?RAISE \?L40
	PRINT CANT
	PRINTI "lift the clumsy "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L40:	EQUAL? PRSA,V?MOVE,V?PUSH,V?PULL /?L42
	EQUAL? PRSA,V?TURN,V?SPIN \?L41
?L42:	PRINTI "[To move the "
	PRINTD PRSO
	PRINTI "[RIDX: 4659]"
	PRINTD INTDIR
	PRINTR "[RIDX: 4660]"
?L41:	EQUAL? PRSA,V?LOOSEN \?L43
	ZERO? PRSI /?L43
	EQUAL? P-PRSA-WORD,W?LOOSEN,W?HOOK,W?PRY /?L43
	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,2 \?L44
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 4661]"
?L44:	CALL NOT-LIKELY,PRSI,STR?310
	RTRUE
?L43:	EQUAL? PRSA,V?CLOSE \?L47
	ZERO? IN-PRAM? /?L47
	CALL1 CANT-WHILE-IN-PRAM >STACK
	RSTACK
?L47:	EQUAL? PRSA,V?KICK,V?SHAKE,V?RAPE \FALSE
	ZERO? IN-PRAM? \FALSE
	EQUAL? HERE,WABE /FALSE
	ZERO? RAID? \?L49
	PRINTI "Pass"
	JUMP ?L51
?L49:	PRINTI "Flee"
?L51:	PRINTI "ing "
	PRINTD NANNIES
	PRINTI " look on in horror."
	CRLF
	CALL2 PRINT-ID,STR?311 >STACK
	RSTACK

	.FUNCT CANT-WHILE-IN-PRAM
	PRINTR "[RIDX: 4668]"

	.FUNCT BPRAM-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE \?L6
	CALL2 CTHE-PRINT,PRAM
	PRINTR "[RIDX: 4670]"
?L6:	EQUAL? PRSA,V?TAKE,V?RAISE \?L7
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 4671]"
?L7:	EQUAL? PRSA,V?PUSH-TO,V?MOVE,V?PULL /?L9
	EQUAL? PRSA,V?PUSH \?L8
?L9:	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 4672]"
?L8:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE \?L10
	PRINTI "The top of the "
	PRINTD PRAM
	PRINTR "[RIDX: 4674]"
?L10:	EQUAL? PRSA,V?ENTER,V?CLIMB-ON,V?SIT /?L12
	EQUAL? PRSA,V?LIE-DOWN,V?CLIMB-UP,V?STAND-ON /?L12
	EQUAL? PRSA,V?STAND \FALSE
?L12:	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 4675]"

	.FUNCT NOTICE-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L1
	FSET NOTICE,TOUCHED
	PRINTI "The words "
	CALL2 ITALICIZE,STR?312
	PRINTI "[RIDX: 4681]"
	PRINTD NOTICE
	PRINT PERIOD
	RTRUE
?L1:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L4
	CALL1 ENTERING? >STACK
	ZERO? STACK /FALSE
?L4:	FSET? NOTICE,TOUCHED \?L5
	CALL2 GRASS-STOPS-YOU,STR?313
	RETURN 2
?L5:	CALL1 READ-NOTICE-FIRST
	RETURN 2

	.FUNCT GRASS-F
	FSET? HERE,INDOORS \?L1
	CALL2 CANT-SEE-ANY,GRASS
	RETURN 2
?L1:	EQUAL? HERE,LAN-WALK /?L5
	CALL1 GROUND-F >STACK
	ZERO? STACK /FALSE
	RTRUE
?L5:	ZERO? NOW-PRSI? /?L9
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	FSET PRSI,CHILLY
	REMOVE PRSO
	CALL1 CTHE-PRINT
	PRINTI " lands on the "
	PRINTD GRASS
	PRINTI "[RIDX: 4686]"
	PRINTD VOICES
	PRINTI "[RIDX: 4687]"
	PRINTD SOUND
	PRINTI "[RIDX: 4688]"
	CALL1 THE-PRINT
	PRINTR "[RIDX: 4689]"
?L9:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L14
	EQUAL? PRSA,V?SEARCH \?L13
?L14:	PRINTR "[RIDX: 4690]"
?L13:	EQUAL? PRSA,V?CROSS,V?CLIMB-ON,V?ENTER /?L16
	EQUAL? PRSA,V?WALK-TO,V?CLIMB-OVER,V?STAND-ON /?L16
	EQUAL? PRSA,V?SIT,V?LIE-DOWN,V?LEAP /?L16
	EQUAL? PRSA,V?THROUGH,V?WALK-AROUND \?L15
?L16:	FSET? NOTICE,TOUCHED \?L17
	CALL2 GRASS-STOPS-YOU,STR?314
	RETURN 2
?L17:	CALL1 READ-NOTICE-FIRST
	RETURN 2
?L15:	EQUAL? PRSI,0,HANDS \?L24
	EQUAL? PRSA,V?TAKE,V?TOUCH,V?CUT /?L25
	EQUAL? PRSA,V?RIP,V?MOVE,V?PULL /?L25
	EQUAL? PRSA,V?LOOSEN,V?DIG,V?LOOK-UNDER /?L25
	EQUAL? PRSA,V?SQUEEZE,V?MUNG,V?HIT /?L25
	EQUAL? PRSA,V?SHAKE,V?REACH-IN,V?PICK /?L25
	EQUAL? PRSA,V?PLAY,V?KISS,V?KICK \?L24
?L25:	FSET? NOTICE,TOUCHED \?L26
	CALL2 GRASS-STOPS-YOU,STR?315
	RETURN 2
?L26:	CALL1 READ-NOTICE-FIRST
	RETURN 2
?L24:	EQUAL? PRSA,V?LISTEN \FALSE
	FSET? PRSO,CHILLY \FALSE
	FCLEAR PRSO,CHILLY
	PRINTI "You hear tiny "
	PRINTD VOICES
	PRINTI "[RIDX: 4694]"
	CALL1 ALL-IS-STILL >STACK
	RSTACK

	.FUNCT GRASS-STOPS-YOU,STR,UMB?=0
	FSET GRASS,CHILLY
	FSET? GRASS,TOUCHED /?L1
	FSET GRASS,TOUCHED
	PRINT STR
	PRINTI "[RIDX: 4696]"
	PRINTD GRASS
	PRINTI "[RIDX: 4697]"
	CRLF
	CRLF
?L1:	PRINTI "[RIDX: 4698]"
	PRINTD CSURFACE
	PRINTI " of the "
	PRINTD LNWALK
	PRINT PCR
	PRINTI "[RIDX: 4700]"
	PRINTD VOICES
	PRINTI "[RIDX: 4701]"
	CALL2 PRINT-ID,STR?316
	ZERO? UMB? \?L6
	CALL2 HELD?,PARASOL >STACK
	ZERO? STACK /?L4
	FSET? PARASOL,OPENED \?L4
?L6:	CALL1 AND-SNAP
	RTRUE
?L4:	PRINT PERIOD
	FSET? GRASS,SEEN /TRUE
	FSET GRASS,SEEN
	CALL QUEUE,I-BIKES,-1
	RTRUE

	.FUNCT ENERGY-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L1
	PRINTI "[RIDX: 4704]"
	PRINTD PRSO
	PRINTI " is called "
	CALL2 ITALICIZE,STR?317
	CRLF
	RTRUE
?L1:	CALL1 GETTING-INTO? >STACK
	ZERO? STACK /FALSE
	CALL2 CTHE-PRINT,ENERGY
	PRINTR "[RIDX: 4707]"

	.FUNCT BALL-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?THROW \FALSE
	EQUAL? PRSO,PARASOL \FALSE
	IN? PRSI,TREE \FALSE
	CALL1 TREE-SWITCH
	RTRUE
?L1:	IN? PRSO,TREE \?L6
	ZERO? PRSI /?L7
	EQUAL? PRSA,V?HIT,V?LOOSEN,V?TAKE /?L9
	EQUAL? PRSA,V?TAKE-WITH,V?TOUCH,V?TOUCH-TO /?L9
	EQUAL? PRSA,V?SHAKE \?L7
?L9:	CALL1 NICE-TRY
	RTRUE
?L7:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL2 CANT-REACH,BALL
	RTRUE
?L6:	EQUAL? PRSA,V?KICK,V?PLAY,V?BOUNCE \FALSE
	PRINTI "You "
	PRINTB P-PRSA-WORD
	PRINTI " the "
	PRINTD PRSO
	EQUAL? PRSA,V?KICK \?L13
	PRINTI " around"
?L13:	PRINTI "[RIDX: 4712]"
	EQUAL? HERE,WABE \?L16
	PRINTI "there's nobody here "
	JUMP ?L18
?L16:	PRINTI "nobody stops "
?L18:	PRINTR "[RIDX: 4715]"

	.FUNCT PARASOL-F
	IN? PARASOL,JWOMAN \?L1
	PRINTI "You approach the "
	PRINTD PARASOL
	PRINTI " in the "
	PRINTD JWOMAN
	PRINTI "[RIDX: 4719]"
	PRINT PCR
	CALL PERFORM,V?EXAMINE,JWOMAN
	RTRUE
?L1:	CALL NOUN-USED?,W?HANDLE,W?PARROT,W?HEAD >STACK
	ZERO? STACK \?L4
	CALL2 ADJ-USED?,W?PARROT$0027S >STACK
	ZERO? STACK /?L3
?L4:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L5
	PRINTR "[RIDX: 4720]"
?L5:	EQUAL? PRSA,V?TAKE,V?MOVE,V?PULL \?L7
	PRINTI "The handle is "
	CALL1 ATTACHED-TO
	RTRUE
?L7:	CALL YOU-DONT-NEED,STR?318,1
	RTRUE
?L3:	ZERO? NOW-PRSI? /?L9
	EQUAL? PRSA,V?THROW,V?THROW-OVER \?L10
	EQUAL? PRSO,BALL \?L12
	IN? PRSI,TREE \?L12
	CALL1 TREE-SWITCH
	RTRUE
?L12:	CALL1 CTHE-PRINT
	PRINTI " glances off the "
	PRINTD PRSI
	PRINTI " and "
	CALL1 LANDS-AT-YOUR-FEET
	IN? PRSI,TREE \TRUE
	CRLF
	CALL1 CTHEI-PRINT
	PRINTR "[RIDX: 4725]"
?L10:	EQUAL? PRSA,V?PUT,V?PUT-ON \FALSE
	IN? PRSI,TREE \?L19
	CALL2 CANT-REACH,PRSI
	RTRUE
?L19:	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L9:	EQUAL? PRSA,V?FILL \?L23
	FSET? PRSI,WATERY \?L23
	CALL1 SPLASHES
	RTRUE
?L23:	EQUAL? PRSA,V?FIND,V?FOLLOW \?L24
	CALL2 VISIBLE?,PARASOL >STACK
	ZERO? STACK /?L25
	CALL1 ITS-RIGHT-HERE
	RTRUE
?L25:	CALL1 CANT-SEE-ANY
	RTRUE
?L24:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE \?L28
	PRINTI "The"
	CALL2 OPEN-CLOSED,PRSO
	IN? PRSO,TREE \?L29
	PRINTI "[RIDX: 4727]"
	JUMP ?L31
?L29:	PRINTI "'"
?L31:	PRINTI "[RIDX: 4729]"
	FSET? PRSO,OPENED \?L32
	PRINTI ", and the "
	CALL1 READ-SLOGAN
	RTRUE
?L32:	PRINT PERIOD
	RTRUE
?L28:	EQUAL? PRSA,V?READ,V?LOOK-ON \?L35
	IN? PRSO,TREE \?L36
	CALL1 CANT-FROM-HERE
	RTRUE
?L36:	FSET? PRSO,OPENED \?L38
	PRINTI "The "
	CALL1 READ-SLOGAN
	RTRUE
?L38:	CALL YOUD-HAVE-TO,STR?70,PRSO
	RTRUE
?L35:	IN? PRSO,TREE \?L40
	ZERO? PRSI /?L41
	EQUAL? PRSA,V?HIT,V?LOOSEN,V?TAKE /?L43
	EQUAL? PRSA,V?TAKE-WITH,V?TOUCH,V?TOUCH-TO /?L43
	EQUAL? PRSA,V?SHAKE \?L41
?L43:	CALL1 NICE-TRY
	RTRUE
?L41:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL2 CANT-REACH,PARASOL
	RTRUE
?L40:	EQUAL? PRSA,V?TAKE \?L46
	FSET? PRSO,SEEN /?L46
	CALL1 ITAKE >STACK
	ZERO? STACK /TRUE
	FSET PRSO,SEEN
	PRINTI "As you pick up the "
	PRINTD PRSO
	PRINTI "[RIDX: 4734]"
	PRINT ALLPRAMS
	PRINTI """"
	CRLF
	CALL2 UPDATE-SCORE,5
	RTRUE
?L46:	EQUAL? PRSA,V?STAND-UNDER \?L50
	IN? PARASOL,PLAYER /?L51
	CALL YOUD-HAVE-TO,STR?240,PRSO
	RTRUE
?L51:	FSET? PRSO,OPENED /?L53
	CALL1 ITS-CLOSED
	RTRUE
?L53:	CALL1 ALREADY-DOING-THAT
	RTRUE
?L50:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?UNFOLD \?L55
	EQUAL? PRSI,0,HANDS \?L55
	CALL2 DONT-HAVE?,PRSO >STACK
	ZERO? STACK \TRUE
	FSET? PRSO,OPENED \?L58
	CALL2 ITS-ALREADY,STR?70
	RTRUE
?L58:	EQUAL? HERE,IN-SKY \?L59
	ZERO? SUITED? \?L134
	FSET PRSO,OPENED
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 4738]"
?L59:	ZERO? SUITED? /?L60
?L134:	CALL2 CTHE-PRINT,FILM
	EQUAL? HERE,IN-ORBIT,ON-SAT \?L61
	PRINTR "[RIDX: 4739]"
?L61:	FSET PRSO,OPENED
	PRINTI "[RIDX: 4740]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L60:	FSET? HERE,WINDY \FALSE
	PRINTI "The "
	CALL1 SAY-WIND
	PRINTI " fills the "
	PRINTD PRSO
	PRINTI "[RIDX: 4743]"
	ZERO? IN-PRAM? \?L66
	PRINTI "'"
	JUMP ?L68
?L66:	MOVE PRAM,PLAYER
	PRINTI " and your "
	PRINTD PRAM
	PRINTI " a"
?L68:	PRINTI "re blown helplessly "
	FSET? EWIND,SEEN \?L69
	PRINTI "we"
	JUMP ?L71
?L69:	PRINTI "ea"
?L71:	PRINTI "stward"
	EQUAL? HERE,LAN-GATE,LION-GATE,AT-TERRACE \?L72
	EQUAL? HERE,LION-GATE,AT-TERRACE \?L74
	FSET? WWIND,SEEN \?L74
	EQUAL? HERE,LION-GATE \?L76
	PRINTI " past "
	PRINTD TERRACE
?L76:	SET 'HERE,LAN-GATE
	MOVE PLAYER,HERE
	PRINTI " to the "
	PRINTD LGATE
	PRINTI ", where"
	JUMP ?L83
?L74:	EQUAL? HERE,LAN-GATE,AT-TERRACE \?L79
	FSET? EWIND,SEEN \?L79
	EQUAL? HERE,LAN-GATE \?L80
	PRINTI " past "
	PRINTD TERRACE
?L80:	SET 'HERE,LION-GATE
	MOVE PLAYER,HERE
	PRINTI " to the "
	PRINTD BLGATE
	PRINTI ", where"
	JUMP ?L83
?L79:	PRINTI " until"
?L83:	PRINTI "[RIDX: 4758]"
	CALL2 PRINT-ID,STR?319
	CALL1 SAY-TOURISTS
	JUMP ?L113
?L72:	EQUAL? HERE,WABE \?L84
	PRINTI "[RIDX: 4760]"
	PRINTD THICKET
	CALL2 PRINT-ID,STR?320
	JUMP ?L113
?L84:	EQUAL? HERE,PAL-GATE,FLOWER-WALK \?L85
	EQUAL? HERE,PAL-GATE \?L86
	FSET? WWIND,SEEN \?L86
	SET 'HERE,FLOWER-WALK
	MOVE PLAYER,HERE
	PRINTI " to the "
	PRINTD FLWALK
	PRINTI ", where"
	JUMP ?L89
?L86:	EQUAL? HERE,FLOWER-WALK \?L88
	FSET? EWIND,SEEN \?L88
	SET 'HERE,PAL-GATE
	MOVE PLAYER,HERE
	PRINTI " to the "
	PRINTD PAL-GATE
	PRINTI ", where"
	JUMP ?L89
?L88:	PRINTI " until"
?L89:	PRINTI "[RIDX: 4767]"
	EQUAL? HERE,FLOWER-WALK \?L90
	PRINTD BEDS
	CALL2 PRINT-ID,STR?321
	JUMP ?L113
?L90:	CALL2 PRINT-ID,STR?322
	CALL1 SAY-TOURISTS
	JUMP ?L113
?L85:	FSET? WWIND,SEEN \?L93
	EQUAL? HERE,BROAD-WALK,ROUND-POND \?L94
	EQUAL? HERE,BROAD-WALK \?L96
	PRINTI " past the "
	PRINTD RPOND
?L96:	ZERO? IN-PRAM? \?L99
	SET 'HERE,LAN-WALK
	MOVE PLAYER,HERE
?L99:	PRINTI " to the "
	PRINTD LNWALK
	PRINTI ", where you roll"
?L94:	PRINTI " onto the "
	PRINTD GRASS
	PRINT PCR
	ZERO? IN-PRAM? /?L103
	CALL1 GO-TO-LONG-WATER
	RETURN 2
?L103:	CALL GRASS-STOPS-YOU,STR?323,1
	EQUAL? HERE,OLD-HERE /?L108
	CRLF
	CALL1 V-LOOK
?L108:	RETURN 2
?L93:	EQUAL? HERE,LAN-WALK,ROUND-POND \?L114
	EQUAL? HERE,LAN-WALK \?L116
	PRINTI " past the "
	PRINTD RPOND
?L116:	SET 'HERE,BROAD-WALK
	MOVE PLAYER,HERE
	PRINTI " to the "
	PRINTD BROAD-WALK
	PRINTI ", where"
	JUMP ?L119
?L114:	PRINTI " until"
?L119:	PRINTI "[RIDX: 4767]"
	PRINTD VICTORIA
	CALL2 PRINT-ID,STR?324
?L113:	ZERO? IN-PRAM? /?L120
	SET 'OLD-HERE,0
	SET 'IN-PRAM?,0
	FCLEAR PRAM,NODESC
	MOVE PRAM,HERE
	CALL MOVE-ALL,PRAM,HERE
	PRINTI "[RIDX: 4781]"
	PRINTD PRAM
?L120:	PRINT PERIOD
	CALL1 PAIN-REGAIN
	EQUAL? HERE,OLD-HERE /?L123
	CRLF
	CALL1 V-LOOK
?L123:	RETURN 2
?L55:	EQUAL? PRSA,V?CLOSE,V?FOLD \FALSE
	CALL2 DONT-HAVE?,PRSO >STACK
	ZERO? STACK \TRUE
	FSET? PRSO,OPENED /FALSE
	CALL2 ITS-ALREADY,STR?71
	RTRUE

	.FUNCT READ-SLOGAN
	PRINTI "slogan """
	FSET? PRSO,FLIPPED \?L1
	PRINTI "[RIDX: 4784]"
	JUMP ?L3
?L1:	PRINTI "[RIDX: 4785]"
	PRINTD GARDENS
?L3:	PRINTR "[RIDX: 4786]"

	.FUNCT TREE-SWITCH
	MOVE PRSO,TREE
	FSET PRSO,NODESC
	MOVE PRSI,LAN-GATE
	FCLEAR PRSI,NODESC
	SET 'P-IT-OBJECT,PRSI
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 4787]"
	PRINTD PRSI
	PRINTI ".

The "
	PRINTD PRSI
	PRINTR "[RIDX: 4789]"

	.FUNCT NICE-TRY
	PRINTI "[RIDX: 4790]"
	EQUAL? PRSI,HANDS,0 \?L1
	PRINTI "your arm"
	JUMP ?L3
?L1:	CALL1 THEI-PRINT
?L3:	PRINTI "[RIDX: 4792]"
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE

	.FUNCT GO-TO-LONG-WATER
	SET 'IN-PRAM?,0
	FCLEAR PRAM,NODESC
	SET 'FREEZE?,1
	SET 'MINUTES,59
	SET 'HOURS,15
	SET 'SECONDS,45
	SET 'HERE,LONG-WATER
	MOVE PLAYER,HERE
	CALL MOVE-ALL,PRAM,HERE
	CALL1 DROP-ALL
	MOVE PARASOL,PLAYER
	REMOVE PRAM
	IN? CRANE,HERE \?L1
	REMOVE CRANE
	MOVE BAD-CRANE,HERE
	FCLEAR BAD-CRANE,TOUCHED
	PUTP BAD-CRANE,P?FDESC,STR?325
?L1:	CALL2 DEQUEUE,I-MEEP
	CALL2 DEQUEUE,I-AIR-RAID
	CALL2 DEQUEUE,I-BWOMAN
	CALL2 DEQUEUE,I-BOY
	IN? WAND,GIANT /?L4
	MOVE WAND,GIANT
?L4:	CALL2 DEQUEUE,I-CRANE-APPEARS
	CALL2 DEQUEUE,I-BIKES
	CALL QUEUE,I-LONDON-HOLE,-1
	FCLEAR WWIND,SEEN
	PRINTI "[RIDX: 4794]"
	PRINTD PRAM
	PRINTI ", you see the "
	PRINTD LWATER
	PRINTI "[RIDX: 4796]"
	PRINTD PARASOL
	PRINTI "[RIDX: 4797]"
	PRINT PCR
	CALL2 PRINT-ID,STR?326
	CALL2 ITALICIZE,STR?309
	CALL1 CARRIAGE-RETURNS
	CALL1 V-LOOK
	CALL1 PAIN-REGAIN
	RTRUE

	.FUNCT PAIN-REGAIN
	CRLF
	PRINTI "[RIDX: 4801]"
	CALL1 AND-SNAP >STACK
	RSTACK

	.FUNCT AND-SNAP
	FCLEAR PARASOL,OPENED
	PRINTI " and snap the "
	PRINTD PARASOL
	PRINTR " shut."

	.FUNCT DESCRIBE-TREE,CONTEXT=0,X
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	FIRST? TREE >X /?L4
?L4:	PRINTI "A"
	FSET? X,VOWEL \?L5
	PRINTI "n"
?L5:	PRINTI " "
	PRINTD X
	PRINTI "[RIDX: 4810]"
	RTRUE

	.FUNCT TREE-F,ST=0,WORD
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 4812]"
	CALL1 LANDS-AT-YOUR-FEET
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH /?L7
	EQUAL? PRSA,V?LOOK-UP \?L6
?L7:	PRINTI "[RIDX: 4813]"
	FIRST? TREE >WORD \?L9
	PRINTI ", except for "
	CALL2 THE-PRINT,WORD
	PRINTI "[RIDX: 4815]"
?L9:	PRINT PERIOD
	RTRUE
?L6:	EQUAL? PRSA,V?ENTER,V?CLIMB-ON,V?CLIMB-UP /?L13
	EQUAL? PRSA,V?CLIMB-OVER,V?SIT,V?LIE-DOWN /?L13
	EQUAL? PRSA,V?STAND-ON,V?STAND,V?REACH-IN \?L12
?L13:	CALL1 NO-FOOTHOLDS
	RTRUE
?L12:	CALL1 EXITING? >STACK
	ZERO? STACK \?L15
	EQUAL? PRSA,V?LEAP,V?CLIMB-DOWN \?L14
?L15:	CALL1 NOT-IN
	RTRUE
?L14:	EQUAL? PRSA,V?SHAKE,V?HIT,V?KNOCK /?L17
	EQUAL? PRSA,V?PUSH,V?PULL,V?MOVE /?L17
	EQUAL? PRSA,V?LOOSEN,V?SWING \?L16
?L17:	GET P-NAMW,0 >WORD
	PRINTI "The "
	PRINTB WORD
	PRINTI " move"
	EQUAL? WORD,W?BRANCHES,W?LEAVES /?L18
	PRINTI "s"
?L18:	PRINTI " ever so slightly"
	FIRST? TREE >WORD \?L22
	PRINTI ", "
	CALL2 THE-PRINT,WORD
	PRINTI " not at all"
?L22:	PRINT PERIOD
	RTRUE
?L16:	EQUAL? PRSA,V?STAND-UNDER \?L25
	PRINT YOURE-ALREADY
	PRINTR "under the tree."
?L25:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT PAN-F
	EQUAL? PRSA,V?EXAMINE,V?READ,V?LOOK-ON \?L1
	CALL2 CTHE-PRINT,PAN
	PRINTR "[RIDX: 4825]"
?L1:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?CLIMB-UP /?L4
	EQUAL? PRSA,V?SIT,V?STAND-ON,V?ENTER /?L4
	EQUAL? PRSA,V?LIE-DOWN \FALSE
?L4:	CALL2 CTHE-PRINT,PAN
	PRINTR "[RIDX: 4826]"

	.FUNCT SIRENS-F
	ZERO? RAID? /?L3
	ZERO? FREEZE? /?L1
?L3:	PRINT CANT
	PRINTI "hear any"
	PRINT AT-MOMENT
	CRLF
	RETURN 2
?L1:	EQUAL? PRSA,V?LISTEN \?L6
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 4829]"
?L6:	EQUAL? PRSA,V?WALK-TO,V?FOLLOW \?L7
	CALL1 V-WALK-AROUND
	RTRUE
?L7:	INTBL? PRSA,SEEVERBS,NSVERBS >STACK \?L8
	CALL1 CANT-SEE-MUCH
	RTRUE
?L8:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT MISSILE-F
	FSET? MISSILE,TOUCHED /?L1
	CALL2 CANT-SEE-ANY,MISSILE
	RETURN 2
?L1:	EQUAL? PRSA,V?EXAMINE \?L5
	EQUAL? HCNT,5 \?L6
	CALL2 I-LONDON-HOLE,0
	RTRUE
?L6:	PRINTI "The "
	LESS? HCNT,6 \?L9
	PRINTI "slowly falling "
	JUMP ?L11
?L9:	PRINTI "floating "
?L11:	PRINTD MISSILE
	PRINTR "[RIDX: 4836]"
?L5:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?RIDE /?L13
	EQUAL? PRSA,V?SIT,V?STAND-ON,V?LIE-DOWN \?L12
?L13:	CALL2 THIS-IS-NOT,STR?327
	RTRUE
?L12:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT LWDOOR-F
	FSET? LWDOOR,TOUCHED /?L1
	CALL2 CANT-SEE-ANY,LWDOOR
	RETURN 2
?L1:	CALL NOUN-USED?,W?DOORS,W?DOORWAYS >STACK
	ZERO? STACK /?L5
	PRINTI "[RIDX: 4840]"
	CRLF
	RETURN 2
?L5:	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L10
	EQUAL? PRSA,V?SEARCH \?L9
?L10:	CALL1 UNEASY-DOOR
	RTRUE
?L9:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L12
	EQUAL? PRSA,V?SWIM,V?DIVE \?L11
?L12:	EQUAL? HERE,IN-WATER \?L13
	CALL1 GO-INTO-LWDOOR
	RTRUE
?L13:	CALL1 CANT-FROM-HERE
	RTRUE
?L11:	CALL1 EXITING? >STACK
	ZERO? STACK /?L16
	CALL1 NOT-IN
	RTRUE
?L16:	EQUAL? PRSA,V?CLOSE \?L17
	CALL1 CANT-FROM-HERE
	RTRUE
?L17:	EQUAL? HERE,IN-WATER /FALSE
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT UNEASY-DOOR
	PRINTI "[RIDX: 4841]"
	PRINTD PRSO
	PRINTI "[RIDX: 4842]"
	CRLF
	CALL2 PRINT-ID,STR?328 >STACK
	RSTACK

	.FUNCT GO-INTO-LWDOOR,ST=0,X
	CALL1 BROLLY-OPEN? >STACK
	ZERO? STACK \FALSE
	MOVE MEEP,TS6
	CALL QUEUE,I-FMEEP,-1
	PUTP MEEP,P?CONTFCN,IN-TS6
	SET 'RAID?,0
	SET 'FREEZE?,0
	CALL2 DEQUEUE,I-LONDON-HOLE
	CALL2 DEQUEUE,I-MEEP
	CALL2 DEQUEUE,I-RUBY
	CALL QUEUE,I-SHADOW,-1
	CALL QUEUE,I-BUBBLES,-1
	CALL QUEUE,I-METEOR,-1
	CALL QUEUE,I-MAGPIE,-1
	CALL QUEUE,I-LUMP,-1
	GRTR? HCNT,1 \?L4
	PRINTI "As y"
	JUMP ?L6
?L4:	PRINTI "Y"
?L6:	PRINTI "[RIDX: 4847]"
	GRTR? HCNT,1 \?L7
	PRINTI "a familiar "
	PRINTD MEEP
	PRINTI " flutters past"
	CALL1 ENTICINGLY
	PRINTI "[RIDX: 4850]"
	JUMP ?L9
?L7:	PRINTI "of "
?L9:	CALL2 THE-PRINT,LWDOOR
	PRINT PCR
	PRINTI "[RIDX: 4852]"
	PRINT PCR
	GETB 0,30 >STACK
	EQUAL? STACK,5 \?L10
	INC 'ST
	CALL1 ST-QUOTE
	HLIGHT H-ITALIC
	JUMP ?L12
?L10:	PRINTI """"
?L12:	PRINTI "This way, please."
	CALL2 SEE-NO-ONE,ST
	CRLF
	ZERO? ST \?L13
	PRINTI """"
	JUMP ?L15
?L13:	CALL1 ST-QUOTE
	HLIGHT H-ITALIC
?L15:	PRINTI "This way,"
	HLIGHT H-NORMAL
	ZERO? ST \?L16
	PRINTI """"
	JUMP ?L18
?L16:	CALL1 ST-QUOTE
?L18:	PRINTI " the voice urges. "
	ZERO? ST \?L19
	PRINTI """"
	JUMP ?L21
?L19:	CALL1 ST-QUOTE
	HLIGHT H-ITALIC
?L21:	PRINTI "Be quick."
	HLIGHT H-NORMAL
	ZERO? ST \?L22
	PRINTI """"
	JUMP ?L24
?L22:	CALL1 ST-QUOTE
?L24:	CALL1 ARTICULATES
	PRINTI "[RIDX: 4862]"
	PRINTD INTDIR
	PRINTI "!"""
	CRLF
	CRLF
	ZERO? ST \?L25
	PRINTI """"
	JUMP ?L27
?L25:	CALL1 ST-QUOTE
	HLIGHT H-ITALIC
?L27:	PRINTI "[RIDX: 4865]"
	PRINTD INTDIR
	PRINTI ","
	HLIGHT H-NORMAL
	ZERO? ST \?L28
	PRINTI """"
	JUMP ?L30
?L28:	CALL1 ST-QUOTE
?L30:	PRINTI "[RIDX: 4868]"
	ZERO? ST \?L31
	PRINTI """"
	JUMP ?L33
?L31:	CALL1 ST-QUOTE
	HLIGHT H-ITALIC
?L33:	PRINTI "Now come along."
	HLIGHT H-NORMAL
	ZERO? ST \?L34
	PRINTI """"
	JUMP ?L36
?L34:	CALL1 ST-QUOTE
?L36:	CALL1 CARRIAGE-RETURNS
	CALL1 BIG-TRINITY
	CALL1 FANTASY
	CALL1 COPYRIGHT
	CALL1 TRADEMARK
	CRLF
	PRINTI "You step out of the "
	PRINTD TS0-DOOR
	PRINT PCR
	CALL2 GOTO,IN-MEADOW
	CALL1 I-SHADOW
	RTRUE

	.FUNCT MEEP-TO-ZERO
	MOVE MEEP,AT-ZERO
	FSET MEEP,CHILLY
	FSET MEEP,TAKEABLE
	FCLEAR MEEP,TRYTAKE
	PUTP MEEP,P?CONTFCN,0
	FSET RUBY,SEEN
	PUTP RUBY,P?ACTION,TRUBY-F
	PUTP RUBY,P?FDESC,0
	RTRUE

	.FUNCT SEE-NO-ONE,ST
	HLIGHT H-NORMAL
	ZERO? ST \?L1
	PRINTI """"
	JUMP ?L3
?L1:	CALL1 ST-QUOTE
?L3:	CRLF
	CRLF
	PRINTR "[RIDX: 4874]"

	.FUNCT ARTICULATES
	CRLF
	CRLF
	PRINTI "[RIDX: 4875]"
	RTRUE

	.FUNCT SAY-WIND
	FSET? EWIND,SEEN \?L1
	PRINTD EWIND
	RTRUE
?L1:	PRINTD WWIND
	RTRUE

	.FUNCT EWIND-F
	ZERO? FREEZE? \?L3
	FSET? EWIND,SEEN /?L1
?L3:	CALL2 CTHE-PRINT,EWIND
	PRINTR "[RIDX: 4877]"
?L1:	CALL1 HANDLE-WIND? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT GENERIC-WIND-F,TBL
	FSET? EWIND,SEEN \?L1
	RETURN EWIND
?L1:	RETURN WWIND

	.FUNCT WWIND-F
	ZERO? FREEZE? \?L3
	FSET? WWIND,SEEN /?L1
?L3:	CALL2 CTHE-PRINT,WWIND
	PRINTR "[RIDX: 4877]"
?L1:	CALL1 HANDLE-WIND? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT HANDLE-WIND?
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L3
	PRINT CANT
	PRINTR "see wind!"
?L3:	EQUAL? PRSA,V?LISTEN,V?TOUCH \?L4
	EQUAL? PRSI,0,HANDS \?L4
	PRINTR "[RIDX: 4881]"
?L4:	EQUAL? PRSA,V?SMELL \?L5
	PRINTR "[RIDX: 4882]"
?L5:	EQUAL? PRSA,V?LAMP-ON,V?LAMP-OFF \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT STAIR-F
	EQUAL? PRSA,V?EXAMINE \?L1
	PRINTI "The steep, narrow "
	PRINTD STAIR
	PRINTI " extends "
	EQUAL? HERE,ON-GNOMON /?L3
	PRINTI "up"
	EQUAL? HERE,HALFWAY \?L8
	PRINTI " and down,"
	JUMP ?L8
?L3:	PRINTI "down"
?L8:	PRINTI "[RIDX: 4889]"
	PRINTD STRUCTURE
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? HERE,HALFWAY \?L14
	EQUAL? PRSA,V?CLIMB-DOWN \?L10
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L10:	EQUAL? PRSA,V?CLIMB-UP,V?CLIMB-ON,V?CLIMB-OVER \?L12
	CALL2 DO-WALK,P?UP
	RTRUE
?L12:	EQUAL? PRSA,V?USE,V?CROSS,V?FOLLOW \?L13
	CALL1 V-WALK-AROUND
	RTRUE
?L13:	EQUAL? PRSA,V?LOOK-UP,V?LOOK-DOWN \?L14
	CALL1 CANT-SEE-MUCH
	RTRUE
?L14:	CALL2 HANDLE-STAIRS?,ON-GNOMON >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT HANDLE-STAIRS?,TOP
	EQUAL? HERE,TOP /?L1
	SET 'TOP,0
?L1:	ZERO? NOW-PRSI? /?L4
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	PRINTI "[RIDX: 4890]"
	FSET? PRSO,PLURAL \?L8
	PRINTI "them "
	JUMP ?L10
?L8:	PRINTI "it "
?L10:	PRINTR "later."
?L4:	EQUAL? PRSA,V?WALK-TO,V?FOLLOW,V?USE \?L12
	ZERO? TOP \?L13
	PUSH P?UP
	JUMP ?L15
?L13:	PUSH P?DOWN
?L15:	CALL2 DO-WALK,STACK
	RTRUE
?L12:	EQUAL? PRSA,V?CLIMB-UP,V?CLIMB-ON \?L16
	ZERO? TOP \?L17
	CALL2 DO-WALK,P?UP
	RTRUE
?L17:	CALL1 ALREADY-AT-TOP
	RTRUE
?L16:	EQUAL? PRSA,V?CLIMB-DOWN \?L20
	ZERO? TOP \?L21
	CALL1 ALREADY-AT-BOTTOM
	RTRUE
?L21:	CALL2 DO-WALK,P?DOWN
	RTRUE
?L20:	EQUAL? PRSA,V?LOOK-UP \?L24
	ZERO? TOP \?L25
	CALL1 CANT-SEE-MUCH
	RTRUE
?L25:	CALL1 ALREADY-AT-TOP
	RTRUE
?L24:	EQUAL? PRSA,V?LOOK-DOWN,V?LOOK-UNDER \FALSE
	ZERO? TOP \?L29
	CALL1 ALREADY-AT-BOTTOM
	RTRUE
?L29:	CALL1 CANT-SEE-MUCH
	RTRUE

	.FUNCT GPLATFORM-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?PUT-ON,V?THROW \FALSE
	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH \?L6
	CALL1 V-LOOK
	RTRUE
?L6:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L7
	CALL ALREADY-IN,GPLATFORM,1
	RTRUE
?L7:	EQUAL? PRSA,V?CLIMB-DOWN /?L9
	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
?L9:	CALL2 DO-WALK,P?DOWN
	RTRUE

	.FUNCT GENERIC-TRIANGLE-F,TBL
	CALL2 NOUN-USED?,W?HYPOTENUSE >STACK
	ZERO? STACK /?L1
	RETURN STAIR
?L1:	RETURN STRUCTURE

	.FUNCT STRUCTURE-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L3
	PRINTI "[RIDX: 4896]"
	PRINTD STRUCTURE
	PRINTI "[RIDX: 4897]"
	PRINTD CSURFACE
	PRINTI "[RIDX: 4898]"
	PRINTD STAIR
	PRINTR "[RIDX: 4899]"
?L3:	EQUAL? PRSA,V?TOUCH,V?KNOCK,V?KISS \?L4
	EQUAL? PRSI,0,HANDS \?L4
	CALL2 CTHE-PRINT,STRUCTURE
	PRINTR "[RIDX: 4900]"
?L4:	EQUAL? PRSA,V?ENTER,V?THROUGH \?L5
	PRINTI "[RIDX: 4901]"
	PRINTD CAVE-HOLE
	PRINTR "s."
?L5:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-UP \?L6
	EQUAL? HERE,ON-GNOMON \?L7
	CALL1 ALREADY-AT-TOP
	RTRUE
?L7:	CALL2 DO-WALK,P?UP
	RTRUE
?L6:	EQUAL? PRSA,V?STAND-ON \?L10
	EQUAL? HERE,GBASE \?L11
	CALL2 DO-WALK,P?UP
	RTRUE
?L11:	PRINT YOURE-ALREADY
	PRINTI "on "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L10:	EQUAL? PRSA,V?CLIMB-DOWN /?L15
	CALL1 EXITING? >STACK
	ZERO? STACK /?L14
?L15:	EQUAL? HERE,GBASE \?L16
	CALL NOT-IN,STRUCTURE,1
	RTRUE
?L16:	CALL2 DO-WALK,P?DOWN
	RTRUE
?L14:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT DESCRIBE-OUTER-SHADOW,CONTEXT=0,X
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "A triangular "
	PRINTD OUTER-SHADOW
	ZERO? SUN-MOVING? \?L4
	PRINTI " lies "
	JUMP ?L6
?L4:	CALL2 PICK-NEXT,CREEPERS >STACK
	PRINT STACK
?L6:	PRINTI "across the "
	PRINTD GROUND
	GET OSIGN-DOORS,OSIGN >X
	ZERO? X /?L7
	PRINTI ". "
	CALL1 EXAMINE-OUTER-SHADOW
?L7:	PRINTI "."
	RTRUE

	.FUNCT OUTER-SHADOW-F
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L1
	CALL1 EXAMINE-OUTER-SHADOW
	PRINT PERIOD
	RTRUE
?L1:	CALL1 FOLLOW-SHADOW? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT EXAMINE-OUTER-SHADOW,DOOR
	GET OSIGN-DOORS,OSIGN >DOOR
	PRINTI "Its sharp point "
	ZERO? DOOR \?L1
	ZERO? SUN-MOVING? \?L3
	PRINTI "lies motionless"
	PRINT AGROUND
	RTRUE
?L3:	PRINTI "is sweeping slowly "
	CALL1 SHDIRWARD
	RTRUE
?L1:	ZERO? SUN-MOVING? \?L6
	PRINTI "rests "
	EQUAL? ODEG,5,6 \?L7
	PRINTI "exactly on "
	JUMP ?L19
?L7:	PRINTI "near "
	JUMP ?L19
?L6:	PRINTI "is "
	EQUAL? ODEG,4 \?L11
	PRINTI "almost touching "
	JUMP ?L19
?L11:	PRINTI "sweeping "
	EQUAL? ODEG,5,6 \?L14
	PRINTI "across "
	JUMP ?L19
?L14:	CALL1 SHDIRWARD
	PRINTI ", "
	LESS? ODEG,4 \?L17
	PRINTI "towards "
	JUMP ?L19
?L17:	PRINTI "away from "
?L19:	FSET? DOOR,NOALL /?L20
	FSET? DOOR,OPENED \?L20
	PRINTI "the open door in "
?L20:	CALL2 THE-PRINT,TS0
	RTRUE

	.FUNCT DESCRIBE-INNER-SHADOW,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "A dark "
	PRINTD INNER-SHADOW
	ZERO? SUN-MOVING? \?L3
	PRINTI " lies"
	JUMP ?L5
?L3:	CALL2 PICK-NEXT,CREEPERS >STACK
	PRINT STACK
	CALL1 SHDIRWARD
?L5:	PRINT AGROUND
	PRINTI "."
	RTRUE

	.FUNCT INNER-SHADOW-F
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L1
	CALL1 CTHE-PRINT
	ZERO? SUN-MOVING? \?L3
	PRINTI " lies motionless"
	PRINT AGROUND
	PRINT PERIOD
	RTRUE
?L3:	PRINTI " is sweeping slowly "
	CALL1 SHDIRWARD
	PRINT PERIOD
	RTRUE
?L1:	CALL1 FOLLOW-SHADOW? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT FOLLOW-SHADOW?
	EQUAL? PRSA,V?FOLLOW \?L1
	IN? PRSO,HERE \?L1
	ZERO? SUN-MOVING? \?L3
	CALL1 PRSO-NOT-MOVING
	RTRUE
?L3:	PRINTI "You follow the "
	PRINTD PRSO
	PRINTI "'s sweep "
	CALL1 SHDIRWARD
	PRINT PCR
	GET SHDIRS,1 >STACK
	CALL2 DO-WALK,STACK
	RTRUE
?L1:	CALL1 MOVING-SHADOW? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT MOVING-SHADOW?
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?LAMP-OFF \?L3
	ZERO? SUN-MOVING? \?L4
	CALL1 PRSO-NOT-MOVING
	RTRUE
?L4:	CALL1 HOW?
	RTRUE
?L3:	EQUAL? PRSA,V?LAMP-ON,V?MOVE \FALSE
	ZERO? SUN-MOVING? \?L8
	CALL1 HOW?
	RTRUE
?L8:	CALL1 CTHE-PRINT
	PRINTR " is already moving."

	.FUNCT PRSO-NOT-MOVING
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 4937]"
	PRINT AT-MOMENT
	CRLF
	RTRUE

	.FUNCT DSHADOW-F,X
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L1
	PRINTI "The long "
	PRINTD DSHADOW
	PRINTI " stretches "
	GET SHDIRS,3 >STACK
	PRINT STACK
	PRINT AGROUND
	EQUAL? HERE,GBASE /?L3
	PRINTI " below"
?L3:	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-BEHIND,V?LOOK-UNDER /?L7
	EQUAL? PRSA,V?SEARCH \?L6
?L7:	CALL1 CANT-SEE-MUCH
	RTRUE
?L6:	CALL1 MOVING-SHADOW? >STACK
	ZERO? STACK \TRUE
	CALL1 ENTERING? >STACK
	ZERO? STACK /?L9
	CALL1 CANT-FROM-HERE
	RTRUE
?L9:	CALL1 EXITING? >STACK
	ZERO? STACK /?L10
	CALL1 NOT-IN
	RTRUE
?L10:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT GENERIC-TS-F,TABLE
	EQUAL? P-IT-OBJECT,TS5,HTS \?L1
	RETURN P-IT-OBJECT
?L1:	RETURN TS5

	.FUNCT HTS-F
	EQUAL? PRSA,V?EXAMINE \?L1
	PRINTI "Except for its size "
	FSET? TS5-DOOR,NOALL /?L3
	PRINTI "and lack of a door"
?L3:	PRINTI ", the "
	PRINTD PRSO
	PRINTI "[RIDX: 4953]"
	PRINTD TS5
	PRINT PERIOD
	RTRUE
?L1:	ZERO? NOW-PRSI? /?L6
	EQUAL? PRSA,V?PUT-ON \?L6
	CALL1 PRSI-TOP-TOO-HIGH
	RTRUE
?L6:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L7
	CALL2 CTHE-PRINT,HTS
	PRINTI " has no visible "
	PRINTD HOPENING
	PRINTR "s."
?L7:	CALL1 SLIDE-OFF-STOOL? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT IN-TS6,CONTEXT=0
	EQUAL? CONTEXT,M-CONT \FALSE
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	PRINT CANT
	PRINTI "reach "
	ZERO? NOW-PRSI? \?L4
	CALL1 THE-PRINT
	JUMP ?L6
?L4:	CALL1 THEI-PRINT
?L6:	PRINTI ". "
	CALL2 TOO-HIGH,TS6
	RTRUE

	.FUNCT TS-F,DOOR
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT \?L3
	GETP PRSI,P?TDOOR >STACK
	CALL PERFORM,V?PUT,PRSO,STACK
	RTRUE
?L3:	EQUAL? PRSA,V?PUT-ON \FALSE
	CALL1 PRSI-TOP-TOO-HIGH
	RTRUE
?L1:	GETP PRSO,P?TDOOR >DOOR
	EQUAL? PRSA,V?EXAMINE \?L8
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 4961]"
	FSET? DOOR,NOALL /?L10
	PRINTI ". A"
	CALL OPEN-CLOSED,DOOR,1
	PRINTI "[RIDX: 4963]"
?L10:	PRINT PERIOD
	RTRUE
?L8:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-BEHIND \?L13
	CALL PERFORM,V?LOOK-INSIDE,DOOR
	RTRUE
?L13:	EQUAL? PRSA,V?EAT,V?TASTE \?L14
	CALL2 PRINT-ID,STR?329
	CALL2 THIS-IS-NOT,STR?330
	RTRUE
?L14:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L15
	FSET? DOOR,NOALL \?L16
	CALL1 DOOR-NOT-HERE
	RTRUE
?L16:	FSET? DOOR,OPENED \?L18
	CALL2 DO-WALK,P?IN
	RTRUE
?L18:	CALL2 ITS-CLOSED,DOOR
	RTRUE
?L15:	CALL1 SLIDE-OFF-STOOL? >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT PRSI-TOP-TOO-HIGH
	PRINTI "The top of the "
	PRINTD PRSI
	PRINTR "[RIDX: 4967]"

	.FUNCT SLIDE-OFF-STOOL?
	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?STAND-ON /?L3
	EQUAL? PRSA,V?CLIMB-UP,V?SIT,V?LIE-DOWN /?L3
	EQUAL? PRSA,V?RIDE \?L1
?L3:	PRINTI "[RIDX: 4968]"
	PRINTD TS0
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?CLIMB-DOWN /?L5
	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
?L5:	PRINTI "You're not on the "
	PRINTD TS0
	PRINT PERIOD
	RTRUE

	.FUNCT TS0-DOOR-F
	CALL1 DOOR-NOT-HERE
	RETURN 2

	.FUNCT DOOR-NOT-HERE
	CALL2 GONE-NOW,TS1-DOOR
	RFALSE

	.FUNCT TS1-DOOR-F
	FSET? TS1-DOOR,NOALL /?L3
	EQUAL? HERE,IN-ORBIT,ON-SAT \?L1
	FSET? TS1-DOOR,OPENED /?L1
?L3:	CALL1 DOOR-NOT-HERE
	RETURN 2
?L1:	EQUAL? HERE,AT-FALLS /?L6
	EQUAL? ORBCNT,1 /?L9
	ZERO? SUITED? /?L25
	EQUAL? HERE,ON-SAT \?L25
	EQUAL? ORBCNT,6,7,8 \?L25
?L9:	INTBL? PRSA,SEEVERBS,NSVERBS >STACK \?L10
	EQUAL? ORBCNT,7,8 /FALSE
	CALL1 CANT-SEE-MUCH
	RTRUE
?L10:	EQUAL? PRSA,V?ENTER,V?WALK-TO,V?THROUGH /?L16
	EQUAL? PRSA,V?USE,V?FOLLOW \?L15
?L16:	EQUAL? ORBCNT,1 \?L17
	CALL1 CANT-FROM-HERE
	RTRUE
?L17:	CALL1 FILM-HOLDS-YOU
	RTRUE
?L15:	EQUAL? PRSA,V?EXIT,V?LEAVE,V?ESCAPE \?L20
	CALL1 NOT-IN
	RTRUE
?L20:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L21
	PRINTI "The door is "
	EQUAL? ORBCNT,7,8 \?L22
	PRINTI "still a bit "
?L22:	PRINTR "too far away."
?L21:	CALL1 CANT-FROM-HERE
	RTRUE
?L25:	PRINT CANT
	PRINTI "[RIDX: 4976]"
	CRLF
	RETURN 2
?L6:	CALL THRU-DOOR?,AT-FALLS,IN-ORBIT >STACK
	ZERO? STACK \TRUE
	CALL2 HANDLE-TSDOOR?,AT-FALLS >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT THRU-DOOR?,OUT,IN
	ZERO? NOW-PRSI? /FALSE
	EQUAL? PRSA,V?PUT,V?THROW \FALSE
	FSET? PRSI,OPENED /?L4
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 4977]"
	CALL1 LANDS-AT-YOUR-FEET
	RTRUE
?L4:	EQUAL? PRSO,PARASOL \?L5
	FSET? PRSO,OPENED \?L5
	CALL YOUD-HAVE-TO,STR?99,PRSO
	RTRUE
?L5:	EQUAL? HERE,AT-FALLS,ON-MOOR \?L7
	REMOVE PRSO
	JUMP ?L11
?L7:	EQUAL? HERE,OUT \?L9
	MOVE PRSO,IN
	JUMP ?L11
?L9:	EQUAL? HERE,IN \?L10
	MOVE PRSO,OUT
	JUMP ?L11
?L10:	REMOVE PRSO
?L11:	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 4979]"

	.FUNCT HANDLE-TSDOOR?,OUT
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	PRINTI "The"
	CALL2 OPEN-CLOSED,PRSO
	PRINTR "[RIDX: 4981]"
?L3:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-BEHIND,V?LOOK-OUTSIDE \?L4
	FSET? PRSO,OPENED \?L4
	EQUAL? HERE,OUT \?L4
	CALL1 UNEASY-DOOR
	RTRUE
?L4:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?SHAKE /?L6
	EQUAL? PRSA,V?RAISE,V?SQUEEZE,V?LOOSEN \?L5
?L6:	FSET? PRSO,OPENED /?L5
	CALL1 PRSO-WONT-BUDGE
	RTRUE
?L5:	EQUAL? PRSA,V?CLOSE \?L7
	FSET? PRSO,OPENED \?L7
	PRINTI "That's odd. "
	CALL1 PRSO-WONT-BUDGE
	RTRUE
?L7:	EQUAL? PRSA,V?REACH-IN \?L8
	FSET? PRSO,OPENED \?L9
	PRINTR "[RIDX: 4983]"
?L9:	CALL2 ITS-CLOSED,PRSO
	RTRUE
?L8:	EQUAL? PRSA,V?UNLOCK \?L12
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 4984]"
?L12:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L13
	CALL2 DO-WALK,P?IN
	RTRUE
?L13:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 NOT-IN
	RTRUE

	.FUNCT TS2-DOOR-F
	FSET? TS2-DOOR,NOALL /?L3
	EQUAL? HERE,TUN1 \?L1
	FSET? TS2-DOOR,OPENED /?L1
?L3:	CALL1 DOOR-NOT-HERE
	RETURN 2
?L1:	CALL THRU-DOOR?,OSSUARY,TUN1 >STACK
	ZERO? STACK \TRUE
	CALL2 HANDLE-TSDOOR?,OSSUARY >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT TS3-DOOR-F
	FSET? TS3-DOOR,NOALL \?L1
	CALL1 DOOR-NOT-HERE
	RETURN 2
?L1:	CALL THRU-DOOR?,ON-MESA,ON-SCAFFOLD >STACK
	ZERO? STACK \TRUE
	CALL2 HANDLE-TSDOOR?,ON-MESA >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT TS4-DOOR-F
	FSET? TS4-DOOR,NOALL /?L3
	EQUAL? HERE,ON-PLATFORM \?L1
	FSET? TS4-DOOR,OPENED /?L1
?L3:	CALL1 DOOR-NOT-HERE
	RETURN 2
?L1:	CALL THRU-DOOR?,IN-GARDEN,ON-PLATFORM >STACK
	ZERO? STACK \TRUE
	CALL2 HANDLE-TSDOOR?,IN-GARDEN >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT TS5-DOOR-F
	FSET? TS5-DOOR,NOALL /?L3
	EQUAL? HERE,IN-SKY,ON-BIRD \?L1
	FSET? TS5-DOOR,OPENED /?L1
?L3:	CALL1 DOOR-NOT-HERE
	RETURN 2
?L1:	EQUAL? HERE,IN-SKY \?L6
	INTBL? PRSA,SEEVERBS,NSVERBS >STACK \?L7
	CALL1 CANT-SEE-MUCH
	RTRUE
?L7:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L10
	EQUAL? PRSA,V?CLIMB-UP \?L9
?L10:	CALL2 DO-WALK,P?UP
	RTRUE
?L9:	CALL1 CANT-FROM-HERE
	RTRUE
?L6:	EQUAL? HERE,ON-MOOR,ON-BIRD /?L12
	PRINT CANT
	PRINTI "[RIDX: 4993]"
	CRLF
	RETURN 2
?L12:	CALL THRU-DOOR?,ON-MOOR,ON-BIRD >STACK
	ZERO? STACK \TRUE
	CALL2 HANDLE-TSDOOR?,ON-MOOR >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT TS6-DOOR-F
	FSET? TS6-DOOR,NOALL \?L1
	CALL1 DOOR-NOT-HERE
	RETURN 2
?L1:	CALL THRU-DOOR?,ON-ISLE,IN-SHACK >STACK
	ZERO? STACK \TRUE
	EQUAL? HERE,IN-SHACK \?L6
	FSET? TS6-DOOR,OPENED \?L6
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L7
	CALL1 ENTERING? >STACK
	ZERO? STACK /?L6
?L7:	CALL1 KILL-TS6-DOOR
	RETURN 2
?L6:	CALL2 HANDLE-TSDOOR?,ON-ISLE >STACK
	ZERO? STACK \TRUE
	RFALSE

	.FUNCT DESCRIBE-SCULPTURE,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "An abstract "
	PRINTD SCULPTURE
	PRINTI " stands between the "
	PRINTD TUNNEL
	PRINTI "s. "
	CALL1 READ-KLEIN
	RTRUE

	.FUNCT READ-KLEIN
	PRINTI "The words "
	ZERO? FLIP? \?L1
	PUSH STR?331
	JUMP ?L3
?L1:	PUSH STR?332
?L3:	CALL2 ITALICIZE,STACK
	PRINTI "[RIDX: 5005]"
	RTRUE

	.FUNCT SCULPTURE-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?PUT-ON,V?THROW \FALSE
	EQUAL? PRSO,PARASOL \?L5
	FSET? PRSO,OPENED \?L5
	CALL YOUD-HAVE-TO,STR?99,PRSO
	RTRUE
?L5:	MOVE PRSO,ARBOR-TOP
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5007]"
	PRINTD ENERGY
	PRINTR "'s sparkling depths."
?L1:	EQUAL? PRSA,V?EXAMINE \?L9
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5009]"
	PRINTD CSURFACE
	PRINTI "[RIDX: 5010]"
	CALL1 INSIDE-BEGINS
	CRLF
	CALL1 READ-KLEIN
	CRLF
	FSET? PRSO,TOUCHED /TRUE
	FSET PRSO,TOUCHED
	GET QUOTES,CLARKE >STACK
	CALL WINDOW,STACK,9
	GET QUOTES,PDL >STACK
	CALL WINDOW,STACK,49
	ZERO? VERBOSITY \?L12
	CRLF
?L12:	RETURN 2
?L9:	EQUAL? PRSA,V?READ,V?LOOK-ON \?L18
	CALL1 READ-KLEIN
	CRLF
	RTRUE
?L18:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L19
	PRINTI "Staring into the "
	PRINTD PRSO
	PRINTI "[RIDX: 5012]"
	CALL2 PRINT-ID,STR?333
	CALL1 INSIDE-BEGINS >STACK
	RSTACK
?L19:	EQUAL? PRSA,V?REACH-IN,V?OPEN,V?OPEN-WITH /?L21
	EQUAL? PRSA,V?CLOSE,V?ENTER,V?THROUGH /?L21
	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?STAND-ON /?L21
	EQUAL? PRSA,V?SIT,V?CLIMB-UP \?L20
?L21:	PRINTI "[RIDX: 5014]"
	CALL1 INSIDE-BEGINS >STACK
	RSTACK
?L20:	EQUAL? PRSA,V?TOUCH,V?SQUEEZE,V?KISS /?L23
	EQUAL? PRSA,V?KNOCK,V?KICK \?L22
?L23:	EQUAL? PRSI,0,HANDS \?L22
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5015]"
?L22:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL1 PRSO-TOO-BIG
	RTRUE

	.FUNCT INSIDE-BEGINS
	PRINTI "[RIDX: 5016]"
	PRINTD ENERGY
	PRINTR "[RIDX: 5017]"

	.FUNCT AXE-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?CUT,V?RIP,V?HIT /?L5
	EQUAL? PRSA,V?MUNG,V?OPEN-WITH \FALSE
?L5:	IN? PRSO,PLAYER \FALSE
	PRINTI "[RIDX: 5020]"
	CALL1 THE-PRINT
	PRINT PERIOD
	CALL2 PRINT-ID,STR?334
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?TOUCH \?L7
	EQUAL? PRSI,0,HANDS \?L7
	PRINTI "[RIDX: 5022]"
	CRLF
	CALL2 PRINT-ID,STR?335 >STACK
	RSTACK
?L7:	EQUAL? PRSA,V?TAKE \FALSE
	FSET? PRSO,TOUCHED /FALSE
	CALL1 ITAKE >STACK
	ZERO? STACK /TRUE
	PRINTI "[RIDX: 5024]"
	CRLF
	CALL1 UPDATE-SCORE
	RTRUE

	.FUNCT GENERIC-TREE-F,TBL
	EQUAL? HERE,AT-CHASM,ON-MESA \FALSE
	RETURN OAK

	.FUNCT OAK-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	CALL1 CTHE-PRINT
	FSET? PRSO,NOALL \?L4
	PRINTR "[RIDX: 5027]"
?L4:	FSET? PRSO,TOUCHED \?L6
	PRINTI "[RIDX: 5028]"
	FSET? PRSO,WINDY \?L7
	PRINTD CHASM
	JUMP ?L9
?L7:	PRINTD GROUND
?L9:	PRINT PERIOD
	RTRUE
?L6:	PRINTR " is falling!"
?L3:	EQUAL? PRSA,V?TAKE,V?PUSH,V?PULL /?L12
	EQUAL? PRSA,V?MOVE,V?TURN \?L11
?L12:	FSET? PRSO,TOUCHED /?L15
	FSET? PRSO,NOALL \?L13
?L15:	CALL1 TRY-MOVING-OAK
	RTRUE
?L13:	CALL1 HAPHAZARD
	RTRUE
?L11:	EQUAL? PRSA,V?PUSH-TO \?L17
	FSET? PRSO,TOUCHED /?L20
	FSET? PRSO,NOALL \?L18
?L20:	CALL1 TRY-MOVING-OAK
	RTRUE
?L18:	EQUAL? PRSI,CHASM,MESA /?L22
	EQUAL? PRSI,INTDIR \?L21
	EQUAL? P-DIRECTION,P?NORTH,P?NE,P?NW \?L21
?L22:	CALL2 DEQUEUE,I-DROP-OAK
	FSET PRSO,TOUCHED
	FSET PRSO,WINDY
	PRINTI "You "
	PRINTB P-PRSA-WORD
	PRINTI "[RIDX: 5031]"
	PRINTD TS3
	PRINT PERIOD
	CALL2 UPDATE-SCORE,3
	RTRUE
?L21:	CALL1 HAPHAZARD
	RTRUE
?L17:	EQUAL? PRSA,V?CUT,V?RIP,V?MUNG /?L25
	EQUAL? PRSA,V?KILL \?L24
?L25:	FSET? PRSO,NOALL /?L26
	PRINTI "[RIDX: 5032]"
	CRLF
	CALL2 PRINT-ID,STR?336
	RTRUE
?L26:	EQUAL? PRSI,0,HANDS,FEET \?L28
	CALL2 PRINT-ID,STR?337
	CALL1 BEST-KARATE
	RTRUE
?L28:	EQUAL? PRSI,AXE \?L29
	PUTP AT-CHASM,P?OVERHEAD,0
	FCLEAR PRSO,NOALL
	CALL QUEUE,I-DROP-OAK,2
	PRINTI "[RIDX: 5035]"
	CRLF
	CALL2 PRINT-ID,STR?338
	RTRUE
?L29:	CALL2 PRINT-ID,STR?339
	CALL NOT-LIKELY,PRSI,STR?340
	RTRUE
?L24:	EQUAL? PRSA,V?CROSS,V?CLIMB-OVER,V?FOLLOW \?L31
	FSET? PRSO,WINDY \?L32
	EQUAL? HERE,AT-CHASM \?L34
	PUSH P?NORTH
	JUMP ?L36
?L34:	PUSH P?SOUTH
?L36:	CALL2 DO-WALK,STACK
	RTRUE
?L32:	FSET? PRSO,TOUCHED \?L37
	CALL1 CAVORTING
	RTRUE
?L37:	CALL1 NO-FOOTHOLDS
	RTRUE
?L31:	EQUAL? PRSA,V?ENTER,V?CLIMB-ON,V?CLIMB-UP /?L40
	EQUAL? PRSA,V?SIT,V?STAND-ON,V?LIE-DOWN \?L39
?L40:	FSET? PRSO,NOALL \?L41
	CALL1 NO-FOOTHOLDS
	RTRUE
?L41:	CALL1 CAVORTING
	RTRUE
?L39:	CALL1 EXITING? >STACK
	ZERO? STACK \?L45
	EQUAL? PRSA,V?CLIMB-DOWN,V?LEAP \FALSE
?L45:	CALL1 NOT-IN
	RTRUE

	.FUNCT TRY-MOVING-OAK
	PRINTR "[RIDX: 5039]"

	.FUNCT CAVORTING
	PRINTR "[RIDX: 5040]"

	.FUNCT HAPHAZARD
	PRINTI "[RIDX: 5041]"
	PRINTB P-PRSA-WORD
	PRINTR "[RIDX: 5042]"

	.FUNCT CHASM-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL1 VANISH
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5007]"
	PRINTD PRSI
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH /?L7
	EQUAL? PRSA,V?LOOK-DOWN \?L6
?L7:	FSET PRSO,TOUCHED
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5046]"
?L6:	EQUAL? PRSA,V?LOOK-UP \?L8
	CALL1 ALREADY-AT-TOP
	RTRUE
?L8:	CALL1 EXITING? >STACK
	ZERO? STACK /?L9
	CALL1 NOT-IN
	RTRUE
?L9:	EQUAL? PRSA,V?LEAP,V?DIVE,V?ENTER /?L11
	EQUAL? PRSA,V?CLIMB-DOWN \?L10
?L11:	CALL1 CHASM-FALL
	RTRUE
?L10:	EQUAL? PRSA,V?CROSS,V?CLIMB-OVER \FALSE
	EQUAL? HERE,AT-CHASM \?L13
	CALL2 DO-WALK,P?NORTH
	RTRUE
?L13:	EQUAL? HERE,ON-MESA \?L15
	CALL2 DO-WALK,P?SOUTH
	RTRUE
?L15:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT TREETOPS-F
	FSET? CHASM,TOUCHED /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	ZERO? NOW-PRSI? \FALSE
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L6
	CALL1 CANT-FROM-HERE
	RTRUE
?L6:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L8
	EQUAL? PRSA,V?SEARCH,V?LOOK-UNDER,V?LOOK-BEHIND \FALSE
?L8:	PRINTI "Looking at the "
	PRINTD PRSO
	PRINTR "[RIDX: 5049]"

	.FUNCT MESA-F,ON=0
	EQUAL? HERE,ON-MESA \?L1
	SET 'ON,1
?L1:	ZERO? NOW-PRSI? /?L4
	EQUAL? PRSA,V?PUSH-TO \?L4
	EQUAL? PRSO,OAK /FALSE
?L4:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH \?L6
	ZERO? ON \?L7
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5052]"
	PRINTD AUX-TS3
	PRINT PERIOD
	RTRUE
?L7:	CALL1 V-LOOK
	RTRUE
?L6:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L12
	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?CROSS /?L12
	EQUAL? PRSA,V?STAND-ON,V?CLIMB-UP \?L10
?L12:	ZERO? ON \?L13
	CALL2 DO-WALK,P?NORTH
	RTRUE
?L13:	CALL ALREADY-IN,PRSO,1
	RTRUE
?L10:	CALL1 EXITING? >STACK
	ZERO? STACK \?L17
	EQUAL? PRSA,V?CLIMB-DOWN,V?LEAP \?L16
?L17:	ZERO? ON \?L18
	CALL NOT-IN,PRSO,1
	RTRUE
?L18:	CALL2 DO-WALK,P?SOUTH
	RTRUE
?L16:	ZERO? ON \FALSE
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L22
	CALL1 ENTERING? >STACK
	ZERO? STACK /FALSE
?L22:	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT AUX-TS3-F
	CALL1 ENTERING? >STACK
	ZERO? STACK /?L1
	CALL2 DO-WALK,P?NORTH
	RTRUE
?L1:	CALL1 EXITING? >STACK
	ZERO? STACK /?L3
	CALL1 NOT-IN
	RTRUE
?L3:	INTBL? PRSA,SEEVERBS,NSVERBS >STACK /?L4
	CALL1 CANT-FROM-HERE
	RTRUE
?L4:	CALL1 TS-F >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT DESCRIBE-LOG,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "[RIDX: 5056]"
	CALL1 SAY-GLOWS
	RTRUE

	.FUNCT SAY-GLOWS
	PRINTI "[RIDX: 5057]"
	RTRUE

	.FUNCT GLOWING-LOG-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?THROW \?L3
	GETP PRSO,P?MASS >STACK
	GRTR? STACK,2 \?L3
	MOVE PRSO,SBOG
	CALL1 CTHE-PRINT
	PRINTI " shatters the log "
	CALL1 INTO-CORRUPTION
	RTRUE
?L3:	EQUAL? PRSA,V?PUT,V?PUT-ON,V?THROW \FALSE
	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L7
	CALL1 SAY-GLOWS
	CRLF
	RTRUE
?L7:	CALL1 HANDLE-LOG? >STACK
	ZERO? STACK \TRUE
	EQUAL? PRSA,V?KICK,V?HIT,V?KNOCK /?L10
	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
?L10:	CALL1 CTHE-PRINT
	PRINTI " crumbles "
	CALL2 INTO-CORRUPTION,1
	RTRUE

	.FUNCT HANDLE-LOG?
	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L1
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5060]"
?L1:	EQUAL? PRSA,V?TOUCH,V?SQUEEZE,V?KISS \?L3
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5061]"
	CRLF
	CALL2 PRINT-ID,STR?341
	RTRUE
?L3:	EQUAL? PRSA,V?SMELL \FALSE
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5063]"
	CRLF
	CALL2 PRINT-ID,STR?342
	RTRUE

	.FUNCT INTO-CORRUPTION,TOUCH?=0
	MOVE HEAP,SBOG
	REMOVE GLOWING-LOG
	MOVE SHARD,SBOG
	SET 'P-IT-OBJECT,SHARD
	PRINTI "into a "
	PRINTD HEAP
	ZERO? TOUCH? /?L1
	PRINTI "[RIDX: 5067]"
?L1:	PRINTI ". Only a big "
	PRINTD SHARD
	PRINTR " of wood remains."

	.FUNCT SHARD-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L3
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5071]"
	CALL1 SAY-GLOWS
	CRLF
	RTRUE
?L3:	EQUAL? PRSA,V?POINT-AT,V?SHINE-AT \?L4
	CALL1 CTHE-PRINT
	PRINTI " illuminates "
	CALL1 THEI-PRINT
	PRINTR " rather poorly."
?L4:	CALL1 HANDLE-LOG? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT HEAP-F
	CALL2 NOUN-USED?,W?LOG >STACK
	ZERO? STACK /?L1
	PRINTI "[RIDX: 5075]"
	PRINTD HEAP
	PRINT PERIOD
	RETURN 2
?L1:	ZERO? NOW-PRSI? /?L5
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L5:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-UNDER,V?SEARCH /?L10
	EQUAL? PRSA,V?DIG \?L9
?L10:	PRINTI "Nothing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINTR " turns up."
?L9:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	PRINTR "[RIDX: 5078]"

	.FUNCT XRAY-F,ON?=0
	FSET? XRAY,TOUCHED /?L1
	CALL2 CANT-SEE-ANY,XRAY
	RETURN 2
?L1:	ZERO? NOW-PRSI? \FALSE
	EQUAL? HERE,ON-SAT \?L6
	SET 'ON?,1
?L6:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH \?L8
	CALL1 LOOK-AT-XRAY
	RTRUE
?L8:	EQUAL? PRSA,V?FOLLOW \?L10
	CALL1 HOW?
	RTRUE
?L10:	CALL1 EXITING? >STACK
	ZERO? STACK \?L12
	EQUAL? PRSA,V?LEAP \?L11
?L12:	ZERO? ON? \?L13
	CALL NOT-IN,PRSO,1
	RTRUE
?L13:	CALL1 FILM-HOLDS-YOU
	RTRUE
?L11:	EQUAL? PRSA,V?WALK-TO,V?CLIMB-ON,V?CLIMB-OVER \?L16
	ZERO? ON? /?L17
	CALL ALREADY-IN,PRSO,1
	RTRUE
?L17:	CALL1 XRAY-TOO-FAR
	RTRUE
?L16:	ZERO? ON? \FALSE
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 XRAY-TOO-FAR
	RTRUE

	.FUNCT FILM-HOLDS-YOU
	PRINTI "[RIDX: 5082]"
	PRINTD ME
	PRINTI " away from the "
	PRINTD XRAY
	PRINTI ", but the "
	PRINTD FILM
	PRINTR " holds you fast."

	.FUNCT XRAY-TOO-FAR
	CALL2 CTHE-PRINT,XRAY
	PRINTI " is "
	EQUAL? ORBCNT,4,5 \?L1
	PRINTI "a little "
?L1:	PRINTR "too far away."

	.FUNCT STARS-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?LOOK-UP \?L3
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5090]"
?L3:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L5
	CALL1 ENTERING? >STACK
	ZERO? STACK /FALSE
?L5:	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT ICBM-F
	FSET? ICBM,TOUCHED /?L1
	CALL2 CANT-SEE-ANY,ICBM
	RETURN 2
?L1:	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L6
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5092]"
?L6:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L8
	CALL1 ENTERING? >STACK
	ZERO? STACK /FALSE
?L8:	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT THRUSTERS-F
	FSET? XRAY,TOUCHED /?L1
	CALL2 CANT-SEE-ANY,THRUSTERS
	RETURN 2
?L1:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L5
	CALL1 CANT-FROM-HERE
	RTRUE
?L5:	EQUAL? PRSA,V?EXAMINE \FALSE
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5094]"
	PRINTD XRAY
	PRINTR "'s hull."

	.FUNCT SPHONES-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?LISTEN,V?USE \?L3
	CALL1 HEAR-GIANT-MUSIC
	RTRUE
?L3:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 ANNOY-BOY
	RTRUE

	.FUNCT PHONES-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	PRINTI "[RIDX: 5099]"
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINTI " about the "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?LISTEN,V?USE \?L4
	CALL1 HEAR-GIANT-MUSIC
	RTRUE
?L4:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL2 CANT-REACH,PRSO
	RTRUE

	.FUNCT DISH-F
	EQUAL? PRSA,V?EMPTY \?L1
	CALL1 SPLASHES
	RTRUE
?L1:	CALL1 HANDLE-SOAPY-WATER? >STACK
	ZERO? STACK \TRUE
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L5
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5102]"
	CALL1 IS-FILLED
	RTRUE
?L5:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE \?L6
	CALL1 IMPOSSIBLE
	RTRUE
?L6:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL1 PRSO-TOO-BIG
	RTRUE

	.FUNCT SDISH-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 ANNOY-BOY
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L6
	CALL1 CTHE-PRINT
	CALL1 IS-FILLED
	RTRUE
?L6:	EQUAL? PRSA,V?EMPTY \?L7
	CALL1 SPLASHES
	RTRUE
?L7:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE \?L8
	CALL1 IMPOSSIBLE
	RTRUE
?L8:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 ANNOY-BOY
	RTRUE

	.FUNCT IS-FILLED
	PRINTI "[RIDX: 5104]"
	PRINTD SOAPY-WATER
	PRINT PERIOD
	RTRUE

	.FUNCT SOAPY-WATER-F
	CALL1 HANDLE-SOAPY-WATER? >STACK
	ZERO? STACK \TRUE
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L4
	PRINTR "[RIDX: 5106]"
?L4:	EQUAL? PRSA,V?TAKE,V?SHAKE,V?KICK \?L5
	CALL2 SPLASHES,PRSO
	RTRUE
?L5:	EQUAL? PRSA,V?STAND-ON,V?CROSS \FALSE
	CALL2 THIS-IS-NOT,STR?343
	RTRUE

	.FUNCT SPLASHES,OBJ=0
	ZERO? OBJ \?L1
	PRINTI "Water"
	JUMP ?L3
?L1:	CALL2 CTHE-PRINT,OBJ
?L3:	PRINTI "[RIDX: 5110]"
	CRLF
	CALL2 PRINT-ID,STR?344
	RTRUE

	.FUNCT HANDLE-SOAPY-WATER?
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	EQUAL? PRSO,HANDS,FEET \?L5
	CALL1 WET-AND-SLIPPERY
	RTRUE
?L5:	CALL1 PRSO-INTO-SOAPY-WATER
	RTRUE
?L1:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L10
	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-DOWN \?L9
?L10:	ZERO? IN-DISH? \?L11
	CALL1 ENTER-DISH
	RTRUE
?L11:	CALL1 ALREADY-IN
	RTRUE
?L9:	EQUAL? PRSA,V?SIT,V?LIE-DOWN,V?SWIM /?L15
	EQUAL? PRSA,V?DIVE,V?LEAP \?L14
?L15:	ZERO? IN-DISH? \?L16
	CALL1 ENTER-DISH
	RTRUE
?L16:	PRINTR "[RIDX: 5112]"
?L14:	EQUAL? PRSA,V?CLIMB-UP /?L20
	CALL1 EXITING? >STACK
	ZERO? STACK /?L19
?L20:	ZERO? IN-DISH? \?L21
	CALL1 NOT-IN
	RTRUE
?L21:	CALL1 EXIT-DISH
	RTRUE
?L19:	EQUAL? PRSA,V?TOUCH,V?REACH-IN,V?KISS \?L24
	EQUAL? PRSI,0,HANDS \?L24
	CALL1 WET-AND-SLIPPERY
	RTRUE
?L24:	EQUAL? PRSA,V?DRINK,V?DRINK-FROM \?L25
	PRINTI "Yuck! "
	CALL1 CTHE-PRINT
	PRINTI " tastes awful."
	CRLF
	CALL2 PRINT-ID,STR?345
	RTRUE
?L25:	EQUAL? PRSA,V?SMELL \?L26
	PRINTR "[RIDX: 5116]"
?L26:	EQUAL? PRSA,V?EAT,V?BITE \FALSE
	CALL2 PRINT-ID,STR?346
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT WET-AND-SLIPPERY
	PRINTR "[RIDX: 5118]"

	.FUNCT PRSO-INTO-SOAPY-WATER
	CALL1 VANISH
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5119]"
	PRINTD SOAPY-WATER
	PRINT PERIOD
	RTRUE

	.FUNCT ENTER-DISH
	SET 'OLD-HERE,0
	SET 'IN-DISH?,1
	PRINTI "[RIDX: 5120]"
	ZERO? SUITED? /?L1
	CALL1 POP-BUBBLE-SUIT
	PRINT PTHE
	PRINTD FILM
	PRINTI " around you"
	CALL1 SAY-POP
	PRINTI ", and you "
	JUMP ?L3
?L1:	PRINTI ", and "
?L3:	PRINTI "find "
	PRINTD ME
	PRINTR "[RIDX: 5125]"

	.FUNCT POP-BUBBLE-SUIT
	SET 'SUITED?,0
	SET 'OLD-HERE,0
	CALL2 DEQUEUE,I-BUBBLE-SUIT
	RTRUE

	.FUNCT EXIT-DISH
	SET 'OLD-HERE,0
	SET 'IN-DISH?,0
	PRINTR "[RIDX: 5126]"

	.FUNCT WAND-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	PRINTI "[RIDX: 5128]"
	PRINTD SBUBBLE
	PRINTR "s."
?L3:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	IN? PRSO,BOY \?L5
	CALL1 ANNOY-BOY
	RTRUE
?L5:	CALL2 CANT-REACH,PRSO
	RTRUE

	.FUNCT ANNOY-BOY
	PRINTI "[RIDX: 5130]"
	CRLF
	CALL2 PRINT-ID,STR?347
	CALL1 LAST-BUBBLE
	CALL1 BOY-SCRAMS
	RTRUE

	.FUNCT LAST-BUBBLE
	EQUAL? BACTION,1,2 \TRUE
	CRLF
	PRINTR "[RIDX: 5132]"

	.FUNCT BOY-SCRAMS
	REMOVE BOY
	FSET BOY,CHILLY
	SET 'P-HIM-OBJECT,NOT-HERE-OBJECT
	REMOVE SDISH
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	FSET HERE,NOALL
	CALL2 DEQUEUE,I-BOY
	SET 'BACTION,0
	MOVE WAND,GIANT
	RTRUE

	.FUNCT SBUBBLE-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?BLOW-INTO \?L3
	PRINT DONT
	PRINTI "[RIDX: 5135]"
	PRINTD MIKE
	PRINT PERIOD
	RTRUE
?L3:	EQUAL? HERE,PROM,AT-TERRACE \?L5
	FSET? HERE,NOALL \?L4
?L5:	CALL1 NONE-AT-MOMENT
	RETURN 2
?L4:	EQUAL? PRSA,V?EXAMINE \?L8
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5136]"
?L8:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L9
	CALL1 CTHE-PRINT
	PRINTR " is filled with air."
?L9:	EQUAL? PRSA,V?FOLLOW \?L10
	CALL1 V-WALK-AROUND
	RTRUE
?L10:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5138]"

	.FUNCT GENERIC-BUBBLE-F,TABLE
	FSET? HERE,NOALL \?L1
	RETURN FILM
?L1:	ZERO? SUITED? \?L3
	RETURN SBUBBLE
?L3:	RETURN FILM

	.FUNCT FILM-F,VAC?=0
	ZERO? SUITED? \?L1
	CALL1 REFERRING
	RETURN 2
?L1:	EQUAL? HERE,IN-ORBIT,ON-SAT \?L5
	SET 'VAC?,1
?L5:	ZERO? NOW-PRSI? /?L7
	EQUAL? PRSA,V?THROW,V?THROW-OVER,V?TOUCH-TO \FALSE
	EQUAL? PRSO,AXE,PARASOL,GNOMON /?L13
	EQUAL? PRSO,SPADE \?L11
?L13:	CALL2 BREAK-FILM-WITH,PRSO
	RTRUE
?L11:	CALL1 PRSO-BOUNCES
	RTRUE
?L7:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH /?L17
	EQUAL? PRSA,V?WATCH \?L16
?L17:	EQUAL? HERE,ON-SAT \?L18
	CALL1 CTHE-PRINT
	PRINTI " is anchored to the "
	PRINTD XRAY
	PRINTI " with the "
	PRINTD LUMP
	PRINT PERIOD
	RTRUE
?L18:	EQUAL? HERE,IN-SKY,IN-ORBIT,ON-SAT \?L20
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5143]"
	EQUAL? HERE,IN-SKY \?L21
	PRINTR "passing wind."
?L21:	PRINTR "surrounding vacuum."
?L20:	CALL2 I-BUBBLE-SUIT,0
	RTRUE
?L16:	EQUAL? PRSA,V?TOUCH,V?KNOCK,V?KISS \?L25
	EQUAL? PRSI,0,HANDS \?L25
	CALL1 CTHE-PRINT
	PRINTI " feels remarkably "
	ZERO? VAC? \?L26
	PRINTR "flexible."
?L26:	PRINTR "[RIDX: 5148]"
?L25:	EQUAL? PRSA,V?HIT,V?KICK,V?POP /?L30
	EQUAL? PRSA,V?SQUEEZE,V?CUT,V?RIP /?L30
	EQUAL? PRSA,V?MUNG \?L29
?L30:	EQUAL? PRSI,AXE,PARASOL,GNOMON /?L33
	EQUAL? PRSI,SPADE \?L31
?L33:	CALL2 BREAK-FILM-WITH,PRSI
	RTRUE
?L31:	EQUAL? SUITED?,1 \?L34
	EQUAL? HERE,IN-ORBIT,ON-SAT,IN-SKY /?L34
	CALL2 I-BUBBLE-SUIT,0
	RTRUE
?L34:	CALL1 CTHE-PRINT
	EQUAL? HERE,IN-ORBIT,ON-SAT /?L36
	PRINTI "[RIDX: 5149]"
?L36:	PRINTR " remains intact."
?L29:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L39
	CALL1 ALREADY-IN
	RTRUE
?L39:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 HOW?
	RTRUE

	.FUNCT PRSO-BOUNCES
	CALL1 CTHE-PRINT
	PRINTI " bounces off the "
	PRINTD FILM
	PRINTR "[RIDX: 5152]"

	.FUNCT BREAK-FILM-WITH,OBJ
	CALL1 POP-BUBBLE-SUIT
	PRINTI "The sharp "
	EQUAL? OBJ,AXE,GNOMON \?L1
	PRINTI "edge"
	JUMP ?L3
?L1:	PRINTI "point"
?L3:	PRINTI " of "
	CALL2 THE-PRINT,OBJ
	PRINTI " str"
	EQUAL? PRSA,V?THROW \?L4
	PRINTI "ike"
	JUMP ?L6
?L4:	PRINTI "ain"
?L6:	PRINTI "[RIDX: 5160]"
	PRINT PCR
	CALL2 ITALICIZE,STR?261
	PRINTI "[RIDX: 5162]"
	EQUAL? HERE,IN-SKY \?L7
	CALL1 BROLLY-FILLS?
	RTRUE
?L7:	EQUAL? HERE,IN-ORBIT,ON-SAT \?L9
	PRINTI "ful ice crystals"
	EQUAL? PRSA,V?THROW \?L10
	REMOVE OBJ
	PRINTI ". "
	CALL2 CTHE-PRINT,OBJ
	PRINTI "[RIDX: 5165]"
?L10:	EQUAL? HERE,ON-SAT \?L13
	PRINTI "[RIDX: 5166]"
	PRINTD XRAY
	CALL2 PRINT-ID,STR?348
	EQUAL? ORBCNT,7,8 \?L15
	FSET? TS1-DOOR,OPENED \?L17
	FSET? TS1-DOOR,NOALL /?L17
	PRINTI "[RIDX: 5168]"
	PRINTD TS1-DOOR
?L17:	PRINT PERIOD
	CALL1 ICE-VAC
	EQUAL? ORBCNT,7 \?L20
	CALL1 I-ORBIT
?L20:	CRLF
	PRINTI "[RIDX: 5169]"
	PRINTD XRAY
	PRINTI "[RIDX: 5170]"
	FSET? TS1-DOOR,OPENED \?L25
	FSET? TS1-DOOR,NOALL \?L23
?L25:	CALL1 STAR-WARS
	RTRUE
?L23:	PRINTI "[RIDX: 5171]"
	CALL2 DEQUEUE,I-VACUUM
	CALL2 DEQUEUE,I-ORBIT
	CALL2 DEQUEUE,I-LUMP
	SET 'QUIET?,0
	CALL EXIT-HOLE,TS1-DOOR,AT-FALLS
	RTRUE
?L15:	PRINT PERIOD
	CALL2 GOTO,IN-ORBIT
	CALL1 ICE-VAC
	RTRUE
?L13:	PRINT PERIOD
	CALL1 ICE-VAC
	RTRUE
?L9:	PRINT PERIOD
	RTRUE

	.FUNCT BROLLY-FILLS?
	IN? PARASOL,PLAYER \?L1
	FSET? PARASOL,OPENED \?L1
	PRINTI "[RIDX: 5172]"
	PRINTD PARASOL
	PRINTR "[RIDX: 5173]"
?L1:	PRINT PERIOD
	RFALSE

	.FUNCT GENERIC-METAL-F,TBL
	RETURN LUMP

	.FUNCT DESCRIBE-LUMP,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "A "
	FSET? LUMP,CHILLY \?L3
	PRINTI "glowing "
	JUMP ?L5
?L3:	PRINTI "dark "
?L5:	PRINTD LUMP
	PRINTI "[RIDX: 5180]"
	FIRST? LUMP >STACK \?L6
	PRINTI ". On it you see "
	CALL2 PRINT-CONTENTS,LUMP
?L6:	PRINTI "."
	RTRUE

	.FUNCT LUMP-F,OBJ,NXT
	ZERO? SUITED? /?L1
	FSET? LUMP,TRYTAKE /?L1
	CALL2 GOT?,LUMP >STACK
	ZERO? STACK \?L1
	CALL1 CANT-REACH-THRU-FILM
	RETURN 2
?L1:	ZERO? NOW-PRSI? /?L6
	EQUAL? PRSA,V?PUT-UNDER \?L8
	CALL PERFORM,V?LOOSEN,PRSI,PRSO
	RTRUE
?L8:	EQUAL? PRSA,V?PUT-ON,V?PLUG,V?TOUCH-TO \FALSE
	EQUAL? PRSO,HANDS,ME,MOUTH \?L11
	CALL PERFORM,V?TOUCH,PRSI
	RTRUE
?L11:	EQUAL? PRSO,FEET,ANKLE \?L13
	CALL PERFORM,V?KICK,PRSI
	RTRUE
?L13:	EQUAL? PRSO,POCKET \?L14
	CALL1 WASTE-OF-TIME
	RTRUE
?L14:	EQUAL? PRSO,ICE \?L15
	CALL1 COOL-LUMP
	RTRUE
?L15:	EQUAL? PRSO,PARASOL,SPADE \?L16
	CALL1 MAGNETIC
	RTRUE
?L16:	FSET? PRSI,CHILLY \?L18
	EQUAL? PRSO,EBAG,SOGGY \?L17
	FIRST? PRSO >STACK \?L17
	CALL1 EMPTY-PRSO-FIRST
	RTRUE
?L17:	FSET? PRSI,CHILLY \?L18
	EQUAL? PRSO,OCRANE,BAD-CRANE,SHROUD /?L19
	EQUAL? PRSO,BANDAGE,BAG,EBAG /?L19
	EQUAL? PRSO,SOGGY \?L18
?L19:	CALL1 VANISH
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5184]"
	PRINTD PRSI
	PRINTR "[RIDX: 5185]"
?L18:	FSET? PRSO,FERRIC \?L20
	FSET? PRSO,TAKEABLE \?L21
	IN? PRSO,PLAYER \?L21
	GETP PRSO,P?SIZE >STACK
	LESS? STACK,6 \?L21
	MOVE PRSO,PRSI
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5186]"
	FSET? PRSI,CHILLY \?L23
	PRINTI "hot "
?L23:	PRINTD PRSI
	PRINTI " with a sharp "
	CALL2 ITALICIZE,STR?156
	CRLF
	RTRUE
?L21:	CALL1 MAGNETIC
	RTRUE
?L20:	EQUAL? PRSA,V?TOUCH-TO \?L27
	PRINTR "Nothing happens."
?L27:	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L6:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L30
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5191]"
	PRINTD CSURFACE
	FSET? PRSO,CHILLY \?L31
	PRINTI " glows with heat"
	JUMP ?L33
?L31:	PRINTI "[RIDX: 5193]"
?L33:	FIRST? PRSO >STACK \?L34
	PRINTI ". "
	PRINT YOU-SEE
	CALL2 PRINT-CONTENTS,PRSO
	PRINTI " clinging to it"
?L34:	PRINT PERIOD
	RTRUE
?L30:	EQUAL? PRSA,V?TAKE-WITH,V?DIG,V?LOOSEN \?L37
	EQUAL? PRSI,HANDS \?L38
	IN? SPADE,PLAYER \?L40
	CALL1 SPADE-LUMP
	RTRUE
?L40:	CALL PERFORM,V?TOUCH,PRSO
	RTRUE
?L38:	EQUAL? PRSI,POCKET,MOUTH,ANKLE /?L44
	EQUAL? PRSI,HEAD,EYES \?L43
?L44:	CALL1 IMPOSSIBLE
	RTRUE
?L43:	EQUAL? PRSI,FEET \?L45
	CALL PERFORM,V?KICK,PRSO
	RTRUE
?L45:	EQUAL? PRSI,SPADE \?L46
	CALL1 SPADE-LUMP
	RTRUE
?L46:	EQUAL? PRSI,PARASOL \?L47
	CALL1 CTHEI-PRINT
	PRINTR "[RIDX: 5196]"
?L47:	EQUAL? PRSI,ICE \?L48
	CALL1 COOL-LUMP
	RTRUE
?L48:	FSET? PRSO,CHILLY \?L49
	EQUAL? PRSI,OCRANE,BAD-CRANE,SHROUD /?L50
	EQUAL? PRSI,BANDAGE,BAG,EBAG \?L49
?L50:	CALL PERFORM,V?PUT,PRSI,PRSO
	RTRUE
?L49:	CALL1 WASTE-OF-TIME
	RTRUE
?L37:	EQUAL? PRSA,V?TAKE,V?TOUCH,V?PULL /?L53
	EQUAL? PRSA,V?PUSH,V?MOVE,V?PUSH-TO /?L53
	EQUAL? PRSA,V?TURN,V?RELEASE,V?TAKE-OFF \?L52
?L53:	FSET? PRSO,TRYTAKE \?L54
	CALL1 NO-AVAIL
	RTRUE
?L54:	FSET? PRSO,CHILLY \?L56
	CALL1 TOUCH-LUMP
	RTRUE
?L56:	EQUAL? PRSA,V?TAKE \FALSE
	PUTP PRSO,P?DESCFCN,0
	RFALSE
?L52:	EQUAL? PRSA,V?KICK \FALSE
	FSET? PRSO,TRYTAKE \?L60
	CALL1 CTHE-PRINT
	PRINTR " refuses to budge."
?L60:	FSET? PRSO,CHILLY \FALSE
	PRINTR "[RIDX: 5198]"

	.FUNCT MAGNETIC
	PRINTR "[RIDX: 5199]"

	.FUNCT TOUCH-LUMP
	PRINTR "[RIDX: 5200]"

	.FUNCT SPADE-LUMP
	PRINTI "[RIDX: 5201]"
	EQUAL? PRSA,V?TAKE-WITH \?L1
	PRINTI "lift"
	JUMP ?L3
?L1:	PRINTI "budge"
?L3:	PRINTI "[RIDX: 5204]"
	PRINTD SPADE
	PRINTI "[RIDX: 5205]"
	EQUAL? PRSA,V?TAKE-WITH \?L4
	PRINTI "[RIDX: 5206]"
	CALL2 PRINT-ID,STR?349
	CALL2 ITALICIZE,STR?350
	CRLF
	RTRUE
?L4:	PRINTI "[RIDX: 5209]"
	PRINTD SPADE
	PRINTR "[RIDX: 5210]"

	.FUNCT COOL-LUMP
	REMOVE ICE
	CALL2 DEQUEUE,I-ICE
	FCLEAR LUMP,CHILLY
	SET 'P-IT-OBJECT,LUMP
	CALL2 CTHE-PRINT,ICE
	PRINTI "[RIDX: 5211]"
	PRINTD LUMP
	PRINTI "[RIDX: 5212]"
	PRINTD CSURFACE
	PRINTI "[RIDX: 5213]"
	CRLF
	CALL2 UPDATE-SCORE,3
	RTRUE

	.FUNCT CRATER-F,IN=0
	EQUAL? HERE,IN-CRATER \?L1
	SET 'IN,1
?L1:	ZERO? NOW-PRSI? /?L4
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	ZERO? IN \?L8
	MOVE PRSO,IN-CRATER
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5007]smoky "
	PRINTD PRSI
	PRINT PERIOD
	RTRUE
?L8:	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L4:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L12
	ZERO? IN \?L13
	CALL1 CANT-SEE-MUCH
	RTRUE
?L13:	CALL1 V-LOOK
	RTRUE
?L12:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L17
	EQUAL? PRSA,V?CLIMB-DOWN,V?STAND-ON,V?CROSS \?L16
?L17:	ZERO? IN \?L18
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L18:	CALL1 ALREADY-IN
	RTRUE
?L16:	CALL1 EXITING? >STACK
	ZERO? STACK /?L21
	EQUAL? PRSA,V?CLIMB-UP,V?LEAP \?L21
	ZERO? IN \?L22
	CALL1 NOT-IN
	RTRUE
?L22:	CALL2 DO-WALK,P?UP
	RTRUE
?L21:	EQUAL? PRSA,V?SIT,V?LIE-DOWN \FALSE
	ZERO? IN \?L26
	CALL1 NOT-IN
	RTRUE
?L26:	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT SMOKE-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?SMELL,V?INHALE \?L3
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5218]"
	CRLF
	CALL2 PRINT-ID,STR?351
	RTRUE
?L3:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L4
	CALL1 CTHE-PRINT
	PRINTR " is dark and sooty."
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L6
	CALL1 EXITING? >STACK
	ZERO? STACK \?L6
	EQUAL? PRSA,V?CROSS \FALSE
?L6:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT RUBBLE-F
	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH,V?LOOK-UNDER /?L3
	EQUAL? PRSA,V?DIG,V?REACH-IN \?L1
?L3:	PRINTI "Sifting through the "
	PRINTD PRSO
	PRINTI " reveals nothing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L1:	ZERO? NOW-PRSI? \?L9
	EQUAL? PRSA,V?TAKE,V?LOOSEN,V?PUSH /?L5
	EQUAL? PRSA,V?RAISE,V?MOVE,V?PUSH-TO /?L5
	EQUAL? PRSA,V?PULL \?L4
?L5:	PRINTI "Bits of "
	PRINTD PRSO
	PRINTR "[RIDX: 5225]"
?L4:	ZERO? NOW-PRSI? /?L6
?L9:	EQUAL? PRSA,V?PUT,V?PUT-ON,V?THROW \?L6
	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L6:	CALL1 GROUND-F >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT WATERFALL-F,IN=0
	EQUAL? HERE,ICE-CAVE \?L1
	SET 'IN,1
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE \?L4
	PRINTI "[RIDX: 5228]"
	ZERO? IN \?L6
	PRINTR "[RIDX: 5229]"
?L6:	PRINTI "across the "
	PRINTD CAVE-HOLE
	PRINTR " in the wall."
?L4:	EQUAL? PRSA,V?LOOK-BEHIND,V?SEARCH \?L9
	ZERO? IN \?L10
	FSET? CAVE-HOLE,SEEN \?L12
	PRINTI "There's "
	JUMP ?L14
?L12:	FSET CAVE-HOLE,SEEN
	PRINTI "[RIDX: 5233]"
?L14:	CALL2 PRINTA,CAVE-HOLE
	PRINTI "[RIDX: 5234]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L10:	CALL1 CANT-SEE-MUCH
	RTRUE
?L9:	EQUAL? PRSA,V?WALK-AROUND \?L16
	ZERO? IN /?L17
	CALL2 DO-WALK,P?EAST
	RTRUE
?L17:	FSET? CAVE-HOLE,SEEN \?L19
	CALL2 DO-WALK,P?WEST
	RTRUE
?L19:	PRINTI "[RIDX: 5235]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L16:	EQUAL? PRSA,V?LISTEN \?L21
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5236]"
?L21:	CALL1 HANDLE-MOUNTAIN-WATER? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT CAVE-HOLE-F,IN=0
	FSET? CAVE-HOLE,SEEN /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	ZERO? NOW-PRSI? \FALSE
	EQUAL? HERE,ICE-CAVE \?L6
	SET 'IN,1
?L6:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L8
	ZERO? IN \?L10
	CALL1 CANT-SEE-MUCH
	RTRUE
?L10:	CALL PERFORM,V?EXAMINE,WATERFALL
	RTRUE
?L8:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L14
	EQUAL? PRSA,V?WALK-AROUND,V?CROSS \?L13
?L14:	ZERO? IN \?L15
	PUSH P?WEST
	JUMP ?L17
?L15:	PUSH P?EAST
?L17:	CALL2 DO-WALK,STACK
	RTRUE
?L13:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 NOT-IN
	RTRUE

	.FUNCT POOL-F
	CALL1 HANDLE-MOUNTAIN-WATER? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT STREAM-F
	EQUAL? PRSA,V?EXAMINE \?L1
	CALL1 CTHE-PRINT
	PRINTI " flows "
	EQUAL? HERE,SBOG \?L3
	PRINTI "south"
	JUMP ?L5
?L3:	EQUAL? HERE,AT-TRELS \?L5
	PRINTI "north"
?L5:	CALL1 SAY-EAST
	PRINTI "ward, into the "
	EQUAL? HERE,AT-BEND \?L7
	PRINTD STYX
	JUMP ?L9
?L7:	PRINTD FOREST
?L9:	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?CROSS,V?CLIMB-OVER,V?LEAP \?L10
	PRINTI "[RIDX: 5246]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L10:	EQUAL? PRSA,V?FOLLOW,V?CLIMB-DOWN \?L11
	EQUAL? HERE,SBOG \?L12
	PUSH P?SE
	JUMP ?L15
?L12:	EQUAL? HERE,AT-TRELS \?L14
	PUSH P?NE
	JUMP ?L15
?L14:	PUSH P?EAST
?L15:	CALL2 DO-WALK,STACK
	RTRUE
?L11:	EQUAL? PRSA,V?CLIMB-UP,V?CLIMB-ON \?L16
	EQUAL? HERE,AT-BEND \?L17
	PUSH P?SW
	JUMP ?L20
?L17:	EQUAL? HERE,AT-TRELS \?L19
	PUSH P?NW
	JUMP ?L20
?L19:	PUSH P?WEST
?L20:	CALL2 DO-WALK,STACK
	RTRUE
?L16:	EQUAL? PRSA,V?LISTEN \?L21
	CALL1 CTHE-PRINT
	PRINTR " trickles faintly."
?L21:	CALL1 HANDLE-MOUNTAIN-WATER? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT GENERIC-RIVER-F,TBL
	EQUAL? HERE,DOCKSIDE \?L1
	RETURN STYX
?L1:	RETURN STREAM

	.FUNCT HANDLE-MOUNTAIN-WATER?
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL2 PRINT-ID,STR?352
	REMOVE PRSO
	PRINTI "Splash! "
	CALL1 CTHE-PRINT
	PRINTI " disappears "
	CALL1 SAY-IN-MOUNTAIN-WATER
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L6
	PRINT CANT
	PRINTI "make out anything "
	CALL1 SAY-IN-MOUNTAIN-WATER
	RTRUE
?L6:	EQUAL? PRSA,V?DRINK-FROM,V?DRINK,V?TASTE \?L7
	PRINTI "[RIDX: 5252]"
	CRLF
	CALL2 PRINT-ID,STR?353
	RTRUE
?L7:	CALL1 DO-WATER? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT SAY-IN-MOUNTAIN-WATER
	PRINTR "[RIDX: 5254]"

	.FUNCT DO-WATER?
	CALL1 ENTERING? >STACK
	ZERO? STACK \?L4
	EQUAL? PRSA,V?SWIM,V?DIVE,V?LIE-DOWN /?L4
	EQUAL? PRSA,V?SIT,V?STAND-UNDER,V?STAND-ON \?L1
?L4:	PRINTI "[RIDX: 5255]"
	PRINT CHANGES
	CALL2 PRINT-ID,STR?354
	RTRUE
?L1:	EQUAL? PRSA,V?TOUCH,V?REACH-IN \?L5
	EQUAL? PRSI,0,HANDS \?L5
	PRINTI "[RIDX: 5257]"
	CRLF
	CALL2 PRINT-ID,STR?355
	IN? HONEY,PLAYER \TRUE
	CALL1 EXIT-HONEY
	PRINT PERIOD
	RTRUE
?L5:	EQUAL? PRSA,V?TAKE,V?KICK,V?SHAKE /?L10
	EQUAL? PRSA,V?KNOCK,V?MUNG \?L9
?L10:	CALL1 SPLASHES
	RTRUE
?L9:	EQUAL? PRSA,V?EAT,V?BITE \?L11
	CALL1 IMPOSSIBLE
	RTRUE
?L11:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 NOT-IN
	RTRUE

	.FUNCT SSTEPS-F
	EQUAL? PRSA,V?EXAMINE \?L1
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5260]"
?L1:	CALL2 HANDLE-STAIRS?,BONEYARD >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT CLIFF-F,TOP?=0
	CALL2 NOUN-USED?,W?ROOF >STACK
	ZERO? STACK /?L1
	EQUAL? HERE,UNDER-CLIFF /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	EQUAL? HERE,BONEYARD,ON-BLUFF \?L5
	SET 'TOP?,1
?L5:	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?TOUCH,V?KISS \?L9
	EQUAL? PRSI,0,HANDS \?L9
	PRINTI "The walls of the "
	PRINTD CLIFF
	PRINTI "[RIDX: 5264]"
	CRLF
	CALL2 PRINT-ID,STR?356
	RTRUE
?L9:	EQUAL? PRSA,V?LOOK-UP \?L10
	ZERO? TOP? \?L11
	CALL1 CANT-SEE-MUCH
	RTRUE
?L11:	CALL1 ALREADY-AT-TOP
	RTRUE
?L10:	EQUAL? PRSA,V?LOOK-DOWN \?L14
	ZERO? TOP? \?L15
	CALL1 ALREADY-AT-BOTTOM
	RTRUE
?L15:	CALL1 CANT-SEE-MUCH
	RTRUE
?L14:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER \?L18
	CALL1 CLIFF-TOO-STEEP
	RTRUE
?L18:	EQUAL? PRSA,V?CLIMB-UP \?L19
	ZERO? TOP? \?L20
	CALL1 CLIFF-TOO-STEEP
	RTRUE
?L20:	CALL1 ALREADY-AT-TOP
	RTRUE
?L19:	EQUAL? PRSA,V?CLIMB-DOWN,V?LEAP,V?DIVE \?L23
	ZERO? TOP? \?L24
	CALL1 ALREADY-AT-BOTTOM
	RTRUE
?L24:	EQUAL? PRSA,V?DIVE /?L27
	EQUAL? P-PRSA-WORD,W?JUMP,W?LEAP \?L26
?L27:	PRINTI "Desperate?"
	CRLF
	CALL2 PRINT-ID,STR?357
	RTRUE
?L26:	CALL1 CLIFF-TOO-STEEP
	RTRUE
?L23:	EQUAL? PRSA,V?STAND-UNDER \?L29
	ZERO? TOP? \?L30
	CALL1 ALREADY-AT-BOTTOM
	RTRUE
?L30:	CALL1 V-WALK-AROUND
	RTRUE
?L29:	EQUAL? PRSA,V?STAND-ON \FALSE
	ZERO? TOP? \?L34
	CALL1 V-WALK-AROUND
	RTRUE
?L34:	CALL1 ALREADY-AT-TOP
	RTRUE

	.FUNCT CLIFF-TOO-STEEP
	PRINTI "The walls of the "
	PRINTD CLIFF
	PRINTR " are too steep."

	.FUNCT HEADS-F
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L1
	PRINTR "[RIDX: 5273]"
?L1:	CALL1 STATUARY-F >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT STATUARY-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L3
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5274]"
?L3:	EQUAL? PRSA,V?TAKE,V?RAISE,V?PUSH /?L5
	EQUAL? PRSA,V?PULL,V?MOVE \?L4
?L5:	PRINTI "[RIDX: 5275]"
	PRINTD PRSO
	PRINT CHANGES
	RTRUE
?L4:	EQUAL? PRSA,V?TOUCH,V?KISS,V?SHAKE \FALSE
	EQUAL? PRSI,0,HANDS \FALSE
	CALL1 COLD-PRSOS
	RTRUE

	.FUNCT COLD-PRSOS
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5276]"

	.FUNCT GENERIC-TOMB-F,TBL
	EQUAL? P-IT-OBJECT,CRYPT,TOMBS \?L1
	RETURN P-IT-OBJECT
?L1:	EQUAL? W?NAME,P-NAM,P-XNAM /?L4
	EQUAL? W?WRITING,P-NAM,P-XNAM /?L4
	EQUAL? W?ENGRAVING,P-NAM,P-XNAM \?L3
?L4:	RETURN CRYPT
?L3:	RETURN TOMBS

	.FUNCT TOMBS-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L3
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5278]"
	ZERO? FLIP? /?L4
	PRINTI "[RIDX: 5279]"
?L4:	PRINT PERIOD
	FSET? PRSO,SEEN /TRUE
	FSET PRSO,SEEN
	CRLF
	CALL VOICE-MUTTERS,STR?358,0
	RTRUE
?L3:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \?L10
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5281]"
?L10:	EQUAL? PRSA,V?TOUCH,V?KISS \?L11
	EQUAL? PRSI,0,HANDS \?L11
	CALL1 COLD-PRSOS
	RTRUE
?L11:	CALL1 DISRESPECT? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT CRYPT-F,CONTEXT=0
	ZERO? CONTEXT \FALSE
	ZERO? NOW-PRSI? /?L3
	EQUAL? PRSA,V?PUT \?L4
	FSET? PRSI,OPENED /?L4
	CALL PERFORM,PRSA,PRSO,LID
	RTRUE
?L4:	EQUAL? PRSA,V?TAKE \FALSE
	FSET? PRSI,OPENED /FALSE
	CALL PERFORM,V?TAKE,PRSO,LID
	RTRUE
?L3:	EQUAL? PRSA,V?EXAMINE \?L8
	PRINTI "The granite "
	PRINTD PRSO
	PRINTI "[RIDX: 5287]"
	FSET? PRSO,OPENED \?L9
	PRINTI "[RIDX: 5288]"
	PRINTD CAVE-HOLE
	JUMP ?L12
?L9:	PRINTI "[RIDX: 5289]"
	CALL2 SEE-ANYTHING-IN?,LID >STACK
	ZERO? STACK /?L12
	PRINTI ", on which you see "
	CALL2 PRINT-CONTENTS,LID
?L12:	PRINTI "[RIDX: 5291]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L8:	EQUAL? PRSA,V?READ \?L15
	PRINTI "The name on the "
	PRINTD PRSO
	PRINTI " is "
	ZERO? FLIP? \?L16
	PRINTI "WABEWALKER"
	JUMP ?L18
?L16:	PRINTI "REKLAWEBAW"
?L18:	PRINT PERIOD
	CALL2 VISIBLE?,MAGPIE >STACK
	ZERO? STACK /TRUE
	FSET? PRSO,SEEN /TRUE
	FSET PRSO,SEEN
	CRLF
	PRINTR """Wabewalker. Awk!"""
?L15:	EQUAL? PRSA,V?LOOK-ON \?L22
	FSET? PRSO,OPENED \?L22
	CALL1 CTHE-PRINT
	PRINTR " is open."
?L22:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L23
	FSET? PRSO,OPENED /?L23
	CALL2 ITS-CLOSED,PRSO
	RTRUE
?L23:	EQUAL? PRSA,V?REACH-IN \?L24
	FSET? PRSO,OPENED \?L25
	PRINTI "[RIDX: 5298]"
	CRLF
	CALL2 PRINT-ID,STR?359
	RTRUE
?L25:	CALL1 ITS-CLOSED
	RTRUE
?L24:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?LOOSEN \?L28
	FSET? PRSO,OPENED \?L29
	CALL2 ITS-ALREADY,STR?70
	RTRUE
?L29:	CALL PERFORM,PRSA,LID,PRSI
	RTRUE
?L28:	EQUAL? PRSA,V?TAKE,V?RAISE,V?PULL /?L33
	EQUAL? PRSA,V?PUSH,V?MOVE,V?LOOK-UNDER \?L32
?L33:	CALL1 PRSO-TOO-BIG
	RTRUE
?L32:	EQUAL? PRSA,V?CLOSE \?L34
	FSET? PRSO,OPENED \?L35
	PRINT CANT
	PRINTI "[RIDX: 5301]"
	PRINTD LID
	PRINT PERIOD
	RTRUE
?L35:	CALL2 ITS-ALREADY,STR?71
	RTRUE
?L34:	EQUAL? PRSA,V?ENTER,V?LIE-DOWN \?L38
	FSET? PRSO,OPENED \?L39
	PRINTR "[RIDX: 5303]"
?L39:	CALL1 ITS-CLOSED
	RTRUE
?L38:	CALL1 DISRESPECT? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT LID-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT-UNDER \FALSE
	EQUAL? PRSO,SPADE,PARASOL,AXE \?L5
	CALL PERFORM,V?OPEN-WITH,PRSI,PRSO
	RTRUE
?L5:	CALL YOUD-HAVE-TO,STR?360,PRSI
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L9
	CALL1 DESCRIBE-LID
	RTRUE
?L9:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?LOOSEN \?L10
	EQUAL? PRSI,0,HANDS,FEET \?L11
	CALL1 LIFT-LID
	RTRUE
?L11:	EQUAL? PRSI,PARASOL,AXE \?L13
	EQUAL? PRSI,PARASOL \?L14
	FSET? PRSI,OPENED \?L14
	PRINTI "[closing the "
	PRINTD PRSI
	PRINTI " first"
	PRINT BRACKET
?L14:	CALL2 VANISH,PRSI
	CALL1 LEAN-ON-LID
	CALL1 CTHEI-PRINT
	PRINTI "[RIDX: 5308]"
	PRINTD PRSI
	PRINTR "[RIDX: 5309]"
?L13:	EQUAL? PRSI,SPADE \?L17
	PUTP HERE,P?ODOR,GOON
	FCLEAR CRYPT,SURFACE
	FSET CRYPT,OPENED
	FSET CRYPT,OPENABLE
	FSET CRYPT,CONTAINER
	PUTP CRYPT,P?CAPACITY,50
	REMOVE LID
	MOVE BROKEN-LID,BONEYARD
	SET 'P-IT-OBJECT,BROKEN-LID
	CALL1 LEAN-ON-LID
	PRINTI "[RIDX: 5310]"
	CALL2 PRINT-ID,STR?361
	FIRST? LID >STACK \?L18
	CALL MOVE-ALL,LID,BONEYARD
	PRINTI "[RIDX: 5312]"
	PRINTD CRYPT
	PRINTI "[RIDX: 5313]"
?L18:	PRINT PERIOD
	MOVE GOON,CRYPT
	CALL2 UPDATE-SCORE,3
	RTRUE
?L17:	CALL NOT-LIKELY,PRSI,STR?362
	RTRUE
?L10:	EQUAL? PRSA,V?TAKE,V?RAISE,V?PULL /?L23
	EQUAL? PRSA,V?PUSH,V?MOVE,V?LOOK-UNDER \?L22
?L23:	CALL1 LIFT-LID
	RTRUE
?L22:	EQUAL? PRSA,V?CLOSE,V?REPLACE \?L24
	CALL2 ITS-ALREADY,STR?71
	RTRUE
?L24:	EQUAL? PRSA,V?HIT \?L25
	EQUAL? PRSI,AXE \?L25
	PRINTI "[RIDX: 5316]"
	CRLF
	CALL2 PRINT-ID,STR?363
	RTRUE
?L25:	CALL1 DISRESPECT? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT LIFT-LID
	PRINTR "[RIDX: 5318]"

	.FUNCT LEAN-ON-LID
	PRINTI "[RIDX: 5319]"
	CALL1 THEI-PRINT
	PRINTI "[RIDX: 5320]"
	CALL2 ITALICIZE,STR?364
	PRINTI " "
	RTRUE

	.FUNCT DESCRIBE-LID
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5323]"
	FIRST? PRSO >STACK \?L1
	PRINTI ". "
	PRINT YOU-SEE
	CALL2 PRINT-CONTENTS,PRSO
	PRINTI " on top"
?L1:	PRINT PERIOD
	RTRUE

	.FUNCT BROKEN-LID-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L3
	CALL1 DESCRIBE-LID
	RTRUE
?L3:	EQUAL? PRSA,V?TAKE,V?MOVE,V?PULL /?L5
	EQUAL? PRSA,V?PUSH,V?LOOSEN,V?LOOK-UNDER \?L4
?L5:	CALL1 PRSO-TOO-BIG
	RTRUE
?L4:	CALL1 DISRESPECT? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT DISRESPECT?
	EQUAL? PRSA,V?SMELL \?L1
	CALL1 SMELLS-OF-DEATH
	RTRUE
?L1:	EQUAL? PRSA,V?STAND-ON,V?SIT,V?LIE-DOWN /?L4
	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?CROSS /?L4
	EQUAL? PRSA,V?CLIMB-UP,V?RIDE \FALSE
?L4:	PRINTI "[RIDX: 5327]"
	CRLF
	CALL2 PRINT-ID,STR?365
	RTRUE

	.FUNCT BARROW-F,IN=0
	EQUAL? HERE,IN-BARROW \?L1
	SET 'IN,1
?L1:	ZERO? NOW-PRSI? /?L4
	EQUAL? PRSA,V?PUT,V?THROW \FALSE
	EQUAL? HERE,IN-BARROW \?L8
	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L8:	EQUAL? HERE,BONEYARD \?L10
	FSET? BARROW-DOOR,OPENED /?L10
	CALL2 ITS-CLOSED,BARROW-DOOR
	RTRUE
?L10:	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	MOVE PRSO,IN-BARROW
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5007]darkness of the "
	PRINTD PRSI
	PRINT PERIOD
	RTRUE
?L4:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L13
	ZERO? IN \?L14
	CALL1 CANT-SEE-MUCH
	RTRUE
?L14:	CALL1 V-LOOK
	RTRUE
?L13:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L18
	EQUAL? PRSA,V?STAND-UNDER \?L17
?L18:	EQUAL? HERE,BONEYARD \?L19
	CALL2 DO-WALK,P?NORTH
	RTRUE
?L19:	EQUAL? HERE,OSSUARY \?L21
	CALL2 DO-WALK,P?SW
	RTRUE
?L21:	CALL1 ALREADY-IN
	RTRUE
?L17:	CALL1 EXITING? >STACK
	ZERO? STACK /?L23
	ZERO? IN \?L24
	CALL1 NOT-IN
	RTRUE
?L24:	CALL1 V-WALK-AROUND
	RTRUE
?L23:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER \?L27
	ZERO? IN \?L28
	PRINTI "The sides of the "
	PRINTD PRSO
	PRINTR " are too steep."
?L28:	CALL1 CANT-FROM-HERE
	RTRUE
?L27:	EQUAL? PRSA,V?SMELL \FALSE
	CALL1 SMELLS-OF-DEATH
	RTRUE

	.FUNCT BARROW-DOOR-F
	FSET? BARROW-DOOR,OPENED \?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH /?L7
	EQUAL? PRSA,V?LOOK-UNDER \?L6
?L7:	PRINTR "[RIDX: 5336]"
?L6:	EQUAL? PRSA,V?TOUCH,V?KNOCK,V?SHAKE /?L9
	EQUAL? PRSA,V?SQUEEZE,V?PLAY,V?CLIMB-ON /?L9
	EQUAL? PRSA,V?ENTER,V?THROUGH,V?CLIMB-OVER /?L9
	EQUAL? PRSA,V?KISS \?L8
?L9:	EQUAL? PRSI,0,HANDS \?L8
	PRINTI "[RIDX: 5337]"
	CRLF
	CALL2 PRINT-ID,STR?366
	RTRUE
?L8:	EQUAL? PRSA,V?OPEN,V?MOVE,V?PUSH /?L11
	EQUAL? PRSA,V?PULL,V?LOOSEN,V?SHAKE /?L11
	EQUAL? PRSA,V?SQUEEZE,V?PUSH-TO,V?OPEN-WITH \?L10
?L11:	CALL1 NO-AVAIL
	RTRUE
?L10:	EQUAL? PRSA,V?KNOCK,V?HIT,V?CUT /?L13
	EQUAL? PRSA,V?RIP,V?MUNG,V?KICK \?L12
?L13:	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5339]"
?L12:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L15
	EQUAL? PRSA,V?CROSS \?L14
?L15:	EQUAL? HERE,IN-BARROW \?L16
	PUSH P?SOUTH
	JUMP ?L18
?L16:	PUSH P?NORTH
?L18:	CALL2 DO-WALK,STACK
	RTRUE
?L14:	CALL1 EXITING? >STACK
	ZERO? STACK /?L19
	EQUAL? HERE,IN-BARROW \?L20
	CALL1 V-WALK-AROUND
	RTRUE
?L20:	CALL1 NOT-IN
	RTRUE
?L19:	EQUAL? PRSA,V?LOOK-OUTSIDE,V?LOOK-BEHIND,V?LOOK-INSIDE \FALSE
	CALL1 CANT-SEE-MUCH
	RTRUE

	.FUNCT NO-AVAIL
	PRINTI "[RIDX: 5340]"
	PRINTD PRSO
	PRINTR ", but to no avail."

	.FUNCT SHROUD-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH /?L4
	EQUAL? PRSA,V?LOOK-UNDER \?L3
?L4:	CALL1 CTHE-PRINT
	FSET? PRSO,WORN \?L5
	PRINTI " you're wearing"
?L5:	PRINTI "[RIDX: 5345]"
	FSET? PRSO,NODESC \?L8
	PRINTI "[RIDX: 5346]"
	PRINTD GOON
?L8:	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?TAKE \?L11
	FSET? PRSO,SEEN /?L11
	CALL1 ITAKE >STACK
	ZERO? STACK /TRUE
	FSET PRSO,SEEN
	PRINTI "You remove the "
	PRINTD PRSO
	PRINTI " from the "
	PRINTD GOON
	PRINTI "[RIDX: 5349]"
	CRLF
	CALL1 UPDATE-SCORE
	RTRUE
?L11:	CALL1 HANDLE-CLOTH? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT HANDLE-CLOTH?
	EQUAL? PRSA,V?CUT,V?RIP \?L1
	EQUAL? PRSI,0,HANDS,KNIFE /?L3
	EQUAL? PRSI,AXE \?L1
?L3:	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5350]"
?L1:	EQUAL? PRSA,V?SMELL \?L4
	EQUAL? HERE,UNDER-WATER /?L4
	CALL1 SMELLS-OF-DEATH
	RTRUE
?L4:	EQUAL? PRSA,V?FOLD,V?WRAP-AROUND \?L5
	CALL1 WASTE-OF-TIME
	RTRUE
?L5:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?UNFOLD \FALSE
	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT SMELLS-OF-DEATH
	PRINTI "[RIDX: 5351]"
	CRLF
	CALL2 PRINT-ID,STR?367
	RTRUE

	.FUNCT BANDAGE-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH /?L4
	EQUAL? PRSA,V?LOOK-UNDER \?L3
?L4:	PRINTI "[RIDX: 5355]"
	FSET? PRSO,NODESC \?L5
	PRINTI "[RIDX: 5356]"
	PRINTD GOON
	PRINTI "[RIDX: 5357]"
	JUMP ?L7
?L5:	FSET? PRSO,WORN \?L7
	PRINTI "[RIDX: 5358]"
?L7:	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?TAKE,V?UNTIE \?L9
	FSET? PRSO,NODESC \?L9
	CALL1 ITAKE >STACK
	ZERO? STACK /TRUE
	FSET GOON-MOUTH,OPENED
	PRINTI "As you pull the "
	PRINTD PRSO
	PRINTI " off the "
	PRINTD GOON
	PRINTI " its "
	PRINTD GOON-MOUTH
	PRINTR " drops wide open."
?L9:	CALL1 HANDLE-CLOTH? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT GENERIC-BOOT-F,TABLE,LEN
	EQUAL? P-IT-OBJECT,RBOOT,GBOOT \?L1
	RETURN P-IT-OBJECT
?L1:	EQUAL? P-NAM,W?BOOTS,W?PAIR /?L4
	EQUAL? P-XNAM,W?BOOTS,W?PAIR \?L3
?L4:	RETURN RBOOT
?L3:	EQUAL? P-NAM,W?WINGS,W?WING /?L6
	EQUAL? P-XNAM,W?WINGS,W?WING \FALSE
?L6:	FSET? RBOOT,CHILLY \?L7
	FSET? GBOOT,CHILLY /FALSE
	RETURN RBOOT
?L7:	FSET? GBOOT,CHILLY \?L12
	RETURN GBOOT
?L12:	CALL1 REFERRING
	RETURN NOT-HERE-OBJECT

	.FUNCT RBOOT-F,X
	CALL2 BAD-BOOT-PART?,RBOOT >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	CALL2 MULTIBOOT?,RBOOT >X
	ZERO? X /?L6
	RETURN X
?L6:	CALL2 HANDLE-BOOT?,STR?368 >STACK
	RSTACK

	.FUNCT GBOOT-F,X
	CALL2 BAD-BOOT-PART?,GBOOT >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	CALL2 MULTIBOOT?,GBOOT >X
	ZERO? X /?L6
	RETURN X
?L6:	CALL2 HANDLE-BOOT?,STR?307 >STACK
	RSTACK

	.FUNCT BAD-BOOT-PART?,BOOT
	FSET? BOOT,CHILLY \?L5
	CALL2 NOUN-USED?,W?RECESS >STACK
	ZERO? STACK /?L1
	PRINTR "[RIDX: 5370]"
?L1:	FSET? BOOT,CHILLY /FALSE
?L5:	CALL NOUN-USED?,W?WING,W?WINGS >STACK
	ZERO? STACK /FALSE
	CALL1 CANT-SEE-ANY
	RTRUE

	.FUNCT ONE-AT-A-TIME,STR
	PRINTI "[RIDX: 5371]"
	PRINT STR
	PRINTR " at a time.]"

	.FUNCT MULTIBOOT?,BOOT,X
	ZERO? P-MULT? \FALSE
	CALL NOUN-USED?,W?BOOTS,W?PAIR >STACK
	ZERO? STACK /FALSE
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \?L4
	CALL2 ONE-AT-A-TIME,STR?369
	RETURN 2
?L4:	EQUAL? BOOT,RBOOT \?L9
	CALL2 VISIBLE?,GBOOT >STACK
	ZERO? STACK /?L8
?L9:	EQUAL? BOOT,GBOOT \?L7
	CALL2 VISIBLE?,RBOOT >STACK
	ZERO? STACK \?L7
?L8:	PRINTI "[RIDX: 5375]"
	CRLF
	RETURN 2
?L7:	SET 'P-THEM-OBJECT,RBOOT
	ZERO? NOW-PRSI? \?L13
	PUT P-NAMW,0,W?BOOT
	PUT P-OFW,0,0
	CALL2 CTHE-PRINT,RBOOT
	PRINTI ": "
	CALL PERFORM,PRSA,RBOOT,PRSI >X
	EQUAL? X,0,M-FATAL /?L15
	CALL2 CTHE-PRINT,GBOOT
	PRINTI ": "
	CALL PERFORM,PRSA,GBOOT,PRSI >X
?L15:	RETURN X
?L13:	ZERO? PRSI /FALSE
	PUT P-NAMW,1,W?BOOT
	PUT P-OFW,1,0
	CALL2 CTHE-PRINT,RBOOT
	PRINTI ": "
	CALL PERFORM,PRSA,PRSO,RBOOT >X
	EQUAL? X,0,M-FATAL /?L19
	CALL2 CTHE-PRINT,GBOOT
	PRINTI ": "
	CALL PERFORM,PRSA,PRSO,GBOOT >X
?L19:	RETURN X

	.FUNCT HANDLE-BOOT?,STR
	CALL2 NOUN-USED?,W?RECESS >STACK
	ZERO? STACK /?L3
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L3
	PRINTR "It's empty."
?L3:	ZERO? NOW-PRSI? /?L7
	EQUAL? PRSA,V?PUT \FALSE
	EQUAL? PRSO,EMERALD \?L14
	EQUAL? PRSI,GBOOT /?L13
?L14:	EQUAL? PRSO,RUBY \?L11
	EQUAL? PRSI,RBOOT \?L11
?L13:	REMOVE PRSO
	FSET PRSI,CHILLY
	PRINTI "You press the "
	PRINTD PRSO
	PRINTI "[RIDX: 5382]"
	PRINTD PRSI
	PRINTI ". As you watch, the "
	PRINT STR
	PRINTI "[RIDX: 5384]"
	CRLF
	CALL1 UPDATE-SCORE
	RTRUE
?L11:	CALL2 NOUN-USED?,W?RECESS >STACK
	ZERO? STACK \?L20
	EQUAL? PRSO,FEET \?L16
	FSET? PRSI,WORN \?L17
	PRINT YOURE-ALREADY
	PRINTI "wearing the "
	PRINTD PRSI
	PRINT PERIOD
	RTRUE
?L17:	CALL PERFORM,V?WEAR,PRSI
	RTRUE
?L16:	FSET? PRSI,WORN \?L20
	CALL YOUD-HAVE-TO,STR?111,PRSI
	RTRUE
?L20:	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,2 \?L22
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5387]"
?L22:	CALL1 CTHE-PRINT
	PRINTI " slides out and "
	CALL1 LANDS-AT-YOUR-FEET
	RTRUE
?L7:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L26
	PRINTI "[RIDX: 5389]"
	PRINT STR
	PRINT PA
	FSET? PRSO,CHILLY \?L27
	PRINTI "[RIDX: 5390]"
	JUMP ?L29
?L27:	PRINTI "[RIDX: 5391]"
?L29:	PRINT PERIOD
	RTRUE
?L26:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH,V?EMPTY /?L31
	EQUAL? PRSA,V?REACH-IN,V?EMPTY-INTO,V?EMPTY \FALSE
?L31:	FSET? PRSO,WORN \FALSE
	CALL YOUD-HAVE-TO,STR?111,PRSO
	RTRUE

	.FUNCT BCOIN-F
	EQUAL? PRSA,V?EXAMINE,V?READ,V?LOOK-ON \?L1
	PRINTI "The words "
	FSET? PRSO,FLIPPED \?L3
	PRINTI "ELBAREFSNART TON"
	JUMP ?L5
?L3:	PRINTI "NOT TRANSFERABLE"
?L5:	PRINTI "[RIDX: 5397]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L1:	CALL1 HANDLE-COIN? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT GENERIC-ICE-F,TABLE
	RETURN ICE

	.FUNCT ICICLES-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?THROW \FALSE
	CALL1 CTHE-PRINT
	PRINTI " strikes the "
	PRINTD ICICLES
	PRINTI " and "
	CALL1 LANDS-AT-YOUR-FEET
	GETP PRSO,P?MASS >STACK
	GRTR? STACK,3 \TRUE
	CRLF
	FSET? ICE,NODESC \?L7
	CALL1 BREAK-OFF-ICE
	PRINTI "An "
	PRINTD ICE
	PRINTI " breaks off the "
	PRINTD CEILING
	PRINTR "[RIDX: 5404]"
?L7:	PRINTI "[RIDX: 5405]"
	CALL2 PRINT-ID,STR?370
	ZERO? SUITED? /?L10
	CALL1 POP-BUBBLE-SUIT
	PRINTI ", and the "
	PRINTD FILM
	CALL1 SAY-POP
?L10:	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE \?L15
	CALL1 CTHE-PRINT
	PRINTI " cover the "
	PRINTD CEILING
	PRINTI " of the "
	PRINTD CAVE
	PRINTR ", high out of reach."
?L15:	EQUAL? PRSA,V?HIT,V?LOOSEN \?L16
	ZERO? PRSI /?L16
	EQUAL? PRSI,PARASOL,SHROUD \?L17
	FSET? ICE,NODESC \?L19
	CALL1 BREAK-OFF-ICE
	PRINTI "[RIDX: 5411]"
	PRINTD PRSI
	PRINTI " breaks one of the "
	PRINTD PRSO
	PRINTI " off the "
	PRINTD CEILING
	JUMP ?L21
?L19:	PRINTI "[RIDX: 5414]"
	PRINTD PRSO
	PRINTI "[RIDX: 5415]"
	PRINTD PRSI
?L21:	PRINT PERIOD
	RTRUE
?L17:	CALL1 NICE-TRY
	RTRUE
?L16:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL2 CANT-REACH,ICICLES
	RTRUE

	.FUNCT BREAK-OFF-ICE
	FCLEAR ICE,NODESC
	MOVE ICE,ICE-CAVE
	SET 'P-IT-OBJECT,ICE
	CALL QUEUE,I-ICE,-1
	RTRUE

	.FUNCT ICE-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	PRINTI "The "
	LESS? ILIFE,4 \?L4
	PRINTI "melting "
?L4:	PRINTD ICE
	PRINTR "[RIDX: 5420]"
?L3:	EQUAL? PRSA,V?TOUCH,V?TASTE,V?KISS /?L8
	EQUAL? PRSA,V?SQUEEZE \?L7
?L8:	EQUAL? PRSI,0,HANDS \?L7
	CALL2 CTHE-PRINT,ICE
	PRINTR " feels cold and wet."
?L7:	EQUAL? PRSA,V?EAT,V?BITE,V?MUNG /?L10
	EQUAL? PRSA,V?KICK,V?SHAKE,V?STAND-ON /?L10
	EQUAL? PRSA,V?KNOCK \?L9
?L10:	CALL1 SHATTER-ICE
	RTRUE
?L9:	EQUAL? PRSA,V?DRINK \?L11
	CALL YOUD-HAVE-TO,STR?371,ICE
	RTRUE
?L11:	EQUAL? PRSA,V?MELT \FALSE
	CALL1 HOW?
	RTRUE

	.FUNCT SHATTER-ICE
	CALL1 REMOVE-ICE
	CALL2 CTHE-PRINT,ICE
	PRINTI "[RIDX: 5423]"
	FSET? HERE,CHILLY /?L1
	PRINTI "[RIDX: 5424]"
?L1:	PRINT PERIOD
	RTRUE

	.FUNCT REMOVE-ICE
	CALL2 VANISH,ICE
	CALL2 DEQUEUE,I-ICE
	RTRUE

	.FUNCT DESCRIBE-KEYHOLE,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "A "
	IN? KEY,KEYHOLE \?L4
	PRINTD KEY
	PRINTI " is sticking out of "
	JUMP ?L6
?L4:	PRINTI "[RIDX: 5429]"
?L6:	PRINTI "the wall."
	RTRUE

	.FUNCT KEYHOLE-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT-ON \?L3
	IN? PRSO,PLAYER /?L5
	CALL YOUD-HAVE-TO,STR?240,PRSO
	RTRUE
?L5:	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L3:	EQUAL? PRSA,V?PUT \FALSE
	IN? PRSO,PLAYER /?L9
	CALL YOUD-HAVE-TO,STR?240,PRSO
	RTRUE
?L9:	EQUAL? PRSO,KEY \?L11
	MOVE PRSO,KEYHOLE
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5433]"
?L11:	EQUAL? PRSO,HANDS,FEET /?L13
	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,1 \?L12
?L13:	CALL2 TOO-SMALL,PRSI
	RTRUE
?L12:	IN? KEY,PRSI \?L14
	CALL YOUD-HAVE-TO,STR?301,KEY
	RTRUE
?L14:	PRINTI "You try jamming "
	CALL1 THE-PRINT
	PRINTR "[RIDX: 5436]"
?L1:	EQUAL? PRSA,V?EXAMINE,V?SEARCH \?L17
	IN? KEY,PRSO \?L18
	PRINTI "There's a "
	PRINTD KEY
	PRINTR " in it."
?L18:	CALL1 CTHE-PRINT
	PRINTR " is quite small."
?L17:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-BEHIND \?L21
	IN? KEY,PRSO \?L22
	CALL2 CTHE-PRINT,KEY
	PRINTR "[RIDX: 5440]"
?L22:	PRINTI "[RIDX: 5441]"
	PRINTD WIGHT
	PRINTR "[RIDX: 5442]"
?L21:	EQUAL? PRSA,V?REACH-IN \?L25
	CALL1 TOO-SMALL
	RTRUE
?L25:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \?L26
	CALL1 IMPOSSIBLE
	RTRUE
?L26:	EQUAL? PRSA,V?LOOK-UNDER \FALSE
	FSET? SLOPE,OPENED \FALSE
	CALL PERFORM,V?EXAMINE,SLOPE
	RTRUE

	.FUNCT TOO-SMALL,OBJ=0
	ZERO? OBJ \?L1
	SET 'OBJ,PRSO
?L1:	CALL2 CTHE-PRINT,OBJ
	PRINTR " is too small."

	.FUNCT SLOPE-F
	FSET? SLOPE,OPENED /?L1
	CALL1 SLOPE-GONE
	RETURN 2
?L1:	ZERO? NOW-PRSI? /?L5
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	MOVE PRSO,ICE-CAVE
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	CALL1 CTHE-PRINT
	PRINTI " slides down the "
	PRINTD SLOPE
	PRINTI "[RIDX: 5448]"
	CRLF
	CALL1 SAY-IF-HERE-LIT
	RTRUE
?L5:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH /?L10
	EQUAL? PRSA,V?LOOK-BEHIND,V?LOOK-DOWN \?L9
?L10:	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5449]"
?L9:	EQUAL? PRSA,V?LOOK-UP,V?CLIMB-UP,V?CLIMB-ON \?L11
	CALL1 ALREADY-AT-TOP
	RTRUE
?L11:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH \?L12
	CALL2 ITS-ALREADY,STR?70
	RTRUE
?L12:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L15
	EQUAL? PRSA,V?CLIMB-DOWN,V?STAND-ON,V?SIT /?L15
	EQUAL? PRSA,V?LIE-DOWN,V?LEAP,V?CROSS /?L15
	EQUAL? PRSA,V?CLIMB-OVER \?L13
?L15:	CALL2 DO-WALK,P?DOWN
	RTRUE
?L13:	EQUAL? PRSA,V?TOUCH,V?KISS,V?KICK /?L17
	EQUAL? PRSA,V?CLEAN,V?KNOCK \FALSE
?L17:	EQUAL? PRSI,0,HANDS \FALSE
	PRINTR "It feels slippery."

	.FUNCT CAVE-F,IN=0
	FSET? CAVE-HOLE,SEEN /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	EQUAL? HERE,ICE-CAVE \?L5
	SET 'IN,1
?L5:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L7
	ZERO? IN \?L9
	CALL1 CANT-SEE-MUCH
	RTRUE
?L9:	CALL1 V-LOOK
	RTRUE
?L7:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L12
	ZERO? IN \?L13
	CALL2 DO-WALK,P?WEST
	RTRUE
?L13:	CALL1 ALREADY-IN
	RTRUE
?L12:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	ZERO? IN \?L17
	CALL1 NOT-IN
	RTRUE
?L17:	CALL2 DO-WALK,P?EAST
	RTRUE

	.FUNCT COTTAGE-F,IN=0
	EQUAL? HERE,IN-COTTAGE \?L1
	SET 'IN,1
?L1:	EQUAL? PRSA,V?EXAMINE \?L4
	EQUAL? HERE,ON-BLUFF \?L6
	CALL PERFORM,V?EXAMINE,COTTAGE-DOOR
	RTRUE
?L6:	EQUAL? HERE,IN-GARDEN \?L8
	CALL PERFORM,V?EXAMINE,GARDEN-DOOR
	RTRUE
?L8:	CALL1 V-LOOK
	RTRUE
?L4:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L10
	ZERO? IN \?L11
	CALL1 CANT-SEE-MUCH
	RTRUE
?L11:	CALL1 V-LOOK
	RTRUE
?L10:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L14
	EQUAL? HERE,IN-GARDEN \?L15
	CALL2 DO-WALK,P?WEST
	RTRUE
?L15:	EQUAL? HERE,ON-BLUFF \?L17
	CALL2 DO-WALK,P?EAST
	RTRUE
?L17:	CALL1 ALREADY-IN
	RTRUE
?L14:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	ZERO? IN \?L20
	CALL1 NOT-IN
	RTRUE
?L20:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT STOOLS-F
	EQUAL? PRSA,V?EXAMINE \?L1
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5457]"
	CALL1 SAY-WEST
	PRINTR "ward."
?L1:	EQUAL? PRSA,V?COUNT \?L3
	CALL1 HUNDREDS-OF-THEM
	CRLF
	RTRUE
?L3:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L4
	CALL1 V-WALK-AROUND
	RTRUE
?L4:	INTBL? PRSA,SEEVERBS,NSVERBS >STACK \?L5
	CALL1 CANT-SEE-MUCH
	RTRUE
?L5:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT COPSE-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L1
	CALL1 V-LOOK
	RTRUE
?L1:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L4
	CALL1 EXITING? >STACK
	ZERO? STACK \?L4
	EQUAL? PRSA,V?CROSS,V?STAND-ON \FALSE
?L4:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT GARDEN-F,IN=0
	EQUAL? HERE,IN-GARDEN \?L1
	SET 'IN,1
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L4
	ZERO? IN \?L6
	CALL1 CANT-SEE-MUCH
	RTRUE
?L6:	CALL1 V-LOOK
	RTRUE
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L9
	ZERO? IN \?L10
	CALL2 DO-WALK,P?EAST
	RTRUE
?L10:	CALL1 ALREADY-IN
	RTRUE
?L9:	CALL1 EXITING? >STACK
	ZERO? STACK /?L13
	ZERO? IN \?L14
	CALL1 NOT-IN
	RTRUE
?L14:	CALL2 DO-WALK,P?WEST
	RTRUE
?L13:	EQUAL? PRSA,V?DIG \?L17
	ZERO? IN \?L18
	CALL1 NOT-IN
	RTRUE
?L18:	CALL1 DIG-IN-GARDEN
	RTRUE
?L17:	EQUAL? PRSA,V?SMELL \FALSE
	CALL1 SMELL-GARLIC
	RTRUE

	.FUNCT DIG-IN-GARDEN
	PRINTI "[RIDX: 5462]"
	PRINTD HERBS
	PRINTR "[RIDX: 5463]"

	.FUNCT COTTAGE-DOOR-F,IN=P?EAST,OUT=P?WEST
	ZERO? FLIP? /?L1
	SET 'IN,P?WEST
	SET 'OUT,P?EAST
?L1:	CALL DO-COTTAGE-DOOR?,IN,OUT >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT GARDEN-DOOR-F,IN=P?WEST,OUT=P?EAST
	ZERO? FLIP? /?L1
	SET 'IN,P?EAST
	SET 'OUT,P?WEST
?L1:	CALL DO-COTTAGE-DOOR?,IN,OUT >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT DO-COTTAGE-DOOR?,IN,OUT
	CALL1 ENTERING? >STACK
	ZERO? STACK /?L1
	EQUAL? HERE,IN-COTTAGE \?L3
	PUSH OUT
	JUMP ?L5
?L3:	PUSH IN
?L5:	CALL2 DO-WALK,STACK
	RTRUE
?L1:	CALL1 EXITING? >STACK
	ZERO? STACK /?L6
	EQUAL? HERE,IN-COTTAGE \?L7
	CALL2 DO-WALK,OUT
	RTRUE
?L7:	CALL2 NOT-IN,COTTAGE
	RTRUE
?L6:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-OUTSIDE,V?LOOK-BEHIND \FALSE
	FSET? PRSO,OPENED \?L11
	CALL1 CANT-SEE-MUCH
	RTRUE
?L11:	CALL1 ITS-CLOSED
	RTRUE

	.FUNCT GFENCE-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	PRINTR "[RIDX: 5469]"
?L3:	EQUAL? PRSA,V?LOOK-BEHIND \?L4
	CALL1 CANT-SEE-MUCH
	RTRUE
?L4:	EQUAL? PRSA,V?LOOK-INSIDE \?L5
	CALL1 V-LOOK
	RTRUE
?L5:	EQUAL? PRSA,V?EXAMINE,V?CLIMB-ON,V?CLIMB-OVER /?L7
	EQUAL? PRSA,V?CROSS,V?LEAP,V?STAND-ON /?L7
	EQUAL? PRSA,V?SIT,V?LIE-DOWN,V?THROUGH \?L6
?L7:	CALL1 TOO-HIGH
	RTRUE
?L6:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL NOT-IN,GFENCE,1
	RTRUE

	.FUNCT HERBS-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L3
	PRINTR "[RIDX: 5471]"
?L3:	EQUAL? PRSA,V?SMELL \?L4
	CALL1 SMELL-GARLIC
	RTRUE
?L4:	EQUAL? PRSA,V?TAKE,V?PICK,V?LOOSEN /?L6
	EQUAL? PRSA,V?PULL,V?MOVE,V?PUSH /?L6
	EQUAL? PRSA,V?EMPTY,V?DIG,V?LOOK-UNDER /?L6
	EQUAL? PRSA,V?EAT,V?BITE,V?MUNG /?L6
	EQUAL? PRSA,V?CUT,V?RIP,V?KICK /?L6
	EQUAL? PRSA,V?SHAKE,V?SQUEEZE \?L5
?L6:	CALL1 DIG-IN-GARDEN
	RTRUE
?L5:	CALL1 PLAYING-IN? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT DESCRIBE-PILE,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "A "
	PRINTD PILE
	PRINTI " lies in the "
	PRINTD CORNER
	PRINTI "."
	CALL1 LOOK-ON-PILE
	RTRUE

	.FUNCT LOOK-ON-PILE
	CALL2 SEE-ANYTHING-IN?,PILE >STACK
	ZERO? STACK /TRUE
	PRINTI " On it you see "
	CALL2 PRINT-CONTENTS,PILE
	PRINTI "."
	RTRUE

	.FUNCT PILE-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L3
	PRINTI "[RIDX: 5479]"
	CALL1 LOOK-ON-PILE
	CRLF
	RTRUE
?L3:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH,V?DIG /?L5
	EQUAL? PRSA,V?LOOK-UNDER,V?REACH-IN \?L4
?L5:	FSET? GARLIC,NODESC \?L6
	FCLEAR GARLIC,NODESC
	MOVE GARLIC,PRSO
	SET 'P-IT-OBJECT,GARLIC
	PRINTI "[RIDX: 5480]"
	PRINTD GARLIC
	JUMP ?L8
?L6:	PRINTI "[RIDX: 5481]"
	PRINTD PRSO
?L8:	PRINT PERIOD
	RTRUE
?L4:	EQUAL? PRSA,V?TAKE \?L9
	PRINTR "[RIDX: 5482]"
?L9:	CALL1 PLAYING-IN? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT GARLIC-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5484]"
?L3:	EQUAL? PRSA,V?EAT,V?BITE \?L4
	CALL1 VANISH
	PRINTI "You cram the dirty "
	PRINTD PRSO
	PRINTI "[RIDX: 5486]"
	CRLF
	CALL2 PRINT-ID,STR?372
	RTRUE
?L4:	EQUAL? PRSA,V?MUNG,V?CUT,V?RIP \?L5
	PRINTI "It's just a tiny "
	PRINTD PRSO
	PRINTI ", too small to "
	PRINTB P-PRSA-WORD
	PRINT PERIOD
	RTRUE
?L5:	EQUAL? PRSA,V?CLEAN \?L6
	CALL1 CTHE-PRINT
	PRINTR " is beyond hope."
?L6:	EQUAL? PRSA,V?SMELL \FALSE
	EQUAL? HERE,UNDER-WATER /FALSE
	CALL1 SMELL-GARLIC
	RTRUE

	.FUNCT SMELL-GARLIC
	PRINTI "[RIDX: 5491]"
	CRLF
	CALL2 PRINT-ID,STR?373
	RTRUE

	.FUNCT PATCH-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L3
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5494]"
	PRINTD TS4
	PRINTR " ruined it."
?L3:	EQUAL? PRSA,V?TAKE,V?PICK,V?PULL /?L5
	EQUAL? PRSA,V?DIG,V?LOOSEN,V?MOVE /?L5
	EQUAL? PRSA,V?EAT,V?BITE,V?LOOK-UNDER /?L5
	EQUAL? PRSA,V?REACH-IN \?L4
?L5:	PRINTR "[RIDX: 5496]"
?L4:	EQUAL? PRSA,V?KILL \?L6
	CALL2 PRINT-ID,STR?374
	CALL1 V-WAIT
	RTRUE
?L6:	CALL1 PLAYING-IN? >STACK
	ZERO? STACK \TRUE
	EQUAL? PRSA,V?SMELL \FALSE
	PRINTR "[RIDX: 5498]"

	.FUNCT PLAYING-IN?
	EQUAL? PRSA,V?STAND-ON,V?CROSS,V?SIT /?L3
	EQUAL? PRSA,V?LIE-DOWN,V?ENTER,V?PLAY \?L1
?L3:	PRINTI "Cavorting in "
	CALL1 THE-PRINT
	PRINTR "[RIDX: 5500]"
?L1:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 NOT-IN
	RTRUE

	.FUNCT PLATFORM-F,ON?=0
	EQUAL? HERE,ON-PLATFORM \?L1
	SET 'ON?,1
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L6
	EQUAL? PRSA,V?SEARCH \?L4
?L6:	EQUAL? HERE,ON-PLATFORM,UNDER-PLAT \?L7
	CALL1 V-LOOK
	RTRUE
?L7:	CALL1 CANT-SEE-MUCH
	RTRUE
?L4:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-UP,V?ENTER /?L11
	EQUAL? PRSA,V?THROUGH \?L10
?L11:	EQUAL? HERE,UNDER-PLAT \?L12
	CALL2 DO-WALK,P?UP
	RTRUE
?L12:	ZERO? ON? \?L14
	CALL1 CANT-FROM-HERE
	RTRUE
?L14:	CALL ALREADY-IN,PRSO,1
	RTRUE
?L10:	EQUAL? PRSA,V?CLIMB-DOWN,V?EXIT,V?LEAVE \?L16
	ZERO? ON? \?L17
	CALL NOT-IN,PRSO,1
	RTRUE
?L17:	CALL2 DO-WALK,P?DOWN
	RTRUE
?L16:	EQUAL? PRSA,V?WALK-TO,V?STAND-UNDER \?L20
	EQUAL? HERE,UNDER-PLAT \?L21
	PRINT YOURE-ALREADY
	PRINTI "under "
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L21:	ZERO? ON? \?L23
	GETP HERE,P?PLAT-DIR >STACK
	CALL2 DO-WALK,STACK
	RTRUE
?L23:	CALL ALREADY-IN,PRSO,1
	RTRUE
?L20:	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	ZERO? ON? \?L26
	CALL1 CANT-FROM-HERE
	RTRUE
?L26:	CALL PERFORM,V?DROP,PRSO
	RTRUE

	.FUNCT TUNDRA-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH \?L3
	EQUAL? HERE,ON-PLATFORM,UNDER-PLAT \?L4
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5505]"
	PRINTD INTDIR
	PRINTR "s."
?L4:	CALL1 V-LOOK
	RTRUE
?L3:	EQUAL? PRSA,V?WALK-TO,V?CLIMB-ON,V?STAND-ON \?L7
	EQUAL? HERE,ON-PLATFORM \?L8
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L8:	EQUAL? HERE,CLIFF-EDGE \?L10
	CALL2 DO-WALK,P?SW
	RTRUE
?L10:	CALL ALREADY-IN,TUNDRA,1
	RTRUE
?L7:	EQUAL? PRSA,V?CROSS \FALSE
	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT PLADDER-F
	EQUAL? PRSA,V?EXAMINE \?L1
	CALL1 CTHE-PRINT
	PRINTI " leads "
	EQUAL? HERE,UNDER-PLAT \?L3
	PRINTI "up to the "
	PRINTD PLATFORM
	JUMP ?L5
?L3:	PRINTI "down to the ground"
?L5:	PRINT PERIOD
	RTRUE
?L1:	CALL2 HANDLE-STAIRS?,ON-PLATFORM >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT TMOUNTS-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE \?L1
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5513]"
?L1:	EQUAL? PRSA,V?WALK-TO,V?FOLLOW \?L3
	CALL1 V-WALK-AROUND
	RTRUE
?L3:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-UP,V?ENTER /?L5
	EQUAL? PRSA,V?THROUGH,V?CLIMB-OVER,V?CROSS /?L5
	EQUAL? PRSA,V?SIT,V?STAND-ON,V?LIE-DOWN \?L4
?L5:	EQUAL? HERE,ATUN,BTUN,CTUN /?L8
	EQUAL? HERE,ETUN,HTUN,CLIFF-EDGE \?L6
?L8:	CALL2 DO-WALK,P?UP
	RTRUE
?L6:	CALL1 CANT-FROM-HERE
	RTRUE
?L4:	EQUAL? PRSA,V?CLIMB-DOWN,V?EXIT,V?LEAVE \?L10
	CALL NOT-IN,TMOUNTS,1
	RTRUE
?L10:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT PASS-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L1
	CALL1 CTHE-PRINT
	PRINTI " leads "
	EQUAL? HERE,CTUN \?L3
	PRINTI "northea"
	JUMP ?L5
?L3:	PRINTI "southwe"
?L5:	PRINTI "st, between the "
	PRINTD TMOUNTS
	PRINT PERIOD
	RTRUE
?L1:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L7
	EQUAL? PRSA,V?CROSS,V?CLIMB-OVER \?L6
?L7:	EQUAL? HERE,CTUN \?L8
	PUSH P?NE
	JUMP ?L10
?L8:	PUSH P?SW
?L10:	CALL2 DO-WALK,STACK
	RTRUE
?L6:	CALL1 EXITING? >STACK
	ZERO? STACK /?L11
	CALL1 NOT-IN
	RTRUE
?L11:	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL PERFORM,V?DROP,PRSO
	RTRUE

	.FUNCT RODENTS-F
	FSET? RODENTS,TOUCHED \?L1
	CALL1 REFERRING
	RTRUE
?L1:	FSET? LEMMINGS,TOUCHED /?L3
	CALL NOUN-USED?,W?LEMMING,W?LEMMINGS >STACK
	ZERO? STACK /?L3
	CALL1 SWITCH-LEMMINGS
	CALL2 VOICE-MUTTERS,STR?375
?L3:	CALL1 LEMMINGS-F >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT GENERIC-LEMMINGS-F,TABLE
	RETURN RATS

	.FUNCT SWITCH-LEMMINGS
	SET 'P-THEM-OBJECT,LEMMINGS
	SET 'RATS,LEMMINGS
	FSET LEMMINGS,TOUCHED
	RTRUE

	.FUNCT LEMMINGS-F
	FSET? RODENTS,TOUCHED \?L1
	CALL1 REFERRING
	RETURN 2
?L1:	FSET RODENTS,SEEN
	ZERO? NOW-PRSI? /?L6
	EQUAL? PRSA,V?GIVE,V?FEED,V?SHOW \?L8
	CALL2 CTHE-PRINT,RATS
	PRINTI " are too busy"
	CALL1 RUN-OR-LEAPING
	PRINTR " to notice."
?L8:	EQUAL? PRSA,V?THROW,V?THROW-OVER \FALSE
	PRINTI "The running "
	PRINTD RATS
	PRINTI "[RIDX: 5529]"
	CRLF
	CALL2 PRINT-ID,STR?376
	RTRUE
?L6:	EQUAL? PRSA,V?WATCH \?L12
	FCLEAR RODENTS,SEEN
	CALL2 I-RODENTS,0
	RTRUE
?L12:	EQUAL? PRSA,V?EXAMINE \?L13
	FSET? RODENTS,CHILLY \?L14
	FCLEAR RODENTS,SEEN
	CALL2 I-RODENTS,0
	RTRUE
?L14:	CALL2 CTHE-PRINT,RATS
	CALL1 RUN-OR-LEAPING
	PRINTI "[RIDX: 5531]"
	CALL1 LONG-BROWN
	PRINT PTHE
	PRINTR "[RIDX: 5532]"
?L13:	EQUAL? PRSA,V?FOLLOW \?L17
	EQUAL? HERE,FTUN,UNDER-PLAT,CTUN /?L20
	EQUAL? HERE,CLIFF-EDGE \?L18
?L20:	PUSH P?NE
	JUMP ?L22
?L18:	EQUAL? HERE,ATUN,BTUN,DTUN \?L21
	PUSH P?EAST
	JUMP ?L22
?L21:	PUSH P?NORTH
?L22:	CALL2 DO-WALK,STACK
	RTRUE
?L17:	EQUAL? PRSA,V?TAKE,V?RAISE \?L23
	PRINTI "[RIDX: 5533]"
	PRINTD RATS
	PRINTI "[RIDX: 5534]"
	PRINTD HANDS
	PRINTI "[RIDX: 5535]"
	CRLF
	CALL2 PRINT-ID,STR?377
	RTRUE
?L23:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L24
	CALL2 CTHE-PRINT,RATS
	PRINTI " are too busy"
	CALL1 RUN-OR-LEAPING
	PRINTI " to chat right now."
	CRLF
	RETURN 2
?L24:	EQUAL? PRSA,V?TOUCH,V?SHAKE,V?SQUEEZE /?L28
	EQUAL? PRSA,V?PLAY,V?KNOCK \?L27
?L28:	EQUAL? PRSI,0,HANDS \?L27
	PRINTR "[RIDX: 5539]"
?L27:	EQUAL? PRSA,V?STAND-ON,V?KILL,V?HIT /?L30
	EQUAL? PRSA,V?CLIMB-ON \?L29
?L30:	CALL2 CTHE-PRINT,RATS
	PRINTI "[RIDX: 5540]"
	CRLF
	CALL2 PRINT-ID,STR?378
	RTRUE
?L29:	EQUAL? PRSA,V?LAMP-OFF \FALSE
	CALL1 HOW?
	RTRUE

	.FUNCT LONG-BROWN
	PRINTI "[RIDX: 5542]"
	RTRUE

	.FUNCT RUN-OR-LEAPING
	EQUAL? HERE,CLIFF-EDGE \?L1
	PRINTI " leaping off the "
	PRINTD TCLIFF
	RTRUE
?L1:	PRINTI " running past"
	RTRUE

	.FUNCT LEM-F
	FSET LEM,SEEN
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?GIVE,V?FEED \FALSE
	EQUAL? PRSO,BAG,GARLIC \?L5
	PRINT CTHELEM
	PRINTI "sniffs at "
	CALL1 THE-PRINT
	PRINTR "[RIDX: 5552]"
?L5:	CALL NOT-LIKELY,PRSO,STR?379
	RTRUE
?L1:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L9
	PRINT CTHELEM
	PRINTI "[RIDX: 5554]"
	CRLF
	RETURN 2
?L9:	EQUAL? PRSA,V?EXAMINE \?L12
	PRINT CTHELEM
	PRINTI "[RIDX: 5555]"
	CALL1 LONG-BROWN
	PRINTI " that "
	EQUAL? HERE,IN-ORBIT,ON-SAT \?L13
	ZERO? SUITED? \?L13
	PRINTR "[RIDX: 5557]"
?L13:	PRINTR "[RIDX: 5558]"
?L12:	EQUAL? PRSA,V?WATCH \?L16
	EQUAL? HERE,IN-ORBIT,ON-SAT \?L17
	ZERO? SUITED? \?L17
	PRINTR "[RIDX: 5559]"
?L17:	FCLEAR PRSO,SEEN
	CALL2 I-LEM,0
	RTRUE
?L16:	EQUAL? PRSA,V?LISTEN \FALSE
	PRINT CTHELEM
	PRINTR "chatters nervously."

	.FUNCT FISSURE-F,X
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT \FALSE
	CALL1 PRSO-FALLS-DEEP
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L6
	FSET? PRSO,TOUCHED /?L6
	FSET PRSO,TOUCHED
	CALL QUEUE,I-LEM,-1
	FSET LEM,CHILLY
	SET 'P-IT-OBJECT,LEM
	PRINTI "A trapped "
	PRINTD LEM
	PRINTI "[RIDX: 5565]"
	FIRST? PRSO >STACK \?L7
	PRINTI ". There's also "
	CALL2 PRINT-CONTENTS,PRSO
	PRINTI " in the "
	PRINTD PRSO
?L7:	PRINT PERIOD
	MOVE LEM,PRSO
	RTRUE
?L6:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE \?L10
	CALL1 IMPOSSIBLE
	RTRUE
?L10:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L13
	EQUAL? PRSA,V?STAND-UNDER,V?STAND-ON,V?SIT /?L13
	EQUAL? PRSA,V?LIE-DOWN \?L11
?L13:	CALL2 CTHE-PRINT,FISSURE
	PRINTR " is much too narrow."
?L11:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 NOT-IN
	RTRUE

	.FUNCT TCLIFF-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?THROW,V?THROW-OVER \FALSE
	CALL1 VANISH
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5571]"
	PRINTD TCLIFF
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-DOWN,V?LOOK-BEHIND \?L6
	CALL1 LOOK-DOWN-TCLIFF
	RTRUE
?L6:	EQUAL? PRSA,V?CLIMB-OVER,V?CLIMB-DOWN,V?LEAP \?L7
	FSET? PRSO,TOUCHED \?L8
	CALL2 DO-WALK,P?NE
	RTRUE
?L8:	FSET PRSO,TOUCHED
	CALL2 TAKE-A-MOMENT-TO,TCLIFF
	RETURN 2
?L7:	EQUAL? PRSA,V?LOOK-UP,V?CLIMB-ON,V?CLIMB-UP \?L13
	CALL1 ALREADY-AT-TOP
	RTRUE
?L13:	EQUAL? PRSA,V?STAND-ON \FALSE
	CALL1 ALREADY-DOING-THAT
	RTRUE

	.FUNCT LOOK-DOWN-TCLIFF
	FSET TCLIFF,TOUCHED
	PRINTI "[RIDX: 5572]"
	PRINTD DLEM
	PRINTR "s."

	.FUNCT TSEA-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL1 VANISH
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5575]"
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L7
	EQUAL? PRSA,V?SEARCH \?L6
?L7:	CALL1 LOOK-DOWN-TCLIFF
	RTRUE
?L6:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L10
	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?STAND-UNDER /?L10
	EQUAL? PRSA,V?STAND-ON,V?SIT,V?LIE-DOWN \?L8
?L10:	CALL PERFORM,V?CLIMB-OVER,TCLIFF
	RTRUE
?L8:	EQUAL? PRSA,V?LOOK-UNDER,V?LOOK-BEHIND,V?SEARCH /?L12
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
?L12:	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT TBOMB-F
	CALL1 HANDLE-BOMB? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT TCABLES-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5578]"
	PRINTD TUNDRA
	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?FOLLOW \?L4
	EQUAL? HERE,UNDER-PLAT \?L5
	CALL2 DO-WALK,P?SW
	RTRUE
?L5:	CALL1 V-WALK-AROUND
	RTRUE
?L4:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \?L8
	CALL1 PRSO-TOO-BIG
	RTRUE
?L8:	EQUAL? PRSA,V?HIT,V?CUT,V?RIP /?L10
	EQUAL? PRSA,V?MUNG \FALSE
?L10:	CALL2 PRINT-ID,STR?380
	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT GROUP-F
	EQUAL? PRSA,V?EXAMINE \?L1
	FSET PRSO,TOUCHED
	PRINTI "The distant "
	PRINTD SCHOOL
	PRINTI "[RIDX: 5583]"
	PRINTD NBUNKERS
	PRINTR "[RIDX: 5584]"
?L1:	CALL1 RUSSIA? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT RUSSIANS-F
	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L1
	PRINTI "Luckily, the "
	PRINTD RUSSIANS
	PRINTI "[RIDX: 5587]"
	CRLF
	RETURN 2
?L1:	CALL1 RUSSIA? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT RUSSIA?
	EQUAL? PRSA,V?WALK-TO,V?FOLLOW \?L1
	EQUAL? HERE,FTUN \?L1
	CALL1 MEET-RUSKIES
	RTRUE
?L1:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH,V?READ /?L4
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
?L4:	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT MEET-RUSKIES
	FSET? GROUP,TOUCHED /?L1
	FSET GROUP,TOUCHED
	CALL2 TAKE-A-MOMENT-TO,GROUP
	RFALSE
?L1:	CALL1 SAY-SURE
	PRINTI "go that way?"
	CALL1 YES? >STACK
	ZERO? STACK /?L4
	CRLF
	CALL2 VOICE-MUTTERS,STR?381
	PRINTI "[RIDX: 5590]"
	PRINTD GROUP
	PRINT PCR
	HLIGHT H-BOLD
	PRINTI "Control Bunkers"
	HLIGHT H-NORMAL
	CRLF
	CRLF
	PRINTI "[RIDX: 5592]"
	PRINTD NBUNKERS
	PRINTI "[RIDX: 5593]"
	CALL2 PRINT-ID,STR?382
	CALL1 JIGS-UP
	RFALSE
?L4:	FCLEAR GROUP,TOUCHED
	CALL1 NO-DETECTION
	RFALSE

	.FUNCT VALLEY-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?LOOK-DOWN \?L1
	CALL1 LOOK-AT-VALLEY
	CRLF
	RTRUE
?L1:	EQUAL? PRSA,V?LEAP,V?DIVE,V?ENTER /?L4
	EQUAL? PRSA,V?CLIMB-DOWN \?L3
?L4:	CALL1 CHASM-FALL
	RTRUE
?L3:	EQUAL? PRSA,V?CROSS,V?CLIMB-OVER \?L5
	CALL1 V-WALK-AROUND
	RTRUE
?L5:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 NOT-IN
	RTRUE

	.FUNCT FOREST-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH /?L3
	EQUAL? PRSA,V?LOOK-UNDER,V?LOOK-BEHIND \?L1
?L3:	PRINT YOU-SEE
	PRINTI "nothing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-UP,V?SIT /?L5
	EQUAL? PRSA,V?STAND-ON,V?LIE-DOWN \?L4
?L5:	PRINTR "[RIDX: 5599]"
?L4:	CALL1 EXITING? >STACK
	ZERO? STACK \?L7
	EQUAL? PRSA,V?CLIMB-DOWN,V?LEAP,V?DIVE \?L6
?L7:	PRINTR "[RIDX: 5600]"
?L6:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L8
	CALL1 V-WALK-AROUND
	RTRUE
?L8:	EQUAL? PRSA,V?LISTEN \?L9
	CALL1 CTHE-PRINT
	PRINTR " is very quiet."
?L9:	EQUAL? PRSA,V?SMELL \FALSE
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5602]"

	.FUNCT TRELS-F
	EQUAL? PRSA,V?EXAMINE \?L1
	PRINTI "[RIDX: 5611]"
	PRINTD HEDGE
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?COUNT \?L3
	PRINTR "One, two."
?L3:	CALL1 HANDLE-TRELS? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT RTREL-F
	EQUAL? PRSA,V?EXAMINE \?L1
	CALL2 SEE-TRELLIS,STR?154
	RTRUE
?L1:	CALL2 THRU-TRELLIS?,P?SW >STACK
	ZERO? STACK \TRUE
	CALL1 HANDLE-TRELS? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT LTREL-F
	EQUAL? PRSA,V?EXAMINE \?L1
	CALL2 SEE-TRELLIS,STR?152
	RTRUE
?L1:	CALL2 THRU-TRELLIS?,P?SE >STACK
	ZERO? STACK \TRUE
	CALL1 HANDLE-TRELS? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT SEE-TRELLIS,STR
	PRINTI "The arched "
	PRINTD ATREL
	PRINTI "[RIDX: 5618]"
	PRINTD ARBS
	PRINTI ". It opens "
	PRINT STR
	PRINTI ", into the "
	PRINTD HEDGE
	PRINT PERIOD
	RTRUE

	.FUNCT THRU-TRELLIS?,DIR
	CALL1 ENTERING? >STACK
	ZERO? STACK \?L3
	EQUAL? PRSA,V?STAND-UNDER \FALSE
?L3:	CALL2 DO-WALK,DIR
	RTRUE

	.FUNCT HANDLE-TRELS?
	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-BEHIND \?L1
	CALL1 CANT-SEE-MUCH
	RTRUE
?L1:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?STAND-ON /?L4
	EQUAL? PRSA,V?SIT,V?LIE-DOWN,V?LEAP \?L3
?L4:	CALL1 TOO-HIGH
	RTRUE
?L3:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 NOT-IN
	RTRUE

	.FUNCT ATREL-F
	EQUAL? PRSA,V?EXAMINE \?L1
	CALL2 SEE-TRELLIS,STR?151
	RTRUE
?L1:	CALL2 THRU-TRELLIS?,P?NE >STACK
	ZERO? STACK \TRUE
	CALL1 HANDLE-TRELS? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT BTREL-F
	EQUAL? PRSA,V?EXAMINE \?L1
	CALL2 SEE-TRELLIS,STR?153
	RTRUE
?L1:	CALL2 THRU-TRELLIS?,P?NW >STACK
	ZERO? STACK \TRUE
	CALL1 HANDLE-TRELS? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT GENERIC-ARBS-F,TABLE
	EQUAL? HERE,ARBORETUM,NORTH-ARBOR,SOUTH-ARBOR /?L3
	EQUAL? HERE,ARBOR-TOP \?L1
?L3:	RETURN ARBOR
?L1:	EQUAL? W?ARBORVITA,P-NAM,P-XNAM /?L5
	EQUAL? W?VITAES,P-NAM,P-XNAM \?L4
?L5:	RETURN ARBS
?L4:	RETURN HEDGE

	.FUNCT HEDGE-F,IN=0
	EQUAL? HERE,SWPATH,ARBORETUM,SEPATH /?L3
	EQUAL? HERE,NORTH-ARBOR,ARBOR-TOP,SOUTH-ARBOR \?L1
?L3:	SET 'IN,1
?L1:	ZERO? NOW-PRSI? /?L5
	EQUAL? PRSA,V?THROW-OVER,V?PUT-BEHIND \?L7
	EQUAL? HERE,NORTH-ARBOR,ARBOR-TOP,SOUTH-ARBOR \?L9
	CALL1 CANT-FROM-HERE
	RTRUE
?L9:	GETP HERE,P?OVER-HEDGE >STACK
	MOVE PRSO,STACK
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5628]"
?L7:	EQUAL? PRSA,V?PUT-ON \FALSE
	CALL1 PRSI-TOP-TOO-HIGH
	RTRUE
?L5:	EQUAL? PRSA,V?EXAMINE \?L14
	CALL2 CTHE-PRINT,HEDGE
	PRINTI "[RIDX: 5629]"
	PRINTD ARBS
	PRINTI ", thirty feet high"
	EQUAL? HERE,AT-TRELS \?L15
	PRINT PA
	PRINTI "pair of "
	PRINTD TRELS
	PRINTI " leads inside"
	JUMP ?L17
?L15:	EQUAL? HERE,DOCKSIDE \?L17
	PRINTI "[RIDX: 5633]"
?L17:	PRINT PERIOD
	RTRUE
?L14:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-BEHIND,V?SEARCH \?L19
	EQUAL? HERE,AT-TRELS \?L20
	CALL1 CANT-SEE-MUCH
	RTRUE
?L20:	CALL2 CTHE-PRINT,HEDGE
	PRINTR " is much too thick."
?L19:	EQUAL? PRSA,V?FOLLOW \?L23
	EQUAL? HERE,DOCKSIDE \?L24
	CALL2 DO-WALK,P?WEST
	RTRUE
?L24:	EQUAL? HERE,FCLEARING \?L26
	CALL2 DO-WALK,P?EAST
	RTRUE
?L26:	CALL1 V-WALK-AROUND
	RTRUE
?L23:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L28
	EQUAL? HERE,AT-TRELS \?L29
	CALL2 DO-WALK,P?IN
	RTRUE
?L29:	ZERO? IN /?L31
	CALL1 V-WALK-AROUND
	RTRUE
?L31:	CALL2 DO-WALK,P?SOUTH
	RTRUE
?L28:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?CLIMB-UP /?L34
	EQUAL? PRSA,V?SIT,V?STAND-ON,V?LIE-DOWN /?L34
	EQUAL? PRSA,V?LEAP \?L33
?L34:	CALL1 TOO-HIGH
	RTRUE
?L33:	CALL1 EXITING? >STACK
	ZERO? STACK /?L35
	ZERO? IN /?L36
	CALL1 V-WALK-AROUND
	RTRUE
?L36:	CALL1 NOT-IN
	RTRUE
?L35:	EQUAL? PRSA,V?CLIMB-DOWN,V?TAKE-OFF \?L39
	CALL NOT-IN,PRSO,1
	RTRUE
?L39:	EQUAL? PRSA,V?FOLLOW \?L40
	CALL1 V-WALK-AROUND
	RTRUE
?L40:	EQUAL? PRSA,V?SMELL \FALSE
	CALL1 SMELL-HEDGE
	RTRUE

	.FUNCT SMELL-HEDGE
	PRINTI "[RIDX: 5635]"
	PRINTD ARBS
	PRINT PERIOD
	RTRUE

	.FUNCT ARBOR-F,UNDER=0
	EQUAL? HERE,ARBORETUM \?L1
	SET 'UNDER,1
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L4
	ZERO? UNDER \?L6
	CALL1 V-LOOK
	RTRUE
?L6:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5638]"
	PRINTD ARBS
	PRINTI "[RIDX: 5639]"
	CALL1 DESCRIBE-PERGOLA
	PRINTR "[RIDX: 5640]"
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L10
	EQUAL? PRSA,V?CLIMB-OVER,V?CLIMB-ON \?L9
?L10:	ZERO? UNDER /?L11
	CALL2 DO-WALK,P?UP
	RTRUE
?L11:	CALL1 V-WALK-AROUND
	RTRUE
?L9:	EQUAL? PRSA,V?CLIMB-UP \?L14
	EQUAL? HERE,ARBOR-TOP \?L15
	CALL1 ALREADY-AT-TOP
	RTRUE
?L15:	CALL2 DO-WALK,P?UP
	RTRUE
?L14:	EQUAL? PRSA,V?CLIMB-DOWN /?L19
	CALL1 EXITING? >STACK
	ZERO? STACK /?L18
?L19:	ZERO? UNDER /?L20
	CALL1 NOT-IN
	RTRUE
?L20:	CALL2 DO-WALK,P?DOWN
	RTRUE
?L18:	EQUAL? PRSA,V?WALK-TO,V?STAND-ON \?L23
	ZERO? UNDER /?L24
	CALL2 DO-WALK,P?UP
	RTRUE
?L24:	CALL1 ALREADY-IN
	RTRUE
?L23:	EQUAL? PRSA,V?STAND-UNDER \FALSE
	ZERO? UNDER /?L28
	CALL1 ALREADY-DOING-THAT
	RTRUE
?L28:	CALL1 ALREADY-IN
	RTRUE

	.FUNCT MIASMA-F
	EQUAL? PRSA,V?SMELL,V?INHALE \?L1
	CALL1 SUFFOCATE
	RTRUE
?L1:	CALL1 SKY-F >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT SUFFOCATE
	CALL2 CTHE-PRINT,MIASMA
	PRINTR "[RIDX: 5642]"

	.FUNCT DESCRIBE-TRAP,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "A big Venus "
	PRINTD TRAP
	PRINTI "[RIDX: 5646]"
	FSET? TRAP,OPENED \?L3
	PRINTI "[RIDX: 5647]"
	PRINTD ICHOR
	PRINTI "."
	RTRUE
?L3:	PRINTI "tightly closed."
	RTRUE

	.FUNCT TRAP-F
	CALL1 HANDLE-TRAP? >STACK
	ZERO? STACK \TRUE
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L4
	CALL1 CTHE-PRINT
	PRINTI "'s "
	FSET? PRSO,OPENED \?L5
	PRINTI "open "
	JUMP ?L7
?L5:	PRINTI "tightly closed "
?L7:	PRINTI "[RIDX: 5653]"
	FSET? PRSO,OPENED \?L8
	PRINTI " The inside"
	CALL1 LOOK-INTO-TRAP
?L8:	CRLF
	RTRUE
?L4:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L11
	CALL1 DESCRIBE-ICHOR
	RTRUE
?L11:	EQUAL? PRSA,V?CLOSE \?L12
	FSET? PRSO,OPENED \?L12
	CALL1 CLOSE-TRAP
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5655]"
?L12:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?LOOSEN /?L14
	EQUAL? PRSA,V?UNFOLD \?L13
?L14:	FSET? PRSO,OPENED /?L13
	PRINTI "[RIDX: 5656]"
	PRINTD PRSO
	PRINTR " refuses to open."
?L13:	EQUAL? PRSA,V?CUT,V?HIT,V?MUNG \?L15
	EQUAL? PRSI,AXE,SPADE,PARASOL /?L18
	EQUAL? PRSI,GNOMON \?L16
?L18:	CALL2 ITALICIZE,STR?383
	PRINTI " "
	CALL1 CTHEI-PRINT
	PRINTI "[RIDX: 5660]"
	PRINTD PRSO
	PRINTI "'s fleshy stem"
	CALL2 PRINT-ID,STR?384
	FSET? PRSO,OPENED \?L19
	CALL1 CLOSE-TRAP
	PRINTI "[RIDX: 5663]"
	CALL2 PRINT-ID,STR?385
?L19:	PRINT PERIOD
	RTRUE
?L16:	CALL2 PRINT-ID,STR?386
	CALL NOT-LIKELY,PRSI,STR?387
	RTRUE
?L15:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	PRINTI "Your attempt to "
	PRINTB P-PRSA-WORD
	PRINTI " the "
	PRINTD PRSO
	PRINTI " ends "
	FSET? PRSO,OPENED \?L24
	CALL1 CLOSE-TRAP
	PRINTI "[RIDX: 5670]"
	PRINTD HANDS
	PRINT PERIOD
	CALL2 PRINT-ID,STR?388
	RTRUE
?L24:	PRINTR "in failure."

	.FUNCT DESCRIBE-ICHOR
	FSET? TRAP,OPENED \?L1
	PRINTI "The inside of the "
	PRINTD TRAP
	CALL1 LOOK-INTO-TRAP
	CRLF
	RTRUE
?L1:	CALL2 ITS-CLOSED,TRAP
	RTRUE

	.FUNCT HANDLE-TRAP?
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?PUT-ON,V?THROW \?L3
	FSET? TRAP,OPENED \?L5
	EQUAL? PRSO,LEM \?L7
	CALL1 EXIT-LEM
	JUMP ?L10
?L7:	EQUAL? PRSO,SKINK \?L9
	CALL1 EXIT-SKINK
	JUMP ?L10
?L9:	MOVE PRSO,TRAP
?L10:	CALL1 CLOSE-TRAP
	CALL1 LEAP-FROM-TRAP
	RTRUE
?L5:	EQUAL? PRSA,V?PUT-ON,V?THROW \?L11
	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L11:	CALL2 ITS-CLOSED,PRSI
	RTRUE
?L3:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 TOUCH-TRAP
	RTRUE
?L1:	EQUAL? PRSA,V?SMELL \?L15
	CALL1 SMELL-TRAP
	RTRUE
?L15:	EQUAL? PRSA,V?ENTER,V?SIT,V?LIE-DOWN /?L17
	EQUAL? PRSA,V?STAND-ON,V?CLIMB-ON,V?CLIMB-OVER /?L17
	EQUAL? PRSA,V?THROUGH,V?CLIMB-UP,V?CLIMB-DOWN \?L16
?L17:	FSET? TRAP,OPENED \?L18
	CALL1 CLOSE-TRAP
	CALL1 LEAP-FROM-TRAP
	RTRUE
?L18:	CALL2 ITS-CLOSED,TRAP
	RTRUE
?L16:	EQUAL? PRSA,V?TOUCH,V?PLAY,V?SQUEEZE /?L22
	EQUAL? PRSA,V?PICK,V?CLEAN,V?KICK /?L22
	EQUAL? PRSA,V?HIT,V?ADJUST,V?SPIN /?L22
	EQUAL? PRSA,V?SHAKE \?L21
?L22:	CALL1 TOUCH-TRAP
	RTRUE
?L21:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 NOT-IN
	RTRUE

	.FUNCT TOUCH-TRAP
	FSET? TRAP,OPENED \?L1
	CALL1 CLOSE-TRAP
	CALL1 LEAP-FROM-TRAP
	RTRUE
?L1:	PRINTI "The closed "
	PRINTD TRAP
	PRINTR " doesn't respond."

	.FUNCT SMELL-TRAP
	CALL2 CTHE-PRINT,TRAP
	PRINTR "[RIDX: 5676]"

	.FUNCT CLOSE-TRAP
	SET 'JAW-TIME,10
	CALL QUEUE,I-JAWS,-1
	FCLEAR TRAP,OPENED
	RTRUE

	.FUNCT LEAP-FROM-TRAP
	PRINTI "[RIDX: 5677]"
	PRINTD TRAP
	PRINTI "[RIDX: 5678]"
	CRLF
	CALL2 PRINT-ID,STR?389
	RTRUE

	.FUNCT LOOK-INTO-TRAP
	PRINTI "[RIDX: 5680]"
	PRINTD ICHOR
	PRINTI "[RIDX: 5681]"
	RTRUE

	.FUNCT ICHOR-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE \?L1
	CALL1 DESCRIBE-ICHOR
	RTRUE
?L1:	CALL1 HANDLE-TRAP? >STACK
	ZERO? STACK \TRUE
	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK /?L6
	EQUAL? PRSA,V?DRINK,V?TASTE,V?EAT /?L6
	EQUAL? PRSA,V?BITE \FALSE
?L6:	CALL1 TOUCH-TRAP
	RTRUE

	.FUNCT BOG-F
	EQUAL? PRSA,V?LISTEN \?L1
	CALL1 HEAR-DRIPPING
	RTRUE
?L1:	EQUAL? PRSA,V?SMELL,V?INHALE \?L3
	CALL1 SUFFOCATE
	RTRUE
?L3:	CALL1 HERE-F >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT HEAR-DRIPPING
	PRINTI "[RIDX: 5684]"
	PRINTD SOUND
	PRINTR "s close by."

	.FUNCT HIVE-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT-ON,V?THROW,V?TOUCH-TO /?L5
	EQUAL? PRSA,V?PUSH-TO \?L3
?L5:	EQUAL? PRSO,HANDS \?L6
	CALL1 FEEL-HIVE
	RTRUE
?L6:	CALL2 MUNG-HIVE,PRSO
	RTRUE
?L3:	EQUAL? PRSA,V?PUT \FALSE
	EQUAL? PRSO,HANDS \?L10
	CALL1 PUT-HAND-IN-HIVE
	RTRUE
?L10:	GETP PRSO,P?MASS >STACK
	LESS? STACK,4 \?L12
	MOVE PRSO,HERE
	CALL1 CTHE-PRINT
	PRINTI " drops out of the "
	PRINTD PRSI
	PRINTI "[RIDX: 5688]"
	CRLF
	CALL1 BUZZ-RISES
	RTRUE
?L12:	CALL2 RUPTURES-HIVE,PRSO
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE \?L15
	PRINTI "[RIDX: 5689]"
	PRINTD PRSO
	PRINTI "[RIDX: 5690]"
	PRINTD CAVE-HOLE
	PRINTR "[RIDX: 5691]"
?L15:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L16
	CALL1 CANT-SEE-MUCH
	RTRUE
?L16:	EQUAL? PRSA,V?TOUCH,V?KNOCK,V?KISS \?L17
	EQUAL? PRSI,0,HANDS \?L17
	CALL1 FEEL-HIVE
	RTRUE
?L17:	EQUAL? PRSA,V?REACH-IN,V?EMPTY \?L18
	CALL1 PUT-HAND-IN-HIVE
	RTRUE
?L18:	EQUAL? PRSA,V?CUT,V?RIP,V?MUNG /?L20
	EQUAL? PRSA,V?HIT,V?LOOSEN \?L19
?L20:	ZERO? PRSI \?L21
	CALL2 RUPTURES-HIVE,HANDS
	RTRUE
?L21:	CALL2 MUNG-HIVE,PRSI
	RTRUE
?L19:	EQUAL? PRSA,V?SMELL,V?INHALE \?L24
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5692]"
?L24:	EQUAL? PRSA,V?SHAKE,V?SQUEEZE \?L25
	CALL2 RUPTURES-HIVE,HANDS
	RTRUE
?L25:	EQUAL? PRSA,V?KICK \?L26
	CALL2 RUPTURES-HIVE,FEET
	RTRUE
?L26:	EQUAL? PRSA,V?LISTEN \?L27
	CALL1 HEAR-HIVE
	RTRUE
?L27:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH \?L28
	CALL2 ITS-ALREADY,STR?70
	RTRUE
?L28:	EQUAL? PRSA,V?CLOSE \?L29
	CALL1 HOW?
	RTRUE
?L29:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	PRINTI "[RIDX: 5694]"
	PRINT CHANGES
	RTRUE

	.FUNCT MUNG-HIVE,OBJ
	EQUAL? OBJ,HANDS,FEET \?L1
	CALL2 RUPTURES-HIVE,OBJ
	RTRUE
?L1:	IN? OBJ,PLAYER /?L3
	CALL YOUD-HAVE-TO,STR?240,OBJ
	RTRUE
?L3:	EQUAL? OBJ,AXE,ICE,LUMP /?L5
	EQUAL? OBJ,PARASOL,GNOMON,SPADE /?L5
	EQUAL? OBJ,SHARD,CAGE \?L4
?L5:	CALL2 RUPTURES-HIVE,OBJ
	RTRUE
?L4:	MOVE OBJ,HERE
	CALL2 CTHE-PRINT,OBJ
	PRINTI "[RIDX: 5696]"
	CRLF
	CALL2 PRINT-ID,STR?390
	CALL1 BUZZ-RISES
	RTRUE

	.FUNCT PUT-HAND-IN-HIVE
	PRINTI "You reach "
	IN? HONEY,HIVE \?L1
	PRINTI "reckless"
	JUMP ?L3
?L1:	PRINTI "greedi"
	CALL2 PRINT-ID,STR?391
?L3:	PRINTI "[RIDX: 5702]"
	FSET? BEE,BORING \?L4
	FCLEAR BEE,BORING
	MOVE BEE,UNDER-CLIFF
	CALL QUEUE,I-BEE,-1
	PRINTI "[RIDX: 5703]"
	PRINTD HANDS
	PRINTI "[RIDX: 5704]"
	CALL2 PRINT-ID,STR?392
	CALL1 YANK-ARM
	PRINTR "[RIDX: 5706]"
?L4:	PRINTI "Without hesitation"
	CALL1 YANK-ARM
	PRINTI "find "
	PRINTD HANDS
	IN? HONEY,HIVE \?L7
	FCLEAR HONEY,NODESC
	MOVE HONEY,PLAYER
	PRINTI "[RIDX: 5709]"
	PRINTD HONEY
	PRINT PERIOD
	CALL2 UPDATE-SCORE,3
	RTRUE
?L7:	PRINTI "[RIDX: 5710]"
	CRLF
	CALL1 BEES-ATTACK
	RTRUE

	.FUNCT YANK-ARM
	PRINTI "[RIDX: 5711]"
	RTRUE

	.FUNCT RUPTURES-HIVE,THING
	PRINTI "With a papery "
	CALL2 ITALICIZE,STR?393
	PRINTI " "
	CALL2 THE-PRINT,THING
	PRINTI " ruptures the "
	PRINTD CSURFACE
	PRINTI " of the "
	PRINTD HIVE
	PRINT PERIOD
	CALL2 PRINT-ID,STR?394
	CALL1 BEES-ATTACK
	RTRUE

	.FUNCT BEES-ATTACK
	CRLF
	PRINTI "[RIDX: 5718]"
	CALL2 PRINT-ID,STR?395
	CALL1 JIGS-UP
	RTRUE

	.FUNCT FEEL-HIVE
	PRINTI "The gray "
	PRINTD CSURFACE
	PRINTI "[RIDX: 5721]"
	CRLF
	CALL1 BUZZ-RISES
	RTRUE

	.FUNCT BUZZ-RISES
	CRLF
	CALL2 CTHE-PRINT,HIVE
	PRINTR "[RIDX: 5722]"

	.FUNCT HONEY-F
	IN? HONEY,HIVE \?L1
	CALL CANT-SEE-ANY,STR?396,1
	RETURN 2
?L1:	ZERO? NOW-PRSI? /?L5
	EQUAL? PRSA,V?PUT,V?PUT-ON,V?COVER \FALSE
	CALL2 HONEYFY,PRSO
	RTRUE
?L5:	EQUAL? PRSA,V?EXAMINE \?L9
	PRINTI "It's all over "
	PRINTD HANDS
	PRINT PERIOD
	RTRUE
?L9:	EQUAL? PRSA,V?CLEAN,V?CLEAN-OFF \?L10
	EQUAL? PRSI,PRSO \?L11
	CALL1 IMPOSSIBLE
	RTRUE
?L11:	EQUAL? PRSI,0,HANDS \?L13
	CALL1 HONEY-STICKS
	RTRUE
?L13:	CALL2 HONEYFY,PRSI
	RTRUE
?L10:	EQUAL? PRSA,V?TASTE,V?EAT \?L15
	CALL1 VANISH
	PRINTI "[RIDX: 5726]"
	CRLF
	CALL2 PRINT-ID,STR?397
	RTRUE
?L15:	EQUAL? PRSA,V?DRINK,V?DRINK-FROM \?L16
	CALL1 IMPOSSIBLE
	RTRUE
?L16:	INTBL? PRSA,HAVEVERBS,NHAVES >STACK \FALSE
	CALL1 HONEY-STICKS
	RTRUE

	.FUNCT HONEYFY,OBJ
	PRINTI "[RIDX: 5728]"
	CALL2 THE-PRINT,OBJ
	PRINT IF-YOU-DID
	RTRUE

	.FUNCT HONEY-STICKS
	PRINTI "[RIDX: 5729]"
	PRINTD HANDS
	PRINT PERIOD
	RTRUE

	.FUNCT GENERIC-BEE-F,TBL
	RETURN BEE

	.FUNCT BEES-F
	EQUAL? PRSA,V?LISTEN \?L1
	PRINTI "T"
	CALL1 EARS-RING
	RTRUE
?L1:	EQUAL? PRSA,V?SMELL \?L3
	CALL PERFORM,V?SMELL,HIVE
	RTRUE
?L3:	EQUAL? PRSA,V?KILL,V?HIT \?L4
	EQUAL? PRSI,0,HANDS \?L4
	CALL2 RUPTURES-HIVE,HANDS
	RTRUE
?L4:	INTBL? PRSA,SEEVERBS,NSVERBS >STACK /?L6
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L6
	EQUAL? PRSA,V?FIND,V?FOLLOW \FALSE
?L6:	PRINT CANT
	PRINTI "see any bees"
	PRINT AT-MOMENT
	PRINTI " But t"
	CALL1 EARS-RING
	RTRUE

	.FUNCT EARS-RING
	PRINTR "[RIDX: 5734]"

	.FUNCT BEE-F
	CALL2 NOUN-USED?,W?BEES >STACK
	ZERO? STACK /?L1
	PRINTI "[RIDX: 5737]"
	CRLF
	RETURN 2
?L1:	ZERO? NOW-PRSI? /?L5
	EQUAL? PRSA,V?THROW,V?THROW-OVER \FALSE
	CALL1 CTHEI-PRINT
	PRINTI " easily avoids "
	CALL1 THE-PRINT
	PRINTI ", which "
	CALL1 LANDS-AT-YOUR-FEET
	RTRUE
?L5:	EQUAL? PRSA,V?EXAMINE \?L9
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5740]"
?L9:	EQUAL? PRSA,V?TAKE,V?TOUCH,V?HIT /?L11
	EQUAL? PRSA,V?KILL,V?KNOCK,V?SQUEEZE /?L11
	EQUAL? PRSA,V?PUSH,V?PULL,V?MOVE /?L11
	EQUAL? PRSA,V?KICK,V?STAND-ON,V?SIT /?L11
	EQUAL? PRSA,V?LIE-DOWN \?L10
?L11:	EQUAL? PRSI,0,HANDS \?L10
	CALL1 CTHE-PRINT
	GET BEE-TABLE,2 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L10:	EQUAL? PRSA,V?KISS,V?RIDE,V?RAPE /?L13
	EQUAL? PRSA,V?BLOW-INTO \?L12
?L13:	PRINTI "[RIDX: 5741]"
	CRLF
	CALL2 PRINT-ID,STR?398
	RTRUE
?L12:	EQUAL? PRSA,V?LISTEN \?L14
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5743]"
?L14:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L15
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5744]"
	CRLF
	RETURN 2
?L15:	EQUAL? PRSA,V?WALK-TO,V?FOLLOW \?L18
	CALL1 ITS-RIGHT-HERE
	RTRUE
?L18:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 HOW?
	RTRUE

	.FUNCT UBOMB-F
	CALL1 HANDLE-BOMB? >STACK
	ZERO? STACK \TRUE
	EQUAL? PRSA,V?EXAMINE \?L3
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5748]"
	CALL1 READ-UBOMB
	RTRUE
?L3:	EQUAL? PRSA,V?READ,V?LOOK-ON \?L4
	CALL1 READ-UBOMB
	RTRUE
?L4:	EQUAL? PRSA,V?UNSCREW,V?UNSCREW-FROM \FALSE
	CALL2 THIS-IS-NOT,STR?399
	RTRUE

	.FUNCT HANDLE-BOMB?
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?PUT-UNDER,V?PUT-BEHIND \?L3
	CALL1 NO-OPENINGS
	RTRUE
?L3:	EQUAL? PRSA,V?PUT-ON \FALSE
	CALL1 NO-GOOD-SURFACE
	RTRUE
?L1:	EQUAL? PRSA,V?LOOK-INSIDE,V?OPEN,V?OPEN-WITH /?L8
	EQUAL? PRSA,V?CLOSE,V?REACH-IN,V?SEARCH \?L7
?L8:	CALL1 NO-OPENINGS
	RTRUE
?L7:	EQUAL? PRSA,V?DETONATE \?L9
	CALL1 HOW?
	RTRUE
?L9:	EQUAL? PRSA,V?HIT,V?CUT,V?RIP /?L11
	EQUAL? PRSA,V?MUNG \?L10
?L11:	EQUAL? PRSI,0,HANDS,FEET \?L12
	CALL2 PRINT-ID,STR?400
	CALL1 BEST-KARATE
	RTRUE
?L12:	EQUAL? PRSI,AXE,SPADE,GNOMON /?L15
	EQUAL? PRSI,LUMP \?L14
?L15:	CALL2 VOICE-MUTTERS,STR?401
	PRINTI "Your "
	PRINTD PRSI
	PRINTI " cuts deep into the "
	PRINTD PRSO
	PRINTI ", lodging "
	CALL1 RESULTING-BLAST
	RTRUE
?L14:	CALL NOT-LIKELY,PRSI,STR?402
	RTRUE
?L10:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?SIT /?L18
	EQUAL? PRSA,V?STAND-ON,V?STAND-UNDER,V?LIE-DOWN /?L18
	EQUAL? PRSA,V?LEAP,V?RIDE,V?CLIMB-UP /?L18
	EQUAL? PRSA,V?CLIMB-DOWN \?L17
?L18:	PRINTI "[RIDX: 5756]"
	PRINTD PRSO
	CALL1 WONT-HELP
	RTRUE
?L17:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL1 PRSO-TOO-BIG
	RTRUE

	.FUNCT RESULTING-BLAST
	PRINTI "[RIDX: 5757]"
	CALL2 PRINT-ID,STR?403
	CALL1 JIGS-UP
	RTRUE

	.FUNCT NO-OPENINGS
	PRINT CANT
	PRINTI "see any "
	PRINTD CAVE-HOLE
	PRINTR "s."

	.FUNCT READ-UBOMB
	PRINTR "[RIDX: 5761]"

	.FUNCT UCABLES-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5763]"
	EQUAL? HERE,TUN3 \?L4
	PRINTD LANDSLIDE
	JUMP ?L6
?L4:	PRINTD CAVERN
?L6:	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE \?L7
	CALL1 IMPOSSIBLE
	RTRUE
?L7:	EQUAL? PRSA,V?FOLLOW \?L8
	CALL2 DO-WALK,P?WEST
	RTRUE
?L8:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL1 PRSO-TOO-BIG
	RTRUE

	.FUNCT IN-CREVICE,CONTEXT=0
	EQUAL? CONTEXT,M-CONT \FALSE
	IN? SHARD,CREVICE /?L3
	INTBL? PRSA,SEEVERBS,NSVERBS >STACK \?L3
	CALL1 TOO-DARK-IN-CREVICE
	RTRUE
?L3:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	ZERO? NOW-PRSI? \?L6
	PUSH PRSO
	JUMP ?L8
?L6:	PUSH PRSI
?L8:	CALL2 DEEP-CREVICE,STACK
	RTRUE

	.FUNCT DEEP-CREVICE,THING
	PRINT CANT
	PRINTI "quite reach "
	CALL2 THE-PRINT,THING
	PRINT PTHE
	PRINTD CREVICE
	PRINTR " is too deep."

	.FUNCT TOO-DARK-IN-CREVICE
	PRINTI "[RIDX: 5769]"
	PRINTD CREVICE
	PRINT PERIOD
	RTRUE

	.FUNCT CREVICE-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT \FALSE
	EQUAL? PRSO,SHARD \?L5
	MOVE PRSO,PRSI
	PRINTI "[RIDX: 5770]"
	PRINTD PRSO
	PRINTI "[RIDX: 5771]"
	PRINTD CAVE-HOLE
	PRINTI ", harder.."
	PRINT PCR
	CALL2 ITALICIZE,STR?404
	PRINTI "[RIDX: 5774]"
	PRINTD PRSI
	PRINTR "[RIDX: 5775]"
?L5:	CALL1 PRSO-FALLS-DEEP
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH /?L10
	EQUAL? PRSA,V?LOOK-DOWN,V?LOOK-BEHIND,V?LOOK-UNDER \?L9
?L10:	IN? SHARD,PRSO \?L11
	PRINT YOU-SEE
	CALL2 PRINT-CONTENTS,PRSO
	PRINTI " in the "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L11:	CALL1 TOO-DARK-IN-CREVICE
	RTRUE
?L9:	EQUAL? PRSA,V?REACH-IN \?L14
	CALL1 CTHE-PRINT
	PRINTR " is too deep."
?L14:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT PRSO-FALLS-DEEP
	EQUAL? PRSO,PARASOL \?L1
	FSET? PRSO,OPENED \?L1
	CALL YOUD-HAVE-TO,STR?99,PRSO
	RTRUE
?L1:	CALL1 CTHE-PRINT
	EQUAL? PRSO,LEM \?L4
	PRINTR " has other ideas."
?L4:	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,3 \?L6
	PRINTI " won't fit "
	JUMP ?L7
?L6:	MOVE PRSO,PRSI
	PRINTI " falls deep "
?L7:	PRINTI "into the "
	PRINTD PRSI
	PRINT PERIOD
	RTRUE

	.FUNCT SKINK-F
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L1
	FCLEAR PRSO,SEEN
	PRINTR "[RIDX: 5786]"
?L1:	FSET SKINK,SEEN
	ZERO? NOW-PRSI? /?L4
	EQUAL? PRSA,V?GIVE,V?FEED,V?SHOW \?L6
	CALL1 CTHEI-PRINT
	PRINTR " wrinkles its nose."
?L6:	EQUAL? PRSA,V?THROW,V?THROW-OVER \FALSE
	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,3 /?L9
	CALL NOT-LIKELY,PRSO,STR?405
	RTRUE
?L9:	IN? PRSI,PLAYER \?L11
	CALL YOUD-HAVE-TO,STR?406,PRSI
	RTRUE
?L11:	CALL1 SKINK-SCAMP
	CRLF
	CALL1 CTHE-PRINT
	CALL1 LANDS-AT-YOUR-FEET
	RTRUE
?L4:	EQUAL? PRSA,V?SQUEEZE \?L14
	IN? PRSO,PLAYER /?L15
	CALL YOUD-HAVE-TO,STR?240,PRSO
	RTRUE
?L15:	PRINTI "[RIDX: 5791]"
	PRINT PCR
	CALL1 CTHE-PRINT
	PRINTI " stops squirming."
	CRLF
	CALL2 PRINT-ID,STR?407
	CALL1 EXIT-SKINK
	MOVE DSKINK,PLAYER
	SET 'P-IT-OBJECT,DSKINK
	EQUAL? HERE,IN-ORBIT,ON-SAT \TRUE
	FSET DSKINK,CHILLY
	CALL2 UPDATE-SCORE,3
	RTRUE
?L14:	EQUAL? PRSA,V?KILL,V?MUNG,V?HIT /?L22
	EQUAL? PRSA,V?CUT \?L21
?L22:	EQUAL? PRSI,0,HANDS \?L23
	CALL PERFORM,V?SQUEEZE,PRSO
	RTRUE
?L23:	GETP PRSI,P?SIZE >STACK
	GRTR? STACK,3 /?L25
	CALL NOT-LIKELY,PRSI,STR?405
	RTRUE
?L25:	IN? PRSO,PLAYER \?L26
	CALL YOUD-HAVE-TO,STR?406,PRSO
	RTRUE
?L26:	CALL1 SKINK-SCAMP
	RTRUE
?L21:	EQUAL? PRSA,V?EAT,V?TASTE \?L28
	CALL1 EAT-SKINK
	RTRUE
?L28:	EQUAL? PRSA,V?KISS \?L29
	CALL1 V-RAPE
	RTRUE
?L29:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \FALSE
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5796]"
	CRLF
	RETURN 2

	.FUNCT SKINK-SCAMP
	CALL2 CTHE-PRINT,SKINK
	PRINTR "[RIDX: 5797]"

	.FUNCT DSKINK-F
	EQUAL? PRSA,V?EXAMINE \?L1
	PRINTR "[RIDX: 5800]"
?L1:	EQUAL? PRSA,V?KILL,V?SQUEEZE \?L3
	CALL2 PRINT-ID,STR?408
	CALL2 ITS-ALREADY,STR?409
	RTRUE
?L3:	EQUAL? PRSA,V?EAT,V?TASTE \?L4
	CALL1 EAT-SKINK
	RTRUE
?L4:	EQUAL? PRSA,V?KISS \FALSE
	CALL1 V-RAPE
	RTRUE

	.FUNCT EAT-SKINK
	CALL2 PRINT-ID,STR?410
	CALL2 DONT-HAVE?,PRSO >STACK
	ZERO? STACK \TRUE
	CALL1 VANISH
	PRINTI "You jam the "
	EQUAL? PRSO,SKINK \?L4
	PRINTI "squirming "
?L4:	PRINTD PRSO
	PRINTI "[RIDX: 5806]"
	CRLF
	CALL2 PRINT-ID,STR?411
	RTRUE

	.FUNCT HOLLOW-F
	CALL1 EXITING? >STACK
	ZERO? STACK /?L1
	CALL2 DO-WALK,P?SOUTH
	RTRUE
?L1:	EQUAL? PRSA,V?CLIMB-UP,V?CLIMB-OVER,V?CLIMB-ON \?L3
	CALL2 DO-WALK,P?UP
	RTRUE
?L3:	CALL1 HERE-F >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT BONES-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE \?L6
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5810]"
?L6:	EQUAL? PRSA,V?TAKE,V?LOOK-INSIDE,V?SEARCH /?L8
	EQUAL? PRSA,V?LOOK-UNDER,V?LOOK-BEHIND,V?LOOSEN /?L8
	EQUAL? PRSA,V?MOVE,V?PUSH,V?PULL /?L8
	EQUAL? PRSA,V?RAISE,V?REACH-IN,V?DIG /?L8
	EQUAL? PRSA,V?EMPTY \?L7
?L8:	FSET? KEY,NODESC \?L9
	FCLEAR KEY,NODESC
	MOVE KEY,OSSUARY
	SET 'P-IT-OBJECT,KEY
	PRINTI "[RIDX: 5811]"
	PRINTD PRSO
	PRINTI ", a "
	PRINTD KEY
	PRINTR "[RIDX: 5813]"
?L9:	PRINTI "[RIDX: 5814]"
	PRINTD PRSO
	PRINTI " reveals nothing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L7:	EQUAL? PRSA,V?TOUCH,V?SQUEEZE,V?KISS /?L13
	EQUAL? PRSA,V?SHAKE \?L12
?L13:	EQUAL? PRSI,0,HANDS \?L12
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5816]"
?L12:	EQUAL? PRSA,V?SMELL \?L14
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5817]"
?L14:	EQUAL? PRSA,V?HIT,V?KICK,V?KNOCK \FALSE
	PRINTI "[RIDX: 5818]"
	PRINTD INTDIR
	PRINTR "s."

	.FUNCT KEY-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	PRINTR "[RIDX: 5822]"
?L3:	EQUAL? PRSA,V?TAKE \?L4
	FSET? PRSO,TOUCHED /?L4
	CALL1 ITAKE >STACK
	ZERO? STACK /TRUE
	PRINTI "You gently pry the "
	PRINTD PRSO
	PRINTI "[RIDX: 5824]"
	CRLF
	CALL1 UPDATE-SCORE
	RTRUE
?L4:	EQUAL? PRSA,V?TURN,V?MOVE \?L8
	IN? PRSO,KEYHOLE \?L8
	FSET? SLOPE,OPENED \?L9
	CALL1 CTHE-PRINT
	PRINTR " won't turn anymore."
?L9:	FSET SLOPE,OPENED
	FSET SLOPE,SEEN
	SET 'P-IT-OBJECT,SLOPE
	PRINTI "[RIDX: 5826]"
	PRINT PCR
	CALL2 CTHE-PRINT,GROUND
	PRINTI "[RIDX: 5827]"
	CRLF
	FSET? PRSO,CHILLY /?L12
	FSET PRSO,CHILLY
	CALL1 UPDATE-SCORE
?L12:	FSET WIGHT,SEEN
	CRLF
	CALL2 CTHE-PRINT,WIGHT
	PRINTI "[RIDX: 5828]"
	CRLF
	CALL2 PRINT-ID,STR?412
	RTRUE
?L8:	EQUAL? PRSA,V?TURN-TO,V?PUSH-TO,V?TUNE-TO \?L15
	IN? PRSO,KEYHOLE \?L15
	EQUAL? PRSI,LEFT,RIGHT \?L16
	CALL PERFORM,V?TURN,PRSO
	RTRUE
?L16:	PRINT CANT
	PRINTB P-PRSA-WORD
	PRINTR " the key that way."
?L15:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	IN? PRSO,KEYHOLE \FALSE
	FSET? SLOPE,OPENED \FALSE
	PRINTR "[RIDX: 5831]"

	.FUNCT HOPENING-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?THROW \FALSE
	EQUAL? PRSO,SHARD /?L7
	EQUAL? PRSO,LAMP \?L5
	FSET? PRSO,LIGHTED \?L5
?L7:	MOVE PRSO,IN-BARROW
	JUMP ?L8
?L5:	MOVE PRSO,WIGHT
?L8:	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5007]dark "
	PRINTD PRSI
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE \?L10
	CALL1 CTHE-PRINT
	PRINTR " leads south."
?L10:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-BEHIND,V?SEARCH \?L11
	CALL1 CANT-SEE-MUCH
	RTRUE
?L11:	EQUAL? PRSA,V?REACH-IN \?L12
	PRINTR "[RIDX: 5835]"
?L12:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE /?L14
	EQUAL? PRSA,V?EMPTY \?L13
?L14:	CALL1 IMPOSSIBLE
	RTRUE
?L13:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L16
	EQUAL? PRSA,V?STAND-UNDER \?L15
?L16:	CALL2 DO-WALK,P?SOUTH
	RTRUE
?L15:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 NOT-IN
	RTRUE

	.FUNCT SCAF-STAIR-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L1
	CALL1 CTHE-PRINT
	PRINTI " leads "
	EQUAL? HERE,ON-SCAFFOLD \?L3
	PRINTI "down to the "
	PRINTD FLOOR
	JUMP ?L5
?L3:	PRINTI "up to the "
	PRINTD SCAFFOLD
?L5:	PRINT PERIOD
	RTRUE
?L1:	CALL2 HANDLE-STAIRS?,ON-SCAFFOLD >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT SCAFFOLD-F,ON=0
	EQUAL? HERE,ON-SCAFFOLD \?L1
	SET 'ON,1
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK \?L4
	ZERO? ON /?L6
	CALL1 V-LOOK
	RTRUE
?L6:	CALL1 CANT-SEE-MUCH
	RTRUE
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L11
	EQUAL? PRSA,V?CLIMB-UP,V?CLIMB-ON,V?CLIMB-OVER /?L11
	EQUAL? PRSA,V?STAND-ON \?L9
?L11:	ZERO? ON \?L12
	CALL2 DO-WALK,P?UP
	RTRUE
?L12:	CALL ALREADY-IN,SCAFFOLD,1
	RTRUE
?L9:	CALL1 EXITING? >STACK
	ZERO? STACK \?L16
	EQUAL? PRSA,V?CLIMB-DOWN \?L15
?L16:	ZERO? ON \?L17
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L17:	CALL NOT-IN,SCAFFOLD,1
	RTRUE
?L15:	EQUAL? PRSA,V?LOOK-UNDER,V?STAND-UNDER \FALSE
	PRINTI "There's nothing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINTR " under there."

	.FUNCT MIKE-F
	CALL1 HANDLE-BOMB? >STACK
	ZERO? STACK \TRUE
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-DOWN /?L5
	EQUAL? PRSA,V?LOOK-UP,V?READ \?L4
?L5:	CALL1 READ-UBOMB
	RTRUE
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L6
	EQUAL? HERE,ON-SCAFFOLD \?L7
	PUSH P?IN
	JUMP ?L9
?L7:	PUSH P?UP
?L9:	CALL2 DO-WALK,STACK
	RTRUE
?L6:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	EQUAL? HERE,ON-SCAFFOLD \?L11
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L11:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT RWALLS-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L3
	EQUAL? PRSA,V?LOOK-BEHIND,V?SEARCH \?L1
?L3:	CALL1 LOOK-AT-RWALLS
	RTRUE
?L1:	EQUAL? PRSA,V?WALK-TO,V?FOLLOW \FALSE
	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT IN-CAGE,CONTEXT=0
	EQUAL? CONTEXT,M-CONT \FALSE
	FSET? CAGE,OPENED /FALSE
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L5
	INTBL? PRSA,HURTVERBS,NHVERBS >STACK \FALSE
?L5:	CALL YOUD-HAVE-TO,STR?70,CAGE
	RTRUE

	.FUNCT CAGE-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT \?L3
	FSET? PRSI,OPENED /?L5
	CALL YOUD-HAVE-TO,STR?70,PRSI
	RTRUE
?L5:	EQUAL? PRSO,MEEP \?L7
	FSET PRSO,TOUCHED
	MOVE PRSO,PRSI
	PRINT CTHEMEEP
	PRINTI "pecks furiously at "
	PRINTD HANDS
	PRINTI "[RIDX: 5851]"
	CRLF
	CALL2 PRINT-ID,STR?413
	RTRUE
?L7:	EQUAL? PRSO,LEM \?L8
	MOVE PRSO,PRSI
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5853]"
	CRLF
	CALL2 PRINT-ID,STR?414
	FSET? PRSI,BORING /TRUE
	FSET PRSI,BORING
	CALL1 UPDATE-SCORE
	RTRUE
?L8:	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,3 \?L12
	CALL1 PRSO-WONT-FIT
	JUMP ?L13
?L12:	MOVE PRSO,PRSI
	PRINTI "You put "
	CALL1 THE-PRINT
	PRINTI " into "
	CALL1 THEI-PRINT
	PRINT PERIOD
?L13:	EQUAL? PRSO,BAG \TRUE
	ZERO? CCNT /TRUE
	IN? MEEP,HERE \TRUE
	FCLEAR BAG,SEEN
	CALL1 MEEP-SEES-BAG
	RTRUE
?L3:	EQUAL? PRSA,V?PUT-ON \FALSE
	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE \?L19
	PRINTI "The"
	CALL2 OPEN-CLOSED,PRSO
	PRINTI "[RIDX: 5858]"
	CALL2 SEE-ANYTHING-IN?,PRSO >STACK
	ZERO? STACK /?L20
	PRINTI "[RIDX: 5859]"
	CALL2 PRINT-CONTENTS,PRSO
?L20:	PRINT PERIOD
	RTRUE
?L19:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH \FALSE
	EQUAL? PRSI,0,HANDS \FALSE
	FSET? PRSO,OPENED /FALSE
	FSET PRSO,OPENED
	FCLEAR LEM,CHILLY
	PRINTI "You open the "
	PRINTD PRSO
	PRINT PERIOD
	IN? MAGPIE,PRSO \?L24
	ZERO? LIT? /?L24
	CRLF
	CALL2 CTHE-PRINT,MAGPIE
	PRINTI "[RIDX: 5861]"
	ZERO? SUITED? /?L26
	CALL2 FREE-MAG,FILM
	RTRUE
?L26:	EQUAL? HERE,IN-CLOSET \?L28
	FSET? CLOSET-DOOR,OPENED /?L28
	CALL2 FREE-MAG,CLOSET
	RTRUE
?L28:	EQUAL? HERE,IN-COTTAGE \?L29
	FSET? COTTAGE-DOOR,OPENED /?L32
	FSET? GARDEN-DOOR,OPENED \?L30
?L32:	CALL1 EXIT-MAGPIE
	PRINTR "[RIDX: 5862]"
?L30:	CALL2 FREE-MAG,COTTAGE
	RTRUE
?L29:	PRINTI "soars"
	PRINT OUTASITE
	CALL1 EXIT-MAGPIE
	RTRUE
?L24:	IN? LEM,PRSO \TRUE
	FCLEAR LEM,SEEN
	CALL1 I-LEM
	RTRUE

	.FUNCT FREE-MAG,OBJ
	FCLEAR CAGE,OPENED
	PRINTI "[RIDX: 5864]"
	PRINTD OBJ
	PRINTI "[RIDX: 5865]"
	CRLF
	CALL2 PRINT-ID,STR?415
	RTRUE

	.FUNCT MAGPIE-F
	FSET MAGPIE,SEEN
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?FEED,V?GIVE,V?SHOW \FALSE
	CALL1 CTHEI-PRINT
	GET PIE-TABLE,2 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTR "[RIDX: 5552]"
?L1:	EQUAL? PRSA,V?EXAMINE \?L6
	PRINTR "[RIDX: 5871]"
?L6:	EQUAL? PRSA,V?WATCH,V?LISTEN \?L7
	FCLEAR PRSO,SEEN
	CALL2 I-MAGPIE,0
	RTRUE
?L7:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L8
	ZERO? INLEN /?L9
	PRINTI """"
	RANDOM 100 >STACK
	LESS? 50,STACK /?L11
	PRINTI "Awk! "
?L11:	CALL1 PRINT-SENTENCE
	PRINTI "!"
	RANDOM 100 >STACK
	LESS? 50,STACK /?L14
	PRINTI " Awk!"
?L14:	PRINTI """"
	CRLF
	RETURN 2
?L9:	CALL1 CTHE-PRINT
	GET PIE-TABLE,2 >STACK
	CALL2 PICK-NEXT,STACK >STACK
	PRINT STACK
	PRINTI "[RIDX: 5877]"
	CRLF
	RETURN 2
?L8:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L23
	INTBL? PRSA,HURTVERBS,NHVERBS >STACK \FALSE
?L23:	CALL1 CTHE-PRINT
	PRINTR " won't let you near."

	.FUNCT CAULDRON-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?HOLD-OVER,V?EMPTY-INTO \?L3
	EQUAL? PRSO,OCOCO,MILK \?L3
	ZERO? DRIBBLE /?L3
	CALL1 HOLD-OCOCO-OVER-CAULDRON
	RTRUE
?L3:	EQUAL? PRSA,V?PUT,V?PUT-ON,V?THROW \FALSE
	EQUAL? PRSO,PARASOL \?L6
	FSET? PRSO,OPENED \?L6
	FCLEAR PRSO,OPENED
	PRINTI "[closing the "
	PRINTD PRSO
	PRINTI " first"
	PRINT BRACKET
?L6:	FSET? EMERALD,NODESC \FALSE
	EQUAL? PRSO,HANDS \?L11
	CALL1 TOUCH-CWATER
	RTRUE
?L11:	EQUAL? PRSO,MILK \?L12
	ZERO? DRIBBLE /?L12
	CALL1 HOLD-OCOCO-OVER-CAULDRON
	RTRUE
?L12:	CALL1 VANISH
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5007]"
	PRINTD PRSI
	PRINTI "[RIDX: 5883]"
	EQUAL? PRSO,PARASOL,SPADE \?L14
	PRINTI "[RIDX: 5884]"
	CALL1 THE-PRINT
	PRINTI "[RIDX: 5885]"
	PRINTD PRSI
	PRINTR " is deep."
?L14:	EQUAL? PRSO,OCOCO \?L16
	ZERO? DRIBBLE /?L16
	CALL1 KILL-MILK
	CALL1 UPDATE-RECIPE
	RTRUE
?L16:	EQUAL? PRSO,GARLIC /?L18
	EQUAL? PRSO,DSKINK \?L17
	FSET? PRSO,CHILLY \?L17
?L18:	CALL1 UPDATE-RECIPE
	RTRUE
?L17:	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE \?L21
	FSET? EMERALD,NODESC \?L22
	PRINTI "White "
	PRINTD STEAM
	PRINTI "[RIDX: 5888]"
	CALL1 THE-PRINT
	PRINTR "'s depths."
?L22:	PRINTI "[RIDX: 5890]"
	CALL1 THE-PRINT
	PRINTR " very much."
?L21:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L25
	FSET? EMERALD,NODESC \?L26
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5104]dark, "
	PRINTD CWATER
	PRINT PERIOD
	RTRUE
?L26:	FCLEAR EMERALD,NOALL
	RFALSE
?L25:	EQUAL? PRSA,V?REACH-IN \?L29
	FSET? EMERALD,NODESC \?L30
	CALL1 TOUCH-CWATER
	RTRUE
?L30:	FCLEAR EMERALD,NOALL
	RFALSE
?L29:	EQUAL? PRSA,V?TOUCH,V?KNOCK,V?SHAKE /?L34
	EQUAL? PRSA,V?KISS,V?SQUEEZE,V?EMPTY \?L33
?L34:	EQUAL? PRSI,0,HANDS \?L33
	FSET? EMERALD,NODESC \?L33
	PRINTI "The sides of the "
	PRINTD PRSO
	PRINTR "[RIDX: 5894]"
?L33:	EQUAL? PRSA,V?LOOK-UNDER,V?PUT-UNDER /?L36
	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \?L35
?L36:	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5895]"
?L35:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L38
	EQUAL? PRSA,V?SWIM,V?DIVE \?L37
?L38:	PRINTR "[RIDX: 5896]"
?L37:	CALL1 EXITING? >STACK
	ZERO? STACK /?L39
	CALL1 NOT-IN
	RTRUE
?L39:	EQUAL? PRSA,V?SMELL \FALSE
	FSET? EMERALD,NODESC \?L41
	CALL1 SMELL-CWATER
	RTRUE
?L41:	CALL1 CTHE-PRINT
	PRINTI " fills the "
	PRINTD COTTAGE
	PRINTR "[RIDX: 5898]"

	.FUNCT HOLD-OCOCO-OVER-CAULDRON
	CALL1 KILL-MILK
	PRINTI "You hold the "
	PRINTD OCOCO
	PRINTI " over the "
	PRINTD CAULDRON
	PRINTI "[RIDX: 5901]"
	PRINTD CWATER
	CALL1 UPDATE-RECIPE
	RTRUE

	.FUNCT UPDATE-RECIPE
	PRINT PERIOD
	DEC 'INGREDIENTS
	ZERO? INGREDIENTS \?L1
	CALL QUEUE,I-EXPLODE,-1
	CRLF
	CALL2 CTHE-PRINT,CAULDRON
	PRINTI "[RIDX: 5902]"
	PRINTD COTTAGE
	PRINTI "[RIDX: 5903]"
	PRINTD CAULDRON
	PRINTI "'s depths."
	CRLF
?L1:	CALL1 UPDATE-SCORE
	RTRUE

	.FUNCT STEAM-F
	EQUAL? PRSA,V?SMELL,V?INHALE \?L1
	CALL2 WET-AND-OILY,STR?416
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH /?L4
	EQUAL? PRSA,V?BLOW-INTO \?L3
?L4:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5907]"
	PRINTD CAULDRON
	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?TOUCH,V?REACH-IN \?L5
	EQUAL? PRSI,0,HANDS \?L5
	CALL2 WET-AND-OILY,STR?417
	RTRUE
?L5:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT WET-AND-OILY,STR
	CALL1 CTHE-PRINT
	PRINT STR
	PRINTR " hot and greasy."

	.FUNCT CWATER-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L1
	CALL1 OPAQUE-WATER
	RTRUE
?L1:	EQUAL? PRSA,V?DRINK,V?TASTE \?L3
	PRINTI "[RIDX: 5911]"
	PRINTD PRSO
	PRINTI ". Ouch!"
	CRLF
	CALL2 PRINT-ID,STR?418
	RTRUE
?L3:	EQUAL? PRSA,V?EAT,V?BITE \?L4
	CALL2 PRINT-ID,STR?419
	CALL1 IMPOSSIBLE
	RTRUE
?L4:	EQUAL? PRSA,V?SMELL \?L5
	CALL1 SMELL-CWATER
	RTRUE
?L5:	ZERO? NOW-PRSI? /?L6
	EQUAL? PRSA,V?PUT,V?PUT-ON,V?THROW /?L7
	EQUAL? PRSA,V?EMPTY-INTO,V?HOLD-OVER \?L6
?L7:	CALL PERFORM,PRSA,PRSO,CAULDRON
	RTRUE
?L6:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 TOUCH-CWATER
	RTRUE

	.FUNCT SMELL-CWATER
	PRINTR "[RIDX: 5915]"

	.FUNCT TOUCH-CWATER
	PRINTI "You plunge "
	PRINTD HANDS
	PRINTI " into the "
	PRINTD CWATER
	PRINTI ". Ouch!"
	CRLF
	IN? HONEY,PLAYER \TRUE
	CALL1 EXIT-HONEY
	CALL1 UPDATE-RECIPE
	RTRUE

	.FUNCT EXIT-HONEY
	CALL2 VANISH,HONEY
	CRLF
	PRINTI "[RIDX: 5919]"
	RTRUE

	.FUNCT DORY-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \?L3
	CALL PERFORM,V?GIVE,PRSO,CHARON
	RTRUE
?L3:	FSET? DORY,TOUCHED /FALSE
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L7
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5922]"
?L7:	EQUAL? PRSA,V?WATCH \?L8
	CALL2 I-STYX,0
	RTRUE
?L8:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-ON,V?SEARCH \?L9
	FSET CHARON,TOUCHED
	PRINT YOU-SEE
	PRINTI "a dark "
	PRINTD CHARON
	PRINTI "[RIDX: 5924]"
	IN? SHADES,DORY \?L10
	PRINT PTHE
	PRINTI "[RIDX: 5925]"
	PRINTD SHADES
?L10:	PRINT PERIOD
	RTRUE
?L9:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L15
	EQUAL? PRSA,V?RIDE,V?CLIMB-ON,V?CLIMB-UP /?L15
	EQUAL? PRSA,V?CLIMB-OVER,V?STAND-ON,V?SIT \?L13
?L15:	CALL1 GET-IN-DORY
	RTRUE
?L13:	CALL1 EXITING? >STACK
	ZERO? STACK \?L17
	EQUAL? PRSA,V?CLIMB-DOWN,V?LEAP \?L16
?L17:	ZERO? IN-DORY? \?L18
	CALL1 NOT-IN
	RTRUE
?L18:	CALL1 EXIT-DORY
	PRINTR "[RIDX: 5926]"
?L16:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE \?L21
	CALL1 IMPOSSIBLE
	RTRUE
?L21:	FSET? DORY,TOUCHED /FALSE
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT EXIT-DORY
	SET 'PATIENCE,3
	CALL2 DEQUEUE,I-CHARON
	SET 'IN-DORY?,0
	SET 'OLD-HERE,0
	RTRUE

	.FUNCT DORY-IN
	IN? DORY,HERE \?L1
	PRINTI "[into the dory"
	PRINT BRACKET
	CALL1 GET-IN-DORY
	RFALSE
?L1:	CALL1 WHICH-WAY-IN
	RFALSE

	.FUNCT GET-IN-DORY
	ZERO? IN-DORY? /?L1
	CALL2 ALREADY-IN,DORY
	RTRUE
?L1:	FSET? DORY,TOUCHED /?L3
	CALL1 CANT-FROM-HERE
	RTRUE
?L3:	EQUAL? HERE,ON-BEACH \?L4
	CALL2 CTHE-PRINT,CHARON
	PRINTR "[RIDX: 5928]"
?L4:	SET 'IN-DORY?,1
	SET 'OLD-HERE,0
	CALL2 CTHE-PRINT,DORY
	PRINTI "[RIDX: 5929]"
	EQUAL? STICKS,4,5 \?L6
	PRINTI "; one of the "
	PRINTD SHADES
	PRINTI "[RIDX: 5931]"
?L6:	PRINTI ".

The "
	PRINTD CHARON
	IN? SHROUD,PLAYER \?L11
	FSET? SHROUD,WORN /?L9
?L11:	SET 'IN-DORY?,0
	SET 'OLD-HERE,0
	FSET? CHARON,NOALL \?L12
	PRINTI "[RIDX: 5933]"
	CRLF
	CALL2 PRINT-ID,STR?420
	RTRUE
?L12:	FSET CHARON,NOALL
	PRINTI " stares at your "
	PRINTD LONDON
	PRINTI "[RIDX: 5936]"
	CRLF
	CALL2 PRINT-ID,STR?421
	RTRUE
?L9:	SET 'PATIENCE,3
	CALL QUEUE,I-CHARON,-1
	PRINTI " glances at the "
	PRINTD SHROUD
	PRINTR "[RIDX: 5939]"

	.FUNCT SHADES-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?THROW,V?THROW-OVER \?L3
	MOVE PRSO,HERE
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5942]"
	PRINTD PRSI
	PRINTI " and lands on the "
	PRINTD BEACH
	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?GIVE,V?SHOW,V?FEED \FALSE
	PRINTI "You "
	EQUAL? PRSA,V?SHOW \?L6
	PRINTI "show "
	JUMP ?L8
?L6:	PRINTI "offer "
?L8:	CALL1 THE-PRINT
	PRINTI " to one of the "
	PRINTD PRSI
	PRINTI "[RIDX: 5948]"
	EQUAL? PRSA,V?SHOW \?L9
	PRINTR "remains silent."
?L9:	PRINTR "[RIDX: 5950]"
?L1:	EQUAL? PRSA,V?EXAMINE,V?SEARCH \?L13
	PRINTI "The shrouded forms "
	IN? PRSO,DORY \?L14
	PRINTI "in the dory"
	JUMP ?L16
?L14:	PRINTI "on the beach"
?L16:	PRINTR "[RIDX: 5954]"
?L13:	EQUAL? PRSA,V?TOUCH,V?SQUEEZE,V?SHAKE /?L18
	EQUAL? PRSA,V?KNOCK,V?HIT,V?MUNG /?L18
	EQUAL? PRSA,V?CUT,V?RIP,V?KICK /?L18
	EQUAL? PRSA,V?TURN,V?PUSH,V?PULL /?L18
	EQUAL? PRSA,V?MOVE,V?PUSH-TO,V?REACH-IN /?L18
	EQUAL? PRSA,V?TAKE \?L17
?L18:	EQUAL? PRSI,0,HANDS \?L17
	ZERO? IN-DORY? \?L19
	GRTR? STICKS,4 \?L19
	CALL1 CANT-FROM-HERE
	RTRUE
?L19:	EQUAL? PRSA,V?KICK /?L22
	EQUAL? PRSI,FEET \?L21
?L22:	PRINTI "Your foot"
	JUMP ?L24
?L21:	EQUAL? PRSI,0,HANDS \?L23
	PRINTI "Your hand"
	JUMP ?L24
?L23:	CALL1 CTHEI-PRINT
?L24:	PRINTR "[RIDX: 5957]"
?L17:	EQUAL? PRSA,V?WAVE-AT,V?BOW \?L25
	PRINT ONE-SHADE
	PRINTR "sadly mimics you."
?L25:	EQUAL? PRSA,V?KISS \?L26
	PRINT ONE-SHADE
	PRINTR "[RIDX: 5959]"
?L26:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L27
	PRINT ONE-SHADE
	PRINTI "turns at the "
	PRINTD SOUND
	PRINTI "[RIDX: 5961]"
	CRLF
	RETURN 2
?L27:	EQUAL? PRSA,V?WATCH \FALSE
	CALL2 I-STYX,0
	RTRUE

	.FUNCT STYX-F
	CALL NOUN-USED?,W?STYX,W?ACHERON >STACK
	ZERO? STACK /?L1
	FSET? STYX,CHILLY /?L1
	FSET STYX,CHILLY
	CALL2 VOICE-MUTTERS,STR?422
?L1:	ZERO? NOW-PRSI? /?L4
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL1 VANISH
	PRINTI "Splash! "
	CALL1 CTHE-PRINT
	EQUAL? PRSO,OCRANE,BAD-CRANE /?L10
	EQUAL? PRSO,PARASOL \?L8
	FSET? PRSO,OPENED \?L8
?L10:	PRINTI " floats away across "
	JUMP ?L11
?L8:	PRINTI " disappears into "
?L11:	PRINTR "the dark water."
?L4:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L13
	CALL1 V-LOOK
	RTRUE
?L13:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L14
	CALL1 OPAQUE-WATER
	RTRUE
?L14:	CALL1 NOT-CLEAN? >STACK
	ZERO? STACK \TRUE
	CALL1 DO-WATER? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT MBOX-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?THROW \FALSE
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5970]"
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L6
	FSET? PRSO,OPENED \?L7
	CALL1 LOOK-IN-MBOX
	RTRUE
?L7:	CALL1 ITS-CLOSED
	RTRUE
?L6:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH \?L10
	FSET? PRSO,OPENED \?L11
	CALL2 ITS-ALREADY,STR?70
	RTRUE
?L11:	CALL1 SWING-BOX
	RTRUE
?L10:	EQUAL? PRSA,V?CLOSE \?L14
	FSET? PRSO,OPENED \?L15
	CALL1 SWING-BOX
	RTRUE
?L15:	CALL2 ITS-ALREADY,STR?71
	RTRUE
?L14:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL FIRMLY-ATTACHED,PRSO,WALLS
	RTRUE

	.FUNCT LOOK-IN-MBOX
	PRINTI "A "
	PRINTD TSWITCH
	PRINTI " and a "
	PRINTD IBUTTON
	PRINTR " are mounted inside."

	.FUNCT SWING-BOX
	PRINTI "You swing the box "
	FSET? PRSO,OPENED \?L1
	FCLEAR PRSO,OPENED
	PRINTR "shut."
?L1:	FSET PRSO,OPENED
	PRINTI "open"
	PRINT PCR
	CALL1 LOOK-IN-MBOX
	RTRUE

	.FUNCT TSWITCH-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L1
	CALL1 CTHE-PRINT
	PRINTI " is turned "
	FSET? PRSO,OPENED \?L3
	PRINTI "off"
	JUMP ?L5
?L3:	PRINTI "on"
?L5:	PRINT PTHE
	PRINTR "[RIDX: 5983]"
?L1:	EQUAL? PRSA,V?LAMP-OFF,V?OPEN,V?OPEN-WITH /?L7
	EQUAL? PRSA,V?RAISE,V?PULL \?L6
?L7:	EQUAL? PRSI,0,HANDS \?L6
	FSET? PRSO,OPENED \?L8
	CALL1 ALREADY-SWITCHED
	RTRUE
?L8:	CALL1 FLIP-SWITCH
	RTRUE
?L6:	EQUAL? PRSA,V?LAMP-ON,V?CLOSE,V?PUSH /?L12
	EQUAL? PRSA,V?LOWER \?L11
?L12:	EQUAL? PRSI,0,HANDS \?L11
	FSET? PRSO,OPENED \?L13
	CALL1 FLIP-SWITCH
	RTRUE
?L13:	CALL1 ALREADY-SWITCHED
	RTRUE
?L11:	EQUAL? PRSA,V?TURN,V?USE,V?TOUCH /?L17
	EQUAL? PRSA,V?MOVE \?L16
?L17:	EQUAL? PRSI,0,HANDS \?L16
	CALL1 FLIP-SWITCH
	RTRUE
?L16:	CALL1 HANDLE-SWITCH? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT FLIP-SWITCH
	PRINTI "You turn "
	FSET? TSWITCH,OPENED \?L1
	FCLEAR TSWITCH,OPENED
	PRINTI "on"
	JUMP ?L3
?L1:	FSET TSWITCH,OPENED
	PRINTI "off"
?L3:	PRINTI " the "
	PRINTD TSWITCH
	PRINTI ".

The "
	PRINTD SPEAKER
	PRINTI "[RIDX: 5989]"
	FSET? TSWITCH,OPENED \?L4
	PRINTR "falls silent."
?L4:	PRINTR "a steady hiss."

	.FUNCT ALREADY-SWITCHED
	CALL1 CTHE-PRINT
	PRINTI " is already turned o"
	FSET? PRSO,OPENED \?L1
	PRINTR "ff."
?L1:	PRINTR "n."

	.FUNCT GENERIC-BUTTON-F,TABLE
	EQUAL? P-IT-OBJECT,WBUTTON,WTK,ANTENNA /?L3
	EQUAL? P-IT-OBJECT,WSWITCH,SLIDER \?L1
?L3:	RETURN WBUTTON
?L1:	EQUAL? P-IT-OBJECT,IBUTTON,MBOX \?L4
	RETURN IBUTTON
?L4:	EQUAL? P-IT-OBJECT,OBUTTON \FALSE
	RETURN P-IT-OBJECT

	.FUNCT BUTTON-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L1
	CALL1 CTHE-PRINT
	PRINTR " isn't labeled."
?L1:	EQUAL? PRSA,V?LAMP-OFF,V?LAMP-ON,V?OPEN /?L4
	EQUAL? PRSA,V?OPEN-WITH,V?CLOSE \?L3
?L4:	EQUAL? PRSI,0,HANDS \?L3
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 5998]"
?L3:	EQUAL? PRSA,V?PUSH,V?TOUCH,V?MOVE /?L6
	EQUAL? PRSA,V?USE,V?LOWER \?L5
?L6:	EQUAL? PRSI,0,HANDS \?L5
	SET 'P-THEM-OBJECT,SDOORS
	PRINTI "You push the "
	PRINTD PRSO
	PRINTI "[RIDX: 6000]"
	FSET? SDOORS,OPENED \?L7
	FCLEAR SDOORS,OPENED
	PRINTR "shut."
?L7:	FSET SDOORS,OPENED
	PRINTR "open."
?L5:	CALL1 HANDLE-SWITCH? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT HANDLE-SWITCH?
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?TAKE,V?LOOSEN,V?UNSCREW /?L4
	EQUAL? PRSA,V?UNSCREW-FROM \?L3
?L4:	CALL FIRMLY-ATTACHED,PRSO,WALLS
	RTRUE
?L3:	EQUAL? PRSA,V?MUNG,V?KICK,V?CUT /?L6
	EQUAL? PRSA,V?RIP,V?SHAKE \FALSE
?L6:	PRINTI "These military "
	PRINTD TSWITCH
	PRINTR "[RIDX: 6004]"

	.FUNCT SDOORS-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	PRINTI "The"
	CALL2 OPEN-CLOSED,PRSO
	PRINTR "[RIDX: 6007]"
?L3:	EQUAL? PRSA,V?LOOK-BEHIND,V?LOOK-INSIDE,V?LOOK-OUTSIDE \?L4
	FSET? PRSO,OPENED \?L5
	CALL1 CANT-SEE-MUCH
	RTRUE
?L5:	CALL1 ITS-CLOSED
	RTRUE
?L4:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH \?L10
	EQUAL? PRSI,0,HANDS \?L10
	FSET? PRSO,OPENED \?L12
?L10:	EQUAL? PRSA,V?CLOSE \?L11
	EQUAL? PRSI,0,HANDS \?L11
	FSET? PRSO,OPENED /?L12
?L11:	EQUAL? PRSA,V?MOVE,V?PUSH,V?PULL /?L12
	EQUAL? PRSA,V?LOOSEN,V?SHAKE \FALSE
?L12:	CALL1 PRSO-TOO-BIG
	RTRUE

	.FUNCT SPEAKER-F
	EQUAL? PRSA,V?LISTEN \?L1
	FSET? TSWITCH,OPENED /?L1
	CALL1 CTHE-PRINT
	CALL2 PICK-NEXT,HISSES >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L1:	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE \?L4
	EQUAL? HERE,AT-SDOORS \?L5
	PRINTI "It's an ordinary "
	PRINTD PRSO
	PRINTR "[RIDX: 6010]"
?L5:	CALL1 CANT-SEE-MUCH
	RTRUE
?L4:	EQUAL? HERE,ON-SCAFFOLD \?L8
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L8
	CALL1 CANT-FROM-HERE
	RTRUE
?L8:	EQUAL? PRSA,V?LAMP-ON,V?LAMP-OFF \?L9
	CALL1 HOW?
	RTRUE
?L9:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL FIRMLY-ATTACHED,PRSO,WALLS
	RTRUE

	.FUNCT LSPEAKERS-F,STR
	EQUAL? PRSA,V?LISTEN \?L1
	FSET? TSWITCH,OPENED /?L1
	CALL1 CTHE-PRINT
	PRINTR " click and hiss."
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH /?L4
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
?L4:	CALL2 CANT-REACH,LSPEAKERS
	RTRUE

	.FUNCT ESHED-F,IN=0
	EQUAL? HERE,AT-SDOORS,ON-SCAFFOLD \?L1
	SET 'IN,1
?L1:	EQUAL? PRSA,V?EXAMINE \?L4
	ZERO? IN \?L6
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6016]"
?L6:	CALL1 V-LOOK
	RTRUE
?L4:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L9
	EQUAL? HERE,SSAND \?L10
	FSET? SDOORS,OPENED \?L12
	CALL1 CANT-SEE-MUCH
	RTRUE
?L12:	CALL2 ITS-CLOSED,SDOORS
	RTRUE
?L10:	ZERO? IN \?L15
	CALL1 CANT-FROM-HERE
	RTRUE
?L15:	CALL1 V-LOOK
	RTRUE
?L9:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L17
	ZERO? IN \?L18
	CALL2 DO-WALK,P?IN
	RTRUE
?L18:	CALL1 ALREADY-IN
	RTRUE
?L17:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	ZERO? IN \?L22
	CALL1 NOT-IN
	RTRUE
?L22:	CALL2 DO-WALK,P?SOUTH
	RTRUE

	.FUNCT LAGOON-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	IN? FLIPPER,HERE \?L5
	PRINTI "You throw "
	CALL1 THE-PRINT
	PRINTI " out over the "
	PRINTD PRSI
	PRINT PERIOD
	CALL1 THROW-PRSO-AT-FLIPPER
	RTRUE
?L5:	CALL1 VANISH
	CALL1 CTHE-PRINT
	EQUAL? PRSO,OCRANE,BAD-CRANE /?L10
	EQUAL? PRSO,PARASOL \?L8
	FSET? PRSO,OPENED \?L8
?L10:	PRINTI "[RIDX: 6021]"
	PRINTD PRSI
	PRINTI "; it's soon"
	PRINT OUTASITE
	RTRUE
?L8:	PRINTR "[RIDX: 6023]"
?L1:	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L13
	PRINTR "[RIDX: 6024]"
?L13:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-ON,V?SEARCH /?L15
	EQUAL? PRSA,V?LOOK-BEHIND \?L14
?L15:	PRINTI "[RIDX: 6025]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L14:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L18
	EQUAL? PRSA,V?SWIM,V?DIVE,V?CROSS /?L18
	EQUAL? PRSA,V?CLIMB-OVER,V?CLIMB-ON,V?LIE-DOWN /?L18
	EQUAL? PRSA,V?SIT \?L16
?L18:	EQUAL? HERE,WSAND \?L19
	CALL2 DO-WALK,P?WEST
	RTRUE
?L19:	CALL1 LAGOON-SWIMMING
	RTRUE
?L16:	CALL1 EXITING? >STACK
	ZERO? STACK /?L22
	CALL1 NOT-IN
	RTRUE
?L22:	EQUAL? PRSA,V?TOUCH,V?KISS,V?REACH-IN /?L24
	EQUAL? PRSA,V?SHAKE,V?SQUEEZE,V?KICK \?L23
?L24:	EQUAL? PRSI,0,HANDS \?L23
	PRINTR "[RIDX: 6026]"
?L23:	EQUAL? PRSA,V?DRINK,V?DRINK-FROM,V?TASTE \?L25
	PRINTI "Ugh! Too salty."
	CRLF
	CALL2 PRINT-ID,STR?423
	RTRUE
?L25:	EQUAL? PRSA,V?EAT,V?BITE \?L26
	CALL2 PRINT-ID,STR?424
	CALL1 IMPOSSIBLE
	RTRUE
?L26:	EQUAL? PRSA,V?SMELL \?L27
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6030]"
?L27:	EQUAL? PRSA,V?LISTEN \?L28
	PRINTR "[RIDX: 6031]"
?L28:	EQUAL? PRSA,V?FOLLOW \FALSE
	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT ISLAND-F
	FSET? ISLAND,CHILLY /?L1
	CALL NOUN-USED?,W?ELUGELAB,W?ENIWETOK >STACK
	ZERO? STACK /?L1
	FSET ISLAND,CHILLY
	CALL2 VOICE-MUTTERS,STR?425
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH \?L4
	CALL1 V-LOOK
	RTRUE
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L7
	EQUAL? PRSA,V?STAND-ON,V?CLIMB-ON \?L6
?L7:	CALL ALREADY-IN,PRSO,1
	RTRUE
?L6:	CALL1 EXITING? >STACK
	ZERO? STACK \?L10
	EQUAL? PRSA,V?CROSS,V?FOLLOW,V?CLIMB-DOWN /?L10
	EQUAL? PRSA,V?CLIMB-UP \FALSE
?L10:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT IN-ISLET,CONTEXT=0
	EQUAL? CONTEXT,M-CONT \FALSE
	EQUAL? PRSA,V?WALK-TO,V?SWIM \?L3
	EQUAL? HERE,WSAND \?L3
	CALL2 DO-WALK,P?WEST
	RTRUE
?L3:	EQUAL? PRSA,V?THROW,V?THROW-OVER /FALSE
	INTBL? PRSA,SEEVERBS,NSVERBS >STACK /FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT ISLET-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L3
	EQUAL? PRSA,V?SEARCH,V?WATCH \?L1
?L3:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6037]"
	PRINTD CTREE
	PRINTI "[RIDX: 6038]"
	PRINTD PRSO
	IN? COCO,PRSO \?L4
	PRINTI ". There's a "
	PRINTD COCO
	PRINTI "[RIDX: 6040]"
?L4:	PRINT PERIOD
	RTRUE
?L1:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L9
	EQUAL? PRSA,V?SWIM,V?DIVE,V?FOLLOW /?L9
	EQUAL? PRSA,V?CROSS,V?CLIMB-ON,V?CLIMB-UP /?L9
	EQUAL? PRSA,V?CLIMB-OVER \?L7
?L9:	CALL2 DO-WALK,P?WEST
	RTRUE
?L7:	CALL1 EXITING? >STACK
	ZERO? STACK /?L10
	CALL NOT-IN,PRSO,1
	RTRUE
?L10:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT CTREE-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?THROW,V?THROW-OVER \FALSE
	CALL PERFORM,PRSA,PRSO,LAGOON
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L7
	EQUAL? PRSA,V?SEARCH \?L6
?L7:	PRINTI "[RIDX: 6042]"
	PRINTD NUTS
	PRINT PERIOD
	RTRUE
?L6:	INTBL? PRSA,SEEVERBS,NSVERBS >STACK /FALSE
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT NUTS-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?THROW,V?THROW-OVER \FALSE
	CALL PERFORM,PRSA,PRSO,LAGOON
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L6
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6044]"
?L6:	INTBL? PRSA,SEEVERBS,NSVERBS >STACK /FALSE
	EQUAL? PRSA,V?WALK-TO,V?SWIM \?L8
	CALL2 DO-WALK,P?WEST
	RTRUE
?L8:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT GENERIC-COCO-F,TBL
	LOC COCO >STACK
	ZERO? STACK /?L1
	RETURN COCO
?L1:	RETURN OCOCO

	.FUNCT DESCRIBE-COCO,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "A "
	PRINTD COCO
	PRINTI " is floating in the "
	PRINTD LAGOON
	PRINTC 46
	RTRUE

	.FUNCT COCO-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?THROW,V?THROW-OVER \FALSE
	FSET? PRSI,TRYTAKE \FALSE
	CALL PERFORM,PRSA,PRSO,LAGOON
	RTRUE
?L1:	FSET? COCO,TRYTAKE \?L6
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L6
	INTBL? PRSA,HURTVERBS,NHVERBS >STACK \?L6
	PRINT CANT
	PRINTI "reach the "
	PRINTD COCO
	PRINTR " from here."
?L6:	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L8
	CALL1 CTHE-PRINT
	IN? PRSO,ISLET \?L9
	PRINTI " under the tree"
	JUMP ?L11
?L9:	FSET? PRSO,CHILLY \?L11
	PRINTI "[RIDX: 6053]"
?L11:	PRINTR "[RIDX: 6054]"
?L8:	EQUAL? PRSA,V?CUT,V?RIP,V?HIT /?L14
	EQUAL? PRSA,V?MUNG,V?OPEN,V?OPEN-WITH \?L13
?L14:	EQUAL? PRSI,0,HANDS,FEET \?L15
	CALL1 BEST-KARATE
	RTRUE
?L15:	EQUAL? PRSI,AXE,LUMP,SPADE \?L17
	IN? PRSO,PLAYER \?L18
	PRINTI "While holding the "
	PRINTD PRSO
	PRINTI "? Unwise."
	CRLF
	CALL2 PRINT-ID,STR?426
	RTRUE
?L18:	LOC PRSO >STACK
	MOVE OCOCO,STACK
	LOC OCOCO >STACK
	MOVE MILK,STACK
	REMOVE PRSO
	SET 'P-IT-OBJECT,OCOCO
	SET 'DRIBBLE,3
	CALL QUEUE,I-MILK,-1
	PRINTI "You deal the "
	PRINTD PRSO
	PRINTI " a mortal blow with "
	CALL1 THEI-PRINT
	PRINT PCR
	CALL1 SAY-MILK
	CALL1 UPDATE-SCORE
	RTRUE
?L17:	EQUAL? PRSA,V?HIT \?L21
	CALL1 DULL-THUD
	RTRUE
?L21:	CALL NOT-LIKELY,PRSI,STR?427
	RTRUE
?L13:	EQUAL? PRSA,V?SHAKE \FALSE
	PRINTR "[RIDX: 6061]"

	.FUNCT SAY-MILK
	SET 'P-IT-OBJECT,MILK
	PRINTI "Pale "
	PRINTD MILK
	PRINTR "[RIDX: 6063]"

	.FUNCT OCOCO-F,M=0
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?EMPTY-INTO \FALSE
	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,1 \?L5
	CALL1 NARROW-OCOCO
	RTRUE
?L5:	ZERO? DRIBBLE /?L7
	CALL1 MILK-HARD
	RTRUE
?L7:	CALL1 CTHE-PRINT
	PRINTI " falls out of the "
	PRINTD PRSI
	PRINTI " and "
	CALL1 LANDS-AT-YOUR-FEET
	RTRUE
?L1:	EQUAL? PRSA,V?WATCH,V?SHAKE \?L10
	ZERO? DRIBBLE /?L10
	CALL2 I-MILK,0
	RTRUE
?L10:	EQUAL? PRSA,V?POUR,V?EMPTY \?L11
	ZERO? DRIBBLE /?L11
	CALL2 PRINT-ID,STR?428
	CALL1 KILL-MILK
	CALL1 LAST-DROPS
	RTRUE
?L11:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L13
	EQUAL? PRSA,V?SEARCH \?L12
?L13:	CALL2 CTHE-PRINT,COCO
	PRINTI "[RIDX: 6069]"
	ZERO? DRIBBLE /?L14
	PRINTI ". Pale "
	PRINTD MILK
	PRINTI " is dribbling out"
?L14:	PRINT PERIOD
	RTRUE
?L12:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L17
	ZERO? DRIBBLE /?L18
	CALL1 SAY-MILK
	RTRUE
?L18:	CALL1 CTHE-PRINT
	PRINTR " is empty."
?L17:	EQUAL? PRSA,V?REACH-IN \?L21
	ZERO? DRIBBLE /?L22
	CALL1 MILK-HARD
	RTRUE
?L22:	CALL1 NARROW-OCOCO
	RTRUE
?L21:	EQUAL? PRSA,V?CUT,V?RIP,V?HIT /?L26
	EQUAL? PRSA,V?MUNG,V?OPEN,V?OPEN-WITH \?L25
?L26:	EQUAL? PRSI,0,HANDS,FEET \?L27
	CALL1 BEST-KARATE
	RTRUE
?L27:	EQUAL? PRSI,AXE,LUMP,SPADE \?L29
	CALL1 VANISH
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5423]"
	ZERO? DRIBBLE /?L30
	CALL1 KILL-MILK
	PRINTI "[RIDX: 6074]"
	CALL2 PRINT-ID,STR?429
?L30:	PRINT PERIOD
	RTRUE
?L29:	EQUAL? PRSA,V?HIT \?L33
	CALL1 DULL-THUD
	RTRUE
?L33:	CALL NOT-LIKELY,PRSI,STR?427
	RTRUE
?L25:	EQUAL? PRSA,V?CLOSE,V?REPAIR,V?REPLACE \FALSE
	CALL1 HOW?
	RTRUE

	.FUNCT BEST-KARATE
	PRINTI "[RIDX: 6077]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT DULL-THUD
	CALL1 CTHEI-PRINT
	PRINTI " strikes the "
	PRINTD COCO
	PRINTI "[RIDX: 6079]"
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINTR " happens."

	.FUNCT MILK-HARD
	PRINTI "The dribbling "
	PRINTD MILK
	PRINTR "[RIDX: 6082]"

	.FUNCT NARROW-OCOCO
	PRINTI "The crack in the "
	PRINTD COCO
	PRINTR " is too narrow."

	.FUNCT GENERIC-LIQUID-F,TBL
	EQUAL? HERE,IN-COTTAGE \?L1
	EQUAL? W?LIQUID,P-NAM,P-XNAM \?L1
	FSET? EMERALD,NODESC /?L1
	RETURN CWATER
?L1:	RETURN MILK

	.FUNCT MILK-F
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L1
	CALL2 I-MILK,0
	RTRUE
?L1:	EQUAL? PRSA,V?DRINK,V?DRINK-FROM,V?KISS /?L4
	EQUAL? PRSA,V?TASTE \?L3
?L4:	PRINTI "[RIDX: 6086]"
	CRLF
	CALL2 PRINT-ID,STR?430
	RTRUE
?L3:	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK /?L6
	EQUAL? PRSA,V?POUR,V?POUR-FROM \?L5
?L6:	IN? OCOCO,PLAYER \?L7
	CALL2 SPLASHES,MILK
	RTRUE
?L7:	CALL YOUD-HAVE-TO,STR?240,OCOCO
	RTRUE
?L5:	EQUAL? PRSA,V?TAKE,V?TOUCH,V?SQUEEZE /?L11
	EQUAL? PRSA,V?REACH-IN,V?SHAKE,V?PLAY /?L11
	EQUAL? PRSA,V?TOUCH,V?KICK \?L10
?L11:	CALL2 SPLASHES,MILK
	RTRUE
?L10:	EQUAL? PRSA,V?EAT,V?BITE \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT FIN-F
	FSET? FIN,SEEN /?L1
	CALL2 NOUN-USED?,W?FIN >STACK
	ZERO? STACK \?L1
	FSET FIN,SEEN
	CALL2 VOICE-MUTTERS,STR?431
?L1:	ZERO? NOW-PRSI? /?L4
	EQUAL? PRSA,V?THROW,V?THROW-OVER \FALSE
	CALL PERFORM,V?THROW,PRSO,LAGOON
	RTRUE
?L4:	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L9
	CALL2 I-FLIPPER,0
	RTRUE
?L9:	INTBL? PRSA,SEEVERBS,NSVERBS >STACK /FALSE
	CALL1 FTOUCH? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT FLIPPER-F,CONTEXT=0
	FSET FLIPPER,SEEN
	EQUAL? CONTEXT,M-WINNER \?L1
	ZERO? NOW-PRSI? \?L3
	EQUAL? PRSA,V?TAKE,V?EXAMINE,V?WATCH /?L5
	EQUAL? PRSA,V?FIND,V?FOLLOW,V?RAISE /?L5
	EQUAL? PRSA,V?PUSH-TO \?L3
?L5:	EQUAL? FLIPPER,PRSO,PRSI /?L3
	CALL2 SHOW-TO-FLIPPER,PRSO
	RETURN 2
?L3:	EQUAL? PRSA,V?GET-FOR \?L8
	EQUAL? PRSI,ME \?L8
	CALL PERFORM,V?TAKE,PRSO
	RETURN 2
?L8:	EQUAL? PRSA,V?SGET-FOR \?L11
	EQUAL? PRSO,ME \?L11
	CALL PERFORM,V?TAKE,PRSI
	RETURN 2
?L11:	CALL2 CTHE-PRINT,FLIPPER
	CALL2 PICK-NEXT,FLIP-SAYS >STACK
	PRINT STACK
	PRINT PERIOD
	RETURN 2
?L1:	FSET? FLIPPER,CHILLY /?L17
	CALL2 NOUN-USED?,W?FISH >STACK
	ZERO? STACK /?L17
	FSET FLIPPER,CHILLY
	CALL2 VOICE-MUTTERS,STR?432
	JUMP ?L18
?L17:	FSET? FLIPPER,SHADOWY /?L18
	CALL2 NOUN-USED?,W?FLIPPER >STACK
	ZERO? STACK /?L18
	FSET FLIPPER,SHADOWY
	CALL2 VOICE-MUTTERS,STR?433
?L18:	ZERO? NOW-PRSI? /?L20
	EQUAL? PRSA,V?GIVE,V?FEED,V?THROW /?L24
	EQUAL? PRSA,V?THROW-OVER \?L22
?L24:	PRINTI "You throw "
	CALL1 THE-PRINT
	PRINTI " towards the "
	PRINTD FLIPPER
	PRINT PERIOD
	CALL1 THROW-PRSO-AT-FLIPPER
	RTRUE
?L22:	EQUAL? PRSA,V?SHOW \?L25
	CALL2 CTHE-PRINT,FLIPPER
	PRINTI " looks at "
	CALL1 THE-PRINT
	EQUAL? PRSO,LUMP,AXE,LEM /?L28
	EQUAL? PRSO,SKINK,CAGE /?L28
	EQUAL? PRSO,PARASOL \?L26
	FSET? PRSO,OPENED \?L26
?L28:	PRINTR "[RIDX: 6101]"
?L26:	PRINTR "[RIDX: 6102]"
?L25:	CALL1 FTOUCH? >STACK
	ZERO? STACK /FALSE
	RTRUE
?L20:	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L32
	FCLEAR FLIPPER,SEEN
	CALL2 I-FLIPPER,0
	RTRUE
?L32:	EQUAL? PRSA,V?WAVE-AT,V?POINT-AT \?L33
	CALL2 CTHE-PRINT,FLIPPER
	PRINTR "[RIDX: 6103]"
?L33:	EQUAL? PRSA,V?TELL \?L34
	ZERO? P-CONT \FALSE
?L34:	EQUAL? PRSA,V?TELL-ABOUT,V?ASK-FOR,V?ASK-ABOUT \?L35
	EQUAL? PRSI,FLIPPER /?L35
	CALL2 SHOW-TO-FLIPPER,PRSI
	RTRUE
?L35:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L36
	CALL1 CTHE-PRINT
	CALL2 PICK-NEXT,FLIP-SAYS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L36:	EQUAL? PRSA,V?LISTEN \?L37
	CALL1 CTHE-PRINT
	RANDOM 100 >STACK
	LESS? 50,STACK /?L38
	PRINTI " whistle"
	JUMP ?L40
?L38:	PRINTI " croak"
?L40:	PRINTR "s endearingly."
?L37:	EQUAL? PRSA,V?WALK-TO,V?FOLLOW \?L41
	CALL1 V-WALK-AROUND
	RTRUE
?L41:	CALL1 FTOUCH? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT FTOUCH?
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	PRINTR "[RIDX: 6107]"

	.FUNCT SHOW-TO-FLIPPER,OBJ
	FSET FLIPPER,SEEN
	EQUAL? OBJ,INTDIR,RIGHT,LEFT \?L1
	EQUAL? P-DIRECTION,P?WEST \?L3
	EQUAL? HERE,WSAND \?L3
	FSET? COCO,TRYTAKE \?L3
	SET 'OBJ,COCO
	JUMP ?L6
?L3:	CALL2 LOOKS-INTDIR,FLIPPER
	RTRUE
?L1:	ZERO? OBJ /?L7
	CALL2 VISIBLE?,OBJ >STACK
	ZERO? STACK \?L6
?L7:	CALL2 PERPLEXED,FLIPPER
	RTRUE
?L6:	CALL2 CTHE-PRINT,FLIPPER
	EQUAL? OBJ,COCO \?L9
	FSET? OBJ,TAKEABLE /?L9
	PRINTI " sees the "
	FSET? OBJ,CHILLY /?L11
	PRINTD OBJ
	PRINTR "[RIDX: 6109]"
?L11:	FCLEAR OBJ,CHILLY
	FCLEAR OBJ,TRYTAKE
	FCLEAR OBJ,NOALL
	FSET OBJ,TAKEABLE
	PUTP OBJ,P?DESCFCN,0
	PRINTI "floating "
	PRINTD OBJ
	PRINTI "[RIDX: 6111]"
	PRINTD LAGOON
	PRINTR "[RIDX: 6112]"
?L9:	PRINTI " looks at "
	CALL2 THE-PRINT,OBJ
	PRINTR "[RIDX: 6114]"

	.FUNCT LOOKS-INTDIR,OBJ
	CALL2 CTHE-PRINT,OBJ
	PRINTI " glances in "
	PRINTD RIGHT
	PRINTR ", then back at you."

	.FUNCT THROW-PRSO-AT-FLIPPER
	FSET FLIPPER,SEEN
	CRLF
	CALL2 CTHE-PRINT,FLIPPER
	EQUAL? PRSO,LUMP,AXE,LEM /?L3
	EQUAL? PRSO,SKINK,CAGE \?L1
?L3:	CALL1 VANISH
	PRINTI " avoids the flying "
	PRINTD PRSO
	PRINTI "[RIDX: 6121]"
	PRINT PCR
	CALL1 CTHE-PRINT
	PRINTI " splashes into the "
	PRINTD LAGOON
	CALL2 PRINT-ID,STR?434
	EQUAL? PRSO,LEM,SKINK \?L4
	PRINTI "[RIDX: 6124]"
?L4:	PRINTI " and sinks"
	PRINT OUTASITE
	RTRUE
?L1:	EQUAL? PRSO,PARASOL \?L7
	FSET? PRSO,OPENED \?L7
	CALL1 VANISH
	PRINTI "[RIDX: 6126]"
	PRINTD PRSO
	PRINTI "[RIDX: 6127]"
	PRINTD PARASOL
	PRINTI " lands on the "
	PRINTD LAGOON
	PRINTI " and floats"
	PRINT OUTASITE
	RTRUE
?L7:	PRINTI " catches the flying "
	PRINTD PRSO
	PRINTR "[RIDX: 6131]"

	.FUNCT CRABS-F
	FSET CRABS,SEEN
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?GIVE,V?SHOW \?L3
	CALL1 CTHEI-PRINT
	RANDOM 100 >STACK
	LESS? 50,STACK /?L5
	PRINTR "[RIDX: 6135]"
?L5:	PRINTI "[RIDX: 6136]"
	CALL1 THE-PRINT
	PRINTR "[RIDX: 6137]"
?L3:	EQUAL? PRSA,V?THROW,V?THROW-OVER,V?PUT-ON \FALSE
	MOVE PRSO,HERE
	CALL1 CTHEI-PRINT
	PRINTI "[RIDX: 6138]"
	CRLF
	CALL2 PRINT-ID,STR?435
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L10
	FCLEAR PRSO,SEEN
	CALL2 I-CRABS,0
	RTRUE
?L10:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L11
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6140]"
	CRLF
	RETURN 2
?L11:	EQUAL? PRSA,V?CLIMB-OVER,V?CROSS,V?LEAP \?L14
	PRINTI "There are too many "
	PRINTD PRSO
	PRINTR " to do that."
?L14:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CTHE-PRINT
	PRINTI " scurry out of "
	RANDOM 100 >STACK
	LESS? 50,STACK /?L16
	PRINTR "reach."
?L16:	PRINTR "your way."

	.FUNCT CATS-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-UNDER,V?LOOK-BEHIND /?L4
	EQUAL? PRSA,V?SEARCH \?L3
?L4:	PRINTI "[RIDX: 6147]"
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINTI " among the "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?LISTEN,V?TOUCH,V?KISS /?L6
	EQUAL? PRSA,V?SQUEEZE,V?PLAY \?L5
?L6:	PRINTI "[RIDX: 6149]"
	PRINTD SOUND
	PRINT PERIOD
	CALL2 PRINT-ID,STR?436
	RTRUE
?L5:	EQUAL? PRSA,V?TAKE,V?PICK,V?PULL /?L8
	EQUAL? PRSA,V?LOOSEN,V?PUSH,V?MOVE /?L8
	EQUAL? PRSA,V?PUSH-TO,V?DIG,V?KILL /?L8
	EQUAL? PRSA,V?CUT,V?MUNG,V?KICK \?L7
?L8:	PRINTI "[RIDX: 6151]"
	PRINT CHANGES
	CALL2 PRINT-ID,STR?437
	RTRUE
?L7:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L10
	EQUAL? PRSA,V?STAND-UNDER \?L9
?L10:	PRINT YOURE-ALREADY
	PRINTI "surrounded by "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L9:	CALL1 EXITING? >STACK
	ZERO? STACK \?L12
	EQUAL? PRSA,V?CROSS,V?CLIMB-OVER \FALSE
?L12:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT GENERIC-CITY-F,TBL
	RETURN CITY

	.FUNCT CITY-F,S=0
	CALL2 NOUN-USED?,W?HIROSHIMA >STACK
	ZERO? STACK /?L1
	FSET? CITY,BORING /?L1
	FSET CITY,BORING
	CALL2 VOICE-MUTTERS,STR?438
	JUMP ?L3
?L1:	FSET? CITY,NOALL /?L3
	FSET? CITY,BORING \?L3
	CALL2 NOUN-USED?,W?NAGASAKI >STACK
	ZERO? STACK /?L3
	FSET CITY,NOALL
	CALL2 VOICE-MUTTERS,STR?439
?L3:	EQUAL? HERE,IN-SKY \?L5
	SET 'S,1
?L5:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-DOWN /?L10
	EQUAL? PRSA,V?SEARCH,V?LOOK-INSIDE,V?WATCH \?L8
?L10:	ZERO? S /?L11
	CALL2 I-FALLING,0
	RTRUE
?L11:	CALL1 CANT-SEE-MUCH
	RTRUE
?L8:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L14
	ZERO? S /?L15
	PRINTR "[RIDX: 6160]"
?L15:	CALL1 ALREADY-IN
	RTRUE
?L14:	CALL1 EXITING? >STACK
	ZERO? STACK \?L19
	EQUAL? PRSA,V?CROSS,V?CLIMB-OVER \?L18
?L19:	ZERO? S /?L20
	PRINTR "[RIDX: 6161]"
?L20:	CALL1 V-WALK-AROUND
	RTRUE
?L18:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	ZERO? S /?L24
	CALL1 CANT-FROM-HERE
	RTRUE
?L24:	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT DESCRIBE-SPILE,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	ZERO? IN-SAND? \?L3
	PRINTI "A child's "
	PRINTD SPILE
	PRINTI "[RIDX: 6166]"
	JUMP ?L5
?L3:	PRINTI "[RIDX: 6167]"
	PRINTD SPILE
?L5:	CALL1 LOOK-IN-SPILE
	PRINTC 46
	RTRUE

	.FUNCT SPILE-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L4
	EQUAL? PRSA,V?SEARCH,V?LOOK-DOWN \?L3
?L4:	ZERO? IN-SAND? /?L5
	PRINTI "Aside from "
	PRINTD ME
	PRINTI ", you "
	JUMP ?L7
?L5:	PRINTI "You "
?L7:	PRINTI "see "
	CALL2 PRINT-CONTENTS,PRSO
	PRINTI " in the "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?DIG,V?REACH-IN,V?LOOK-UNDER /?L9
	EQUAL? PRSA,V?LOOK-BEHIND,V?TAKE-WITH \?L8
?L9:	PRINTI "[RIDX: 6173]"
	PRINTD PRSO
	PRINTI " reveals nothing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L8:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L12
	EQUAL? PRSA,V?CLIMB-UP,V?STAND-ON,V?LEAP /?L12
	EQUAL? PRSA,V?RIDE \?L10
?L12:	ZERO? IN-SAND? \?L13
	SET 'OLD-HERE,0
	SET 'IN-SAND?,1
	PRINTI "[RIDX: 6175]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L13:	CALL1 ALREADY-IN
	RTRUE
?L10:	CALL1 EXITING? >STACK
	ZERO? STACK \?L17
	EQUAL? PRSA,V?CLIMB-DOWN \?L16
?L17:	ZERO? IN-SAND? \?L18
	CALL1 NOT-IN
	RTRUE
?L18:	SET 'OLD-HERE,0
	SET 'IN-SAND?,0
	PRINTI "[RIDX: 6176]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L16:	EQUAL? PRSA,V?PLAY,V?SIT,V?LIE-DOWN /?L22
	EQUAL? PRSA,V?STAND-UNDER,V?KICK \?L21
?L22:	PRINTI "[RIDX: 6177]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L21:	EQUAL? PRSA,V?TAKE,V?PUSH,V?MOVE /?L24
	EQUAL? PRSA,V?PULL,V?PUSH-TO,V?SQUEEZE /?L24
	EQUAL? PRSA,V?RAISE \?L23
?L24:	PRINTR "[RIDX: 6178]"
?L23:	EQUAL? PRSA,V?KNOCK /?L26
	EQUAL? PRSA,V?HIT \?L25
	EQUAL? PRSI,ROOMS,HANDS \?L25
?L26:	PRINTR "[RIDX: 6179]"
?L25:	EQUAL? PRSA,V?HIT,V?KICK \?L27
	PRINTI "Sand flies in all "
	PRINTD INTDIR
	PRINTI "s."
	CRLF
	CALL2 PRINT-ID,STR?440
	RTRUE
?L27:	EQUAL? PRSA,V?BITE,V?EAT,V?KISS \?L28
	PRINTI "[RIDX: 6183]"
	CRLF
	CALL2 PRINT-ID,STR?441
	RTRUE
?L28:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT GENERIC-DIRT-F,TBL
	RETURN SDIRT

	.FUNCT SDIRT-F
	EQUAL? PRSA,V?SEARCH,V?LOOK-INSIDE,V?LOOK-UNDER /?L3
	EQUAL? PRSA,V?DIG,V?FIND \?L1
?L3:	PRINTR "[RIDX: 6187]"
?L1:	INTBL? PRSA,SEEVERBS,NSVERBS >STACK /FALSE
	EQUAL? PRSA,V?TAKE,V?REACH-IN \?L5
	PRINTR "[RIDX: 6188]"
?L5:	CALL2 YOU-DONT-NEED,SDIRT
	RETURN 2

	.FUNCT SHELTER-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L1
	EQUAL? HERE,IN-SHELTER \?L3
	CALL1 V-LOOK
	RTRUE
?L3:	EQUAL? PRSA,V?EXAMINE \?L5
	PRINTI "[RIDX: 6190]"
	PRINTD SHELHOLE
	PRINTR " leading downward."
?L5:	CALL1 CANT-SEE-MUCH
	RTRUE
?L1:	CALL1 HANDLE-SHELTER? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT SHELHOLE-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L1
	CALL1 CTHE-PRINT
	PRINTI " leads "
	EQUAL? HERE,IN-SHELTER \?L3
	PRINTR "west."
?L3:	PRINTR "east."
?L1:	CALL1 HANDLE-SHELTER? >STACK
	ZERO? STACK \TRUE
	CALL2 HANDLE-STAIRS?,PLAYGROUND >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT HANDLE-SHELTER?,IN=0
	EQUAL? HERE,IN-SHELTER \?L1
	SET 'IN,1
?L1:	ZERO? NOW-PRSI? /?L4
	EQUAL? PRSA,V?PUT,V?THROW,V?THROW-OVER \FALSE
	ZERO? IN \?L8
	MOVE PRSO,IN-SHELTER
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 5007]"
	PRINTD SHELHOLE
	PRINT PERIOD
	RTRUE
?L8:	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L13
	EQUAL? PRSA,V?CLIMB-DOWN,V?STAND-UNDER,V?HIDE \?L12
?L13:	ZERO? IN \?L14
	CALL2 DO-WALK,P?EAST
	RTRUE
?L14:	CALL1 ALREADY-IN
	RTRUE
?L12:	CALL1 EXITING? >STACK
	ZERO? STACK \?L18
	EQUAL? PRSA,V?CLIMB-UP \FALSE
?L18:	ZERO? IN \?L19
	CALL1 NOT-IN
	RTRUE
?L19:	CALL2 DO-WALK,P?WEST
	RTRUE

	.FUNCT TEACHERS-F,CONTEXT=0
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L1
	CALL1 CTHE-PRINT
	EQUAL? MINUTES,1 \?L3
	ZERO? SECONDS /?L3
	CALL1 WATCHING-SKY
	RTRUE
?L3:	PRINTR "[RIDX: 6200]"
?L1:	EQUAL? PRSA,V?FOLLOW,V?WALK-TO \?L6
	CALL2 DO-WALK,P?SOUTH
	RTRUE
?L6:	EQUAL? PRSA,V?LISTEN \?L7
	EQUAL? MINUTES,1 /?L7
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6201]"
?L7:	CALL1 HANDLE-JAPS? >STACK
	RSTACK

	.FUNCT GENERIC-JAPS-F,TABLE
	EQUAL? P-NAM,W?GIRL,W?CHILD,W?KID /?L3
	EQUAL? P-XNAM,W?GIRL,W?CHILD,W?KID \?L1
?L3:	FSET? GIRL,NODESC \?L4
	RETURN KIDS
?L4:	RETURN GIRL
?L1:	EQUAL? P-THEM-OBJECT,KIDS,TEACHERS \FALSE
	RETURN P-THEM-OBJECT

	.FUNCT WATCHING-SKY
	PRINTR "[RIDX: 6202]"

	.FUNCT KIDS-F,CONTEXT=0
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L1
	CALL1 CTHE-PRINT
	EQUAL? MINUTES,1 \?L3
	ZERO? SECONDS /?L3
	CALL1 WATCHING-SKY
	JUMP ?L5
?L3:	PRINTI "[RIDX: 6206]"
	PRINTD DFLIES
	PRINT PERIOD
?L5:	FSET? PRSO,TOUCHED /TRUE
	FSET PRSO,TOUCHED
	GET QUOTES,HAWTHORNE >DO-WINDOW
	RETURN 2
?L1:	EQUAL? PRSA,V?FOLLOW,V?WALK-TO \?L11
	CALL2 DO-WALK,P?NORTH
	RTRUE
?L11:	EQUAL? PRSA,V?LISTEN \?L12
	EQUAL? MINUTES,1 /?L12
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6207]"
?L12:	CALL1 HANDLE-JAPS? >STACK
	RSTACK

	.FUNCT HANDLE-JAPS?
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?GIVE,V?SHOW,V?FEED \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE
?L1:	EQUAL? PRSA,V?WAVE-AT,V?POINT-AT \?L6
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6208]"
?L6:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L7
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6209]"
	CRLF
	RETURN 2
?L7:	EQUAL? PRSA,V?WALK-TO,V?FOLLOW \?L10
	CALL2 DO-WALK,P?SOUTH
	RTRUE
?L10:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT DFLIES-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L3
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6211]"
	EQUAL? HERE,PLAYGROUND \?L4
	PRINTI ", just out of the "
	PRINTD KIDS
	PRINTI "'s reach"
?L4:	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?SMELL,V?LISTEN /?L8
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L7
?L8:	CALL1 CANT-FROM-HERE
	RTRUE
?L7:	EQUAL? PRSA,V?WALK-TO,V?FOLLOW \FALSE
	CALL2 DO-WALK,P?NORTH
	RTRUE

	.FUNCT SCHOOL-F
	EQUAL? PRSA,V?EXAMINE \?L1
	PRINTI "The concrete "
	PRINTD SCHOOL
	PRINTR "[RIDX: 6216]"
?L1:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L3
	CALL1 LOOK-IN-SCHOOL
	RTRUE
?L3:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L4
	CALL2 DO-WALK,P?WEST
	RTRUE
?L4:	CALL1 EXITING? >STACK
	ZERO? STACK /?L5
	CALL1 NOT-IN
	RTRUE
?L5:	EQUAL? PRSA,V?LOOK-BEHIND,V?LOOK-OUTSIDE,V?REACH-IN \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT SCHOOL-WINDOWS-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?LOOK-BEHIND /?L3
	EQUAL? PRSA,V?SEARCH,V?USE \?L1
?L3:	CALL1 LOOK-IN-SCHOOL
	RTRUE
?L1:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L6
	EQUAL? PRSA,V?CLOSE,V?CLIMB-OVER,V?CROSS /?L6
	EQUAL? PRSA,V?REACH-IN \?L4
?L6:	CALL2 ITS-CLOSED,SCHOOL-WINDOWS
	RTRUE
?L4:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH \?L7
	CALL2 CTHE-PRINT,SCHOOL-WINDOWS
	PRINTR "[RIDX: 6218]"
?L7:	EQUAL? PRSA,V?HIT,V?MUNG,V?CUT /?L9
	EQUAL? PRSA,V?RIP,V?THROW,V?THROW-OVER \?L8
?L9:	PRINTI "Pointless vandalism"
	CALL2 PRINT-ID,STR?442
	CALL1 WONT-HELP
	RTRUE
?L8:	CALL1 EXITING? >STACK
	ZERO? STACK /?L10
	CALL2 NOT-IN,SCHOOL
	RTRUE
?L10:	EQUAL? PRSA,V?LOOK-OUTSIDE \FALSE
	PRINT YOURE-ALREADY
	PRINTR "outside."

	.FUNCT DECOR-F
	EQUAL? PRSA,V?EXAMINE \?L1
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6223]"
?L1:	EQUAL? PRSA,V?READ,V?LOOK-ON \?L3
	PRINTI "[RIDX: 6224]"
	PRINTD DECOR
	PRINTR "[RIDX: 6225]"
?L3:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT LOOK-IN-SCHOOL
	PRINTI "A "
	PRINTD CCLOCK
	PRINTI "[RIDX: 6227]"
	PRINTD SCHOOL-WINDOWS
	PRINT PERIOD
	RTRUE

	.FUNCT CCLOCK-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ /?L3
	EQUAL? PRSA,V?LOOK-INSIDE \?L1
?L3:	CALL1 CTHE-PRINT
	CALL1 TELL-TIME
	RTRUE
?L1:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT GENERIC-CLOCK-F,TABLE
	EQUAL? W?CLOCK,P-NAM,P-XNAM \?L1
	RETURN CCLOCK
?L1:	RETURN WRISTWATCH

	.FUNCT SWINGS-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?PUT-ON \FALSE
	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L6
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6230]"
	CALL1 BACK-AND-FORTH
	CRLF
	RTRUE
?L6:	EQUAL? PRSA,V?TOUCH,V?PUSH,V?PULL /?L8
	EQUAL? PRSA,V?MOVE,V?KICK,V?PUSH-TO /?L8
	EQUAL? PRSA,V?KNOCK,V?SHAKE,V?HIT /?L8
	EQUAL? PRSA,V?SWING,V?RAISE,V?LOWER \?L7
?L8:	PRINTR "[RIDX: 6231]"
?L7:	EQUAL? PRSA,V?ENTER,V?SIT,V?RIDE /?L10
	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-UP \?L9
?L10:	PRINTI "These "
	PRINTD PRSO
	PRINTR "[RIDX: 6233]"
?L9:	EQUAL? PRSA,V?STAND-ON,V?LIE-DOWN \FALSE
	PRINTI "Acrobatics"
	CALL1 WONT-HELP
	RTRUE

	.FUNCT BACK-AND-FORTH
	PRINTI "[RIDX: 6235]"
	RTRUE

	.FUNCT PLANES-F
	FSET? PLANES,SEEN /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	EQUAL? PRSA,V?LISTEN \?L5
	CALL2 I-NAGASAKI,0
	RTRUE
?L5:	SET 'P-IT-OBJECT,PLANES
	EQUAL? PRSA,V?EXAMINE,V?LOOK-UP,V?COUNT /?L9
	EQUAL? PRSA,V?FIND,V?FOLLOW \?L7
?L9:	FSET? HERE,INDOORS \?L10
	CALL1 CANT-FROM-HERE
	RTRUE
?L10:	PRINTI "[RIDX: 6238]"
	PRINTD PRSO
	PRINTR "[RIDX: 6239]"
?L7:	EQUAL? PRSA,V?WALK-TO,V?FOLLOW \?L13
	CALL1 V-WALK-AROUND
	RTRUE
?L13:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH,V?READ /?L15
	EQUAL? PRSA,V?LOOK-BEHIND /?L15
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
?L15:	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT DSTRUCT-F
	FSET? HERE,INDOORS /?L4
	EQUAL? HERE,IN-CRATER,SWPATH,SEPATH /?L4
	EQUAL? HERE,ARBORETUM \?L1
?L4:	PRINT CANT
	PRINTI "see the "
	PRINTD DSTRUCT
	PRINTI " from here."
	CRLF
	RETURN 2
?L1:	EQUAL? PRSA,V?WALK-TO,V?ENTER,V?FOLLOW /?L8
	EQUAL? PRSA,V?CLIMB-ON,V?STAND-ON \?L7
?L8:	CALL1 V-WALK-AROUND
	RTRUE
?L7:	CALL1 EXITING? >STACK
	ZERO? STACK \?L10
	EQUAL? PRSA,V?CLIMB-DOWN,V?LEAP \?L9
?L10:	CALL NOT-IN,DSTRUCT,1
	RTRUE
?L9:	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L11
	PRINTI "Its dark edge"
	PRINT RAZOR
	PRINT PERIOD
	RTRUE
?L11:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L13
	INTBL? PRSA,SEEVERBS,NSVERBS >STACK \FALSE
?L13:	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT SUMMIT-F,ON=0
	EQUAL? HERE,ON-HILL \?L1
	SET 'ON,1
?L1:	EQUAL? PRSA,V?EXAMINE,V?SEARCH,V?LOOK-UP \?L4
	ZERO? ON \?L6
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6246]"
	EQUAL? HERE,IN-MEADOW \?L8
	PRINTR "north."
?L8:	EQUAL? HERE,SBOG \?L10
	PRINTI "south"
?L10:	CALL1 SAY-WEST
	PRINT PERIOD
	RTRUE
?L6:	CALL1 V-LOOK
	RTRUE
?L4:	EQUAL? PRSA,V?LOOK-DOWN,V?LOOK-BEHIND \?L13
	ZERO? ON \?L14
	CALL1 CANT-FROM-HERE
	RTRUE
?L14:	CALL1 V-LOOK
	RTRUE
?L13:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L19
	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-UP,V?CLIMB-OVER /?L19
	EQUAL? PRSA,V?CROSS,V?STAND-ON \?L17
?L19:	ZERO? ON \?L20
	EQUAL? HERE,IN-MEADOW \?L22
	PUSH P?NORTH
	JUMP ?L25
?L22:	EQUAL? HERE,FCLEARING \?L24
	PUSH P?WEST
	JUMP ?L25
?L24:	PUSH P?SW
?L25:	CALL2 DO-WALK,STACK
	RTRUE
?L20:	CALL ALREADY-IN,PRSO,1
	RTRUE
?L17:	CALL1 EXITING? >STACK
	ZERO? STACK \?L28
	EQUAL? PRSA,V?CLIMB-DOWN \?L27
?L28:	ZERO? ON \?L29
	CALL NOT-IN,SUMMIT,1
	RTRUE
?L29:	CALL1 V-WALK-AROUND
	RTRUE
?L27:	ZERO? ON \FALSE
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT SPADE-F
	EQUAL? PRSA,V?EXAMINE \FALSE
	PRINTR "[RIDX: 6251]"

	.FUNCT PEE-F
	EQUAL? HERE,IN-SHELTER /?L1
	CALL2 NOUN-USED?,W?URINE >STACK
	ZERO? STACK /?L3
	CALL1 CANT-SEE-ANY
	RTRUE
?L3:	CALL1 CRUDITY
	RETURN 2
?L1:	EQUAL? PRSA,V?SMELL,V?INHALE \?L8
	PRINTI "[RIDX: 6253]"
	PRINTD PRSO
	PRINTI " smells like."
	CRLF
	CALL2 PRINT-ID,STR?443
	RTRUE
?L8:	EQUAL? PRSA,V?DRINK,V?DRINK-FROM \?L9
	CALL1 V-RAPE
	RTRUE
?L9:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L11
	INTBL? PRSA,SEEVERBS,NSVERBS >STACK \?L10
?L11:	PRINT CANT
	PRINTI "see any "
	PRINTD PEE
	PRINTR "[RIDX: 6257]"
?L10:	CALL1 CRUDITY
	RTRUE

	.FUNCT MCRANE-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?THROW,V?THROW-OVER \FALSE
	CALL1 REPROACH
	RTRUE
?L1:	EQUAL? PRSA,V?WATCH \?L6
	CALL2 I-MCRANE,0
	RTRUE
?L6:	EQUAL? PRSA,V?EXAMINE \?L7
	PRINTI "[RIDX: 6260]"
	PRINTD CRANE
	PRINTI " you found in the "
	PRINTD RPOND
	PRINT PERIOD
	RTRUE
?L7:	EQUAL? PRSA,V?RIDE,V?CLIMB-ON,V?ENTER /?L9
	EQUAL? PRSA,V?CLIMB-UP,V?STAND-ON,V?SIT /?L9
	EQUAL? PRSA,V?LIE-DOWN,V?CLIMB-OVER \?L8
?L9:	EQUAL? HERE,ON-BIRD \?L10
	CALL ALREADY-IN,PRSO,1
	RTRUE
?L10:	SET 'IN-SAND?,0
	CALL2 DEQUEUE,I-MCRANE
	CALL2 DEQUEUE,I-GIRL
	CALL2 DEQUEUE,I-NAGASAKI
	SET 'MCOUNT,3
	CALL QUEUE,I-FLIGHT,-1
	MOVE PRSO,ON-BIRD
	FSET PRSO,NODESC
	PRINTI "[RIDX: 6262]"
	PRINTD PRSO
	PRINTI "[RIDX: 6263]"
	PRINTD VOICES
	PRINTI "[RIDX: 6264]"
	PRINTD PGROUND
	PRINTI " is far below"
	PRINT PCR
	CALL2 GOTO,ON-BIRD
	RTRUE
?L8:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L13
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6266]"
	CRLF
	RETURN 2
?L13:	CALL1 EXITING? >STACK
	ZERO? STACK \?L17
	EQUAL? PRSA,V?CLIMB-DOWN,V?LEAP \?L16
?L17:	EQUAL? HERE,ON-BIRD \?L18
	CALL1 EXIT-NAGASAKI
	RETURN 2
?L18:	CALL NOT-IN,PRSO,1
	RTRUE
?L16:	INTBL? PRSA,HURTVERBS,NHVERBS >STACK \FALSE
	CALL1 REPROACH
	RTRUE

	.FUNCT REPROACH
	PRINTI "[RIDX: 6267]"
	PRINT CHANGES
	RTRUE

	.FUNCT MOON-F
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L1
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6269]"
	PRINTD HORIZON
	PRINT PERIOD
	RTRUE
?L1:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L4
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L3
?L4:	CALL1 CANT-FROM-HERE
	RTRUE
?L3:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL NOT-IN,PRSO,1
	RTRUE

	.FUNCT GADGET-F
	CALL1 HANDLE-BOMB? >STACK
	ZERO? STACK \TRUE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \FALSE
	CALL1 SEE-GADGET-IN-MANUAL
	FSET? PRSO,SEEN /TRUE
	FSET PRSO,SEEN
	GET QUOTES,MELVILLE >DO-WINDOW
	RETURN 2

	.FUNCT SEE-GADGET-IN-MANUAL
	PRINTI "[You'll find the "
	PRINTD PRSO
	PRINTI " pictured in "
	CALL2 ITALICIZE,STR?444
	PRINTR "]"

	.FUNCT IN-X5,CONTEXT=0
	EQUAL? CONTEXT,M-CONT \FALSE
	FSET? X5,OPENED \FALSE
	CALL1 SEE-IN-X5? >STACK
	ZERO? STACK \FALSE
	PRINT CANT
	PRINTI "see anything in the "
	PRINTD X5
	PRINTR ". It's too dark."

	.FUNCT SEE-IN-X5?
	FSET? WATT,LIGHTED /TRUE
	CALL2 VISIBLE?,LAMP >STACK
	ZERO? STACK /FALSE
	FSET? LAMP,LIGHTED \FALSE
	RTRUE

	.FUNCT X5-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT \?L3
	FSET? PRSI,OPENED /?L5
	CALL2 ITS-CLOSED,APANEL
	RTRUE
?L5:	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,1 \?L7
	PRINTI "You'd never get "
	CALL1 THE-PRINT
	PRINTI " in with all those "
	PRINTD WIRES
	PRINT PERIOD
	RTRUE
?L7:	CALL1 VANISH
	CALL1 CTHE-PRINT
	PRINTI " falls between the "
	PRINTD WIRES
	PRINTI " and slides"
	PRINT OUTASITE
	RTRUE
?L3:	EQUAL? PRSA,V?PUT-ON \?L9
	PRINTI "The top of the "
	PRINTD PRSI
	PRINTI " is covered with "
	PRINTD GCABLES
	PRINT PERIOD
	RTRUE
?L9:	EQUAL? PRSA,V?POINT-AT,V?SHINE-AT \FALSE
	FSET? PRSI,OPENED \FALSE
	EQUAL? PRSO,LAMP \FALSE
	FSET? PRSO,LIGHTED \FALSE
	PRINTI "You aim the "
	PRINTD PRSO
	PRINTI " into the open "
	PRINTD PRSI
	PRINT PCR
	CALL PERFORM,V?LOOK-INSIDE,PRSI
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L12
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6288]"
	PRINTD GCABLES
	PRINTI " connected to the "
	PRINTD GADGET
	PRINTI ". An "
	PRINTD APANEL
	PRINTI " on the side is "
	FSET? PRSO,OPENED \?L13
	PRINTI "open, exposing a "
	CALL1 SEE-IN-X5? >STACK
	ZERO? STACK /?L15
	PRINTR "maze of wiring."
?L15:	PRINTR "dark interior."
?L13:	PRINTR "closed."
?L12:	CALL1 HANDLE-X5? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT HANDLE-X5?
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?CLOSE /?L4
	EQUAL? PRSA,V?SCREW-WITH \?L5
	EQUAL? PRSI,SDRIVER,KNIFE /?L4
?L5:	EQUAL? PRSA,V?COVER \?L3
	EQUAL? PRSI,APANEL \?L3
?L4:	FSET? X5,OPENED \?L6
	PRINTI "[RIDX: 6296]"
	PRINTD APANEL
	PRINTI "[RIDX: 6297]"
	PRINTD X5
	PRINTR " open."
?L6:	CALL2 ITS-ALREADY,STR?71
	RTRUE
?L3:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L9
	FSET? X5,OPENED /?L10
	CALL2 ITS-CLOSED,APANEL
	RTRUE
?L10:	EQUAL? HERE,IN-SHACK \FALSE
	CALL1 CTHE-PRINT
	PRINTI "'s interior is "
	CALL1 SEE-IN-X5? >STACK
	ZERO? STACK /?L14
	PRINTI "[RIDX: 6301]"
	PRINTD RWIRE
	PRINTI ", a "
	PRINTD BWIRE
	PRINTI ", a "
	PRINTD SWIRE
	PRINTI " and a "
	PRINTD WWIRE
	PRINT PERIOD
	RTRUE
?L14:	PRINTR "dark."
?L9:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?LOOSEN /?L18
	EQUAL? PRSA,V?UNSCREW,V?TAKE-WITH,V?TURN \FALSE
?L18:	FSET? X5,OPENED \?L19
	CALL2 ITS-ALREADY,STR?70
	RTRUE
?L19:	EQUAL? PRSI,0,HANDS \?L21
	PRINTI "You pry at the "
	PRINTD APANEL
	PRINTR "[RIDX: 6308]"
?L21:	EQUAL? PRSI,SDRIVER \?L22
	MOVE APANEL,HERE
	FCLEAR APANEL,NOALL
	FSET X5,OPENED
	FSET X5,CONTAINER
	FSET X5,OPENABLE
	CALL1 SEE-IN-X5? >STACK
	ZERO? STACK /?L23
	CALL1 GET-WIRES
?L23:	PRINTI "[RIDX: 6309]"
	PRINTD APANEL
	PRINTI ". It falls off the "
	PRINTD X5
	PRINTI "[RIDX: 6311]"
	PRINTD FLOOR
	PRINT PERIOD
	CALL2 UPDATE-SCORE,3
	RTRUE
?L22:	EQUAL? PRSI,SCOIN \?L26
	CALL1 CTHEI-PRINT
	PRINTI "[RIDX: 6312]"
	PRINTD APANEL
	PRINT PERIOD
	RTRUE
?L26:	CALL NOT-LIKELY,PRSI,STR?445
	RTRUE

	.FUNCT APANEL-F
	CALL1 HANDLE-X5? >STACK
	ZERO? STACK \TRUE
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?UNSCREW-FROM \?L4
	EQUAL? PRSI,X5 \?L5
	FSET? PRSO,NOALL \?L5
	IN? SDRIVER,PLAYER \?L7
	PRINTI "[with the "
	PRINTD SDRIVER
	PRINT BRACKET
	CALL PERFORM,V?UNSCREW,PRSO,SDRIVER
	RTRUE
?L7:	CALL PERFORM,V?UNSCREW,PRSO,HANDS
	RTRUE
?L5:	CALL1 CTHE-PRINT
	PRINTI " isn't attached to "
	CALL1 THEI-PRINT
	PRINT PERIOD
	RTRUE
?L4:	FSET? APANEL,NOALL \FALSE
	EQUAL? PRSA,V?EXAMINE \?L12
	CALL1 CTHE-PRINT
	PRINTI " is attached to the "
	PRINTD X5
	PRINTR " with four screws."
?L12:	EQUAL? PRSA,V?LOOK-UNDER,V?LOOK-BEHIND \?L13
	CALL1 ITS-CLOSED
	RTRUE
?L13:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL FIRMLY-ATTACHED,PRSO,X5
	RTRUE

	.FUNCT GET-WIRES
	FSET WATT,TOUCHED
	MOVE RWIRE,X5
	MOVE BWIRE,X5
	MOVE WWIRE,X5
	MOVE SWIRE,X5
	MOVE WIRES,X5
	RTRUE

	.FUNCT WATT-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	PRINTI "[RIDX: 6322]"
	FSET? PRSO,LIGHTED \?L4
	PRINTI "[RIDX: 6323]"
	PRINTD DSHADOW
	PRINTI "[RIDX: 6324]"
?L4:	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?LAMP-ON,V?LIGHT-WITH \?L7
	EQUAL? PRSI,0,HANDS \?L7
	FSET? PRSO,LIGHTED \?L8
	CALL2 ITS-ALREADY,STR?446
	RTRUE
?L8:	CALL1 SWITCH-WATT
	RTRUE
?L7:	EQUAL? PRSA,V?LAMP-OFF \?L11
	FSET? PRSO,LIGHTED \?L12
	CALL1 SWITCH-WATT
	RTRUE
?L12:	CALL2 ITS-ALREADY,STR?447
	RTRUE
?L11:	EQUAL? PRSA,V?PULL,V?LOWER \?L15
	CALL1 SWITCH-WATT
	RTRUE
?L15:	EQUAL? PRSA,V?PUSH,V?SWING,V?SHAKE /?L17
	EQUAL? PRSA,V?TOUCH \?L16
?L17:	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6327]"
?L16:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L18
	EQUAL? PRSI,0,HANDS \?L18
	FSET? PRSO,LIGHTED \?L18
	PRINTI "Ouch! It's hot."
	CRLF
	CALL2 PRINT-ID,STR?448
	RTRUE
?L18:	EQUAL? PRSA,V?TAKE,V?UNSCREW,V?TURN /?L20
	EQUAL? PRSA,V?TAKE-WITH \?L19
?L20:	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6330]"
?L19:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT SWITCH-WATT
	PRINTI "[RIDX: 6331]"
	FSET? WATT,LIGHTED \?L1
	FCLEAR WATT,LIGHTED
	PRINTI "goes out"
	JUMP ?L3
?L1:	FSET? X5,OPENED \?L4
	FSET? WATT,TOUCHED /?L4
	CALL1 GET-WIRES
?L4:	FSET WATT,LIGHTED
	PRINTI "begins to glow"
?L3:	PRINT PERIOD
	RTRUE

	.FUNCT GENERIC-WIRE-F,TABLE,LEN
	EQUAL? P-NAM,W?POS,W?POSITIVE,W?PLUS /?L3
	EQUAL? P-NAM,W?GND,W?GROUND,W?DET /?L3
	EQUAL? P-NAM,W?DETONATOR,W?INF,W?INFORMER /?L3
	EQUAL? P-XNAM,W?POS,W?POSITIVE,W?PLUS /?L3
	EQUAL? P-XNAM,W?GND,W?GROUND,W?DET /?L3
	EQUAL? P-XNAM,W?DETONATOR,W?INF,W?INFORMER \?L1
?L3:	PRINTI "[RIDX: 6339]"
	CRLF
	RETURN NOT-HERE-OBJECT
?L1:	GET TABLE,0 >LEN
	ZERO? LEN /FALSE
	ADD TABLE,1 >STACK
	INTBL? P-IT-OBJECT,STACK,LEN >STACK \FALSE
	RETURN P-IT-OBJECT

	.FUNCT WIRE-F,WIN?=0
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?TAKE,V?UNPLUG,V?PULL /?L4
	EQUAL? PRSA,V?MOVE,V?TURN,V?RAISE /?L4
	EQUAL? PRSA,V?LOWER \?L3
?L4:	CALL1 PULL-ON-WIRE
	RTRUE
?L3:	EQUAL? PRSA,V?CUT,V?RIP,V?MUNG \FALSE
	EQUAL? PRSI,HANDS \?L6
	CALL1 PULL-ON-WIRE
	RTRUE
?L6:	EQUAL? PRSI,KNIFE \?L8
	ZERO? XWIRE /?L12
	LESS? MINUTES,29 /?L12
	EQUAL? PRSO,RWIRE \?L14
	GET WIRE-TYPES,0 >STACK
	EQUAL? XWIRE,STACK /?L13
?L14:	EQUAL? PRSO,BWIRE \?L15
	GET WIRE-TYPES,1 >STACK
	EQUAL? XWIRE,STACK /?L13
?L15:	EQUAL? PRSO,SWIRE \?L16
	GET WIRE-TYPES,2 >STACK
	EQUAL? XWIRE,STACK /?L13
?L16:	EQUAL? PRSO,WWIRE \?L12
	GET WIRE-TYPES,3 >STACK
	EQUAL? XWIRE,STACK \?L12
?L13:	CALL UPDATE-SCORE,5,0
	CRLF
	SET 'WIN?,1
?L12:	PRINTI "[RIDX: 6341]"
	PRINTD PRSI
	PRINTI " under the "
	PRINTD PRSO
	PRINTI "[RIDX: 6343]"
	CALL2 ITALICIZE,STR?449
	PRINTI "[RIDX: 6345]"
	PRINTD X5
	PRINTI "[RIDX: 6346]"
	PRINTD FLOOR
	PRINT PERIOD
	ZERO? WIN? /?L18
	CALL1 ENDGAME
	RETURN 2
?L18:	CALL1 HEAR-BAKER? >STACK
	ZERO? STACK /?L22
	CALL1 KSCRUB
?L22:	CALL1 POLICE-CONVERGE
	RTRUE
?L8:	EQUAL? PRSI,AXE \?L24
	CALL1 AXE-TOO-BIG
	RTRUE
?L24:	CALL NOT-LIKELY,PRSI,STR?450
	RTRUE

	.FUNCT PULL-ON-WIRE
	PRINTI "You tug on the "
	PRINTD PRSO
	PRINTR "[RIDX: 6349]"

	.FUNCT AXE-TOO-BIG
	CALL2 CTHE-PRINT,HOPENING
	PRINTI " in the "
	PRINTD X5
	PRINTI "[RIDX: 6351]"
	PRINTD HANDS
	PRINTR "[RIDX: 6352]"

	.FUNCT WIRES-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6354]"
	PRINTD X5
	PRINTI "[RIDX: 6355]"
	PRINTD RWIRE
	PRINTI ", a "
	PRINTD BWIRE
	PRINTI ", a "
	PRINTD SWIRE
	PRINTI " and a "
	PRINTD WWIRE
	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?TAKE,V?PULL,V?RAISE \?L4
	CALL1 PULL-WIRES
	RTRUE
?L4:	EQUAL? PRSA,V?CUT,V?RIP,V?MUNG /?L6
	EQUAL? PRSA,V?LOOSEN \FALSE
?L6:	EQUAL? PRSI,0,HANDS \?L7
	CALL1 PULL-WIRES
	RTRUE
?L7:	EQUAL? PRSI,AXE \?L9
	CALL1 AXE-TOO-BIG
	RTRUE
?L9:	EQUAL? PRSI,KNIFE \?L10
	CALL1 CTHEI-PRINT
	PRINTR "[RIDX: 6359]"
?L10:	CALL NOT-LIKELY,PRSO,STR?451
	RTRUE

	.FUNCT PULL-WIRES
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6361]"

	.FUNCT GCABLES-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	CALL1 SEE-GADGET-IN-MANUAL
	RTRUE
?L3:	EQUAL? PRSA,V?TAKE,V?UNPLUG,V?PULL /?L5
	EQUAL? PRSA,V?UNTIE,V?RAISE \?L4
?L5:	CALL2 VOICE-MUTTERS,STR?452
	PRINTI "You yank hard on "
	CALL1 SPARK
	RTRUE
?L4:	EQUAL? PRSA,V?CUT,V?MUNG,V?HIT \FALSE
	EQUAL? PRSI,0,HANDS,FEET \?L7
	CALL1 BEST-KARATE
	RTRUE
?L7:	EQUAL? PRSI,AXE,SPADE,KNIFE /?L10
	EQUAL? PRSI,GNOMON,LUMP \?L9
?L10:	CALL2 VOICE-MUTTERS,STR?452
	PRINTI "Your "
	PRINTD PRSI
	PRINTI " cuts deep into "
	CALL1 SPARK
	RTRUE
?L9:	CALL NOT-LIKELY,PRSI,STR?453
	RTRUE

	.FUNCT SPARK
	PRINTI "one of the "
	PRINTD PRSO
	PRINTI "[RIDX: 6370]"
	CALL1 RESULTING-BLAST
	RTRUE

	.FUNCT GBOLTS-F
	EQUAL? PRSA,V?EXAMINE \FALSE
	CALL1 SEE-GADGET-IN-MANUAL
	RTRUE

	.FUNCT GROPES-F
	EQUAL? PRSA,V?EXAMINE \?L1
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6373]"
?L1:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL2 HOPELESS-TANGLE,GROPES
	RTRUE

	.FUNCT HOPELESS-TANGLE,OBJ
	PRINTI "[RIDX: 6374]"
	PRINTD OBJ
	PRINTR "[RIDX: 6375]"

	.FUNCT HARDWARE-F
	EQUAL? PRSA,V?EXAMINE \?L1
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6377]"
	PRINTD GROPES
	PRINT PERIOD
	RTRUE
?L1:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL2 HOPELESS-TANGLE,HARDWARE
	RTRUE

	.FUNCT SHACK-F,IN=0
	EQUAL? HERE,IN-SHACK \?L1
	SET 'IN,1
?L1:	ZERO? NOW-PRSI? /?L4
	EQUAL? PRSA,V?PUT \?L6
	ZERO? IN /?L8
	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L8:	CALL PERFORM,V?PUT,PRSO,SHACK-HOLE
	RTRUE
?L6:	CALL1 TOUCH-SHACK? >STACK
	ZERO? STACK /FALSE
	RTRUE
?L4:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L13
	ZERO? IN /?L14
	CALL1 V-LOOK
	RTRUE
?L14:	EQUAL? HERE,TOWER-PLAT \?L16
	PRINTI "An "
	PRINTD CAVE-HOLE
	PRINTI " in the "
	PRINTD PRSO
	PRINTR " leads inside."
?L16:	CALL1 CANT-SEE-MUCH
	RTRUE
?L13:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L18
	ZERO? IN /?L19
	CALL1 ALREADY-IN
	RTRUE
?L19:	EQUAL? HERE,TOWER-PLAT \?L21
	CALL2 DO-WALK,P?IN
	RTRUE
?L21:	CALL YOUD-HAVE-TO,STR?454,TOWER
	RTRUE
?L18:	EQUAL? PRSA,V?LOOK-UNDER,V?LOOK-BEHIND \?L23
	EQUAL? HERE,ON-TOWER,AT-ZERO \?L24
	CALL1 V-LOOK
	RTRUE
?L24:	CALL1 CANT-FROM-HERE
	RTRUE
?L23:	CALL1 EXITING? >STACK
	ZERO? STACK /?L27
	ZERO? IN /?L28
	CALL2 DO-WALK,P?OUT
	RTRUE
?L28:	CALL1 NOT-IN
	RTRUE
?L27:	CALL1 TOUCH-SHACK? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT TOUCH-SHACK?
	EQUAL? HERE,ON-TOWER,AT-ZERO \FALSE
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT SHACK-HOLE-F,IN=0
	EQUAL? HERE,IN-SHACK \?L1
	SET 'IN,1
?L1:	ZERO? NOW-PRSI? /?L4
	EQUAL? PRSA,V?PUT \FALSE
	ZERO? IN \?L8
	PUSH IN-SHACK
	JUMP ?L10
?L8:	PUSH TOWER-PLAT
?L10:	MOVE PRSO,STACK
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6386]"
	PRINTD PRSI
	PRINT PERIOD
	RTRUE
?L4:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?LOOK-OUTSIDE /?L13
	EQUAL? PRSA,V?SEARCH \?L12
?L13:	CALL1 CTHE-PRINT
	PRINTI " opens "
	ZERO? IN \?L14
	PRINTI "east, into "
	JUMP ?L16
?L14:	PRINTI "west, out of "
?L16:	CALL2 THE-PRINT,SHACK
	PRINT PERIOD
	RTRUE
?L12:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L18
	EQUAL? PRSA,V?CLIMB-OVER,V?CROSS \?L17
?L18:	ZERO? IN \?L19
	PUSH P?EAST
	JUMP ?L21
?L19:	PUSH P?WEST
?L21:	CALL2 DO-WALK,STACK
	RTRUE
?L17:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	ZERO? IN \?L23
	CALL2 NOT-IN,SHACK
	RTRUE
?L23:	CALL2 DO-WALK,P?EAST
	RTRUE

	.FUNCT BROOM-DOOR-F
	CALL1 ONLY-ONE-DOOR? >STACK
	ZERO? STACK /FALSE
	RETURN 2

	.FUNCT ONLY-ONE-DOOR?
	CALL NOUN-USED?,W?DOORS,W?DOORWAYS >STACK
	ZERO? STACK /FALSE
	PRINTR "[RIDX: 4840]"

	.FUNCT NROOM-DOOR-F
	EQUAL? HERE,NROOM \?L1
	CALL1 ONLY-ONE-DOOR? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-BEHIND \FALSE
	CALL1 CANT-SEE-MUCH
	RTRUE

	.FUNCT LEFT-DOOR-F
	CALL1 MULTIDOOR? >STACK
	ZERO? STACK \TRUE
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?OPEN,V?OPEN-WITH \?L4
	EQUAL? PRSI,0,HANDS \?L4
	FSET? PRSO,OPENED /?L4
	FSET SEROOM-DOOR,OPENED
	RFALSE
?L4:	EQUAL? PRSA,V?CLOSE \?L5
	EQUAL? PRSI,0,HANDS \?L5
	FSET? PRSO,OPENED \?L5
	FCLEAR SEROOM-DOOR,OPENED
	RFALSE
?L5:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L6
	CALL2 DO-WALK,P?SW
	RTRUE
?L6:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 NOT-IN
	RTRUE

	.FUNCT RIGHT-DOOR-F
	CALL1 MULTIDOOR? >STACK
	ZERO? STACK \TRUE
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L4
	PRINTI "[RIDX: 6395]"
	CALL2 OPEN-CLOSED,PRSO
	PRINT PERIOD
	RTRUE
?L4:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH \?L5
	EQUAL? PRSI,0,HANDS \?L5
	FSET? PRSO,OPENED /?L5
	FSET NEROOM-DOOR,OPENED
	RFALSE
?L5:	EQUAL? PRSA,V?CLOSE \?L6
	EQUAL? PRSI,0,HANDS \?L6
	FSET? PRSO,OPENED \?L6
	FCLEAR NEROOM-DOOR,OPENED
	RFALSE
?L6:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L7
	CALL2 DO-WALK,P?NW
	RTRUE
?L7:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 NOT-IN
	RTRUE

	.FUNCT MULTIDOOR?,X
	CALL NOUN-USED?,W?DOORS,W?DOORWAYS >STACK
	ZERO? STACK /FALSE
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \?L3
	CALL2 ONE-AT-A-TIME,STR?36
	RETURN 2
?L3:	SET 'P-THEM-OBJECT,RIGHT-DOOR
	ZERO? NOW-PRSI? \?L7
	PUT P-NAMW,0,W?DOOR
	PUT P-OFW,0,0
	CALL2 CTHE-PRINT,RIGHT-DOOR
	PRINTI ": "
	CALL PERFORM,PRSA,RIGHT-DOOR,PRSI >X
	EQUAL? X,0,M-FATAL /TRUE
	CRLF
	CALL2 CTHE-PRINT,LEFT-DOOR
	PRINTI ": "
	CALL PERFORM,PRSA,LEFT-DOOR,PRSI >X
	RTRUE
?L7:	ZERO? PRSI /FALSE
	PUT P-NAMW,1,W?DOOR
	PUT P-OFW,1,0
	CALL2 CTHE-PRINT,RIGHT-DOOR
	PRINTI ": "
	CALL PERFORM,PRSA,PRSO,RIGHT-DOOR >X
	EQUAL? X,0,M-FATAL /TRUE
	CRLF
	CALL2 CTHE-PRINT,LEFT-DOOR
	PRINTI ": "
	CALL PERFORM,PRSA,PRSO,LEFT-DOOR >X
	RTRUE

	.FUNCT PORCH-DOOR-F,TABLE
	EQUAL? P-IT-OBJECT,LEFT-DOOR,RIGHT-DOOR \?L1
	RETURN P-IT-OBJECT
?L1:	EQUAL? P-NAM,W?DOORS,W?DOORWAYS \FALSE
	RETURN RIGHT-DOOR

	.FUNCT NEROOM-DOOR-F
	EQUAL? PRSA,V?OPEN,V?OPEN-WITH \?L1
	EQUAL? PRSI,0,HANDS \?L1
	FSET? PRSO,OPENED /?L1
	FSET RIGHT-DOOR,OPENED
	RFALSE
?L1:	EQUAL? PRSA,V?CLOSE \FALSE
	EQUAL? PRSI,0,HANDS \FALSE
	FSET? PRSO,OPENED \FALSE
	FCLEAR RIGHT-DOOR,OPENED
	RFALSE

	.FUNCT SEROOM-DOOR-F
	EQUAL? PRSA,V?OPEN,V?OPEN-WITH \?L1
	EQUAL? PRSI,0,HANDS \?L1
	FSET? PRSO,OPENED /?L1
	FSET LEFT-DOOR,OPENED
	RFALSE
?L1:	EQUAL? PRSA,V?CLOSE \FALSE
	EQUAL? PRSI,0,HANDS \FALSE
	FSET? PRSO,OPENED \FALSE
	FCLEAR LEFT-DOOR,OPENED
	RFALSE

	.FUNCT CLOSET-DOOR-F
	EQUAL? HERE,IN-CLOSET \?L1
	CALL1 ONLY-ONE-DOOR? >STACK
	ZERO? STACK /?L1
	RETURN 2
?L1:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH \?L5
	EQUAL? PRSI,0,HANDS \?L5
	FSET? PRSO,OPENED /?L5
	FSET PRSO,OPENED
	FSET IN-CLOSET,LIGHTED
	PRINTI "You open the "
	PRINTD PRSO
	PRINT PERIOD
	EQUAL? HERE,IN-CLOSET \TRUE
	FSET? SNAKE,LIVING \?L8
	PUTP HERE,P?ODOR,SNAKE
	PUTP HERE,P?HEAR,SNAKE
?L8:	ZERO? LIT? \TRUE
	SET 'LIT?,1
	SET 'OLD-HERE,0
	RTRUE
?L5:	EQUAL? PRSA,V?CLOSE \FALSE
	EQUAL? PRSI,0,HANDS \FALSE
	FSET? PRSO,OPENED \FALSE
	FCLEAR PRSO,OPENED
	FCLEAR IN-CLOSET,LIGHTED
	PRINTI "You close the "
	PRINTD PRSO
	PRINT PERIOD
	EQUAL? HERE,IN-CLOSET \TRUE
	PUTP HERE,P?HEAR,0
	PUTP HERE,P?ODOR,0
	CALL1 SAY-IF-HERE-LIT
	RTRUE

	.FUNCT CLOSET-F,IN=0
	EQUAL? HERE,IN-CLOSET \?L1
	SET 'IN,1
?L1:	ZERO? NOW-PRSI? /?L4
	EQUAL? PRSA,V?PUT \FALSE
	ZERO? IN /?L8
	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L8:	FSET? CLOSET-DOOR,OPENED \?L10
	MOVE PRSO,IN-CLOSET
	PRINTI "You put "
	CALL1 THE-PRINT
	PRINTI " into the "
	PRINTD PRSI
	PRINT PERIOD
	RTRUE
?L10:	CALL2 ITS-CLOSED,CLOSET-DOOR
	RTRUE
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L13
	ZERO? IN \?L14
	CALL2 DO-WALK,P?NORTH
	RTRUE
?L14:	CALL1 ALREADY-IN
	RTRUE
?L13:	CALL1 EXITING? >STACK
	ZERO? STACK /?L17
	ZERO? IN \?L18
	CALL1 NOT-IN
	RTRUE
?L18:	CALL2 DO-WALK,P?SOUTH
	RTRUE
?L17:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L21
	ZERO? IN /?L22
	CALL1 V-LOOK
	RTRUE
?L22:	FSET? CLOSET-DOOR,OPENED \?L24
	PRINT YOU-SEE
	CALL2 PRINT-CONTENTS,IN-CLOSET
	PRINTI " in the "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L24:	CALL2 ITS-CLOSED,CLOSET-DOOR
	RTRUE
?L21:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE \?L26
	EQUAL? PRSI,0,HANDS,FEET \?L26
	CALL PERFORM,PRSA,CLOSET-DOOR,PRSI
	RTRUE
?L26:	EQUAL? PRSA,V?REACH-IN \FALSE
	ZERO? IN /?L28
	CALL1 ALREADY-IN
	RTRUE
?L28:	FSET? CLOSET-DOOR,OPENED \?L30
	PRINTI "You put "
	PRINTD HANDS
	PRINTI " into the "
	PRINTD PRSO
	PRINTR "[RIDX: 6415]"
?L30:	CALL2 ITS-CLOSED,CLOSET-DOOR
	RTRUE

	.FUNCT SHALL-F,IN=0
	EQUAL? HERE,IN-HALL \?L1
	SET 'IN,1
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L4
	ZERO? IN \?L6
	CALL1 CANT-SEE-MUCH
	RTRUE
?L6:	CALL1 V-LOOK
	RTRUE
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L9
	ZERO? IN /?L10
	CALL1 ALREADY-IN
	RTRUE
?L10:	EQUAL? HERE,SWYARD \?L12
	CALL2 DO-WALK,P?NORTH
	RTRUE
?L12:	EQUAL? HERE,NWYARD \?L13
	CALL2 DO-WALK,P?SOUTH
	RTRUE
?L13:	CALL1 V-WALK-AROUND
	RTRUE
?L9:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	ZERO? IN \?L16
	CALL1 NOT-IN
	RTRUE
?L16:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT BATHROOM-F,IN=0
	EQUAL? HERE,IN-BATH \?L1
	SET 'IN,1
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L4
	ZERO? IN \?L6
	CALL1 CANT-SEE-MUCH
	RTRUE
?L6:	CALL1 V-LOOK
	RTRUE
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L9
	ZERO? IN \?L10
	CALL2 DO-WALK,P?NORTH
	RTRUE
?L10:	CALL1 ALREADY-IN
	RTRUE
?L9:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	ZERO? IN \?L14
	CALL1 NOT-IN
	RTRUE
?L14:	CALL2 DO-WALK,P?SOUTH
	RTRUE

	.FUNCT BEDROOM-F,IN=0
	EQUAL? HERE,BROOM \?L1
	SET 'IN,1
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L4
	ZERO? IN \?L6
	CALL1 CANT-SEE-MUCH
	RTRUE
?L6:	CALL1 V-LOOK
	RTRUE
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L9
	ZERO? IN \?L10
	CALL2 DO-WALK,P?EAST
	RTRUE
?L10:	CALL1 ALREADY-IN
	RTRUE
?L9:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	ZERO? IN \?L14
	CALL1 NOT-IN
	RTRUE
?L14:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT KITCHEN-F,IN=0
	EQUAL? HERE,SWROOM \?L1
	SET 'IN,1
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L4
	ZERO? IN \?L6
	CALL1 CANT-SEE-MUCH
	RTRUE
?L6:	CALL1 V-LOOK
	RTRUE
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L9
	ZERO? IN /?L10
	CALL1 ALREADY-IN
	RTRUE
?L10:	EQUAL? HERE,SEROOM \?L12
	CALL2 DO-WALK,P?WEST
	RTRUE
?L12:	EQUAL? HERE,NWROOM \?L13
	CALL2 DO-WALK,P?SOUTH
	RTRUE
?L13:	CALL1 V-WALK-AROUND
	RTRUE
?L9:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	ZERO? IN \?L16
	CALL1 NOT-IN
	RTRUE
?L16:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT RANCH-F,IN=0
	FSET? HERE,INDOORS \?L1
	SET 'IN,1
?L1:	EQUAL? PRSA,V?EXAMINE \?L4
	ZERO? IN /?L6
	CALL1 V-LOOK
	RTRUE
?L6:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6426]"
	EQUAL? HERE,NWYARD \?L9
	PRINTI ". A"
	CALL OPEN-CLOSED,NROOM-DOOR,1
	PRINTI " leads east, and a "
	PRINTD SHALL
	PRINTI " opens"
	PRINT TOS
	PRINT PERIOD
	RTRUE
?L9:	EQUAL? HERE,SWYARD \?L11
	PRINT PA
	PRINTD SHALL
	PRINTI " opens"
	PRINT TON
	PRINT PERIOD
	RTRUE
?L11:	EQUAL? HERE,SEYARD \?L12
	PRINT PA
	PRINTI "deck stands"
	PRINT TON
	PRINT PERIOD
	RTRUE
?L12:	EQUAL? HERE,NEYARD \?L13
	PRINTI ". A"
	CALL OPEN-CLOSED,BROOM-DOOR,1
	PRINTI "[RIDX: 6433]"
	PRINT TOS
	PRINT PERIOD
	RTRUE
?L13:	EQUAL? HERE,ON-PORCH \?L14
	PRINTR "[RIDX: 6434]"
?L14:	EQUAL? HERE,NERANCH,ERANCH,SERANCH \?L15
	PRINT PA
	PRINTR "[RIDX: 6435]"
?L15:	PRINT PERIOD
	RTRUE
?L4:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L17
	ZERO? IN \?L18
	CALL1 CANT-SEE-MUCH
	RTRUE
?L18:	CALL1 V-LOOK
	RTRUE
?L17:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L21
	ZERO? IN /?L22
	CALL1 ALREADY-IN
	RTRUE
?L22:	EQUAL? HERE,SERANCH \?L24
	CALL DO-WALK,P?NORTH,P?IN
	RTRUE
?L24:	EQUAL? HERE,NERANCH \?L25
	CALL DO-WALK,P?SOUTH,P?IN
	RTRUE
?L25:	EQUAL? HERE,ON-CIST,UNDERM,IN-MILL /?L27
	EQUAL? HERE,IN-CIST \?L26
?L27:	CALL1 V-WALK-AROUND
	RTRUE
?L26:	CALL2 DO-WALK,P?IN
	RTRUE
?L21:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	ZERO? IN \?L30
	CALL1 NOT-IN
	RTRUE
?L30:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT RAMP-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH \?L1
	PRINTI "[RIDX: 6437]"
	EQUAL? HERE,ERANCH \?L3
	PRINTI "up to the "
	PRINTD PORCH
	JUMP ?L5
?L3:	PRINTI "[RIDX: 6439]"
?L5:	PRINT PERIOD
	RTRUE
?L1:	CALL2 HANDLE-STAIRS?,ON-PORCH >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT PORCH-F,ON=0
	EQUAL? HERE,ON-PORCH \?L1
	SET 'ON,1
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L6
	EQUAL? PRSA,V?SEARCH \?L4
?L6:	ZERO? ON \?L7
	CALL1 CANT-SEE-MUCH
	RTRUE
?L7:	CALL1 V-LOOK
	RTRUE
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L12
	EQUAL? PRSA,V?CROSS,V?CLIMB-OVER,V?CLIMB-ON /?L12
	EQUAL? PRSA,V?CLIMB-UP \?L10
?L12:	ZERO? ON /?L13
	CALL ALREADY-IN,PRSO,1
	RTRUE
?L13:	EQUAL? HERE,ERANCH \?L15
	CALL2 DO-WALK,P?WEST
	RTRUE
?L15:	CALL1 V-WALK-AROUND
	RTRUE
?L10:	CALL1 EXITING? >STACK
	ZERO? STACK \?L18
	EQUAL? PRSA,V?CLIMB-DOWN,V?LEAP \FALSE
?L18:	ZERO? ON \?L19
	CALL NOT-IN,PRSO,1
	RTRUE
?L19:	CALL2 DO-WALK,P?EAST
	RTRUE

	.FUNCT ICEHOUSE-F,IN=0
	EQUAL? HERE,IHOUSE \?L1
	SET 'IN,1
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L4
	ZERO? IN \?L6
	CALL1 CANT-SEE-MUCH
	RTRUE
?L6:	CALL1 V-LOOK
	RTRUE
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L10
	EQUAL? PRSA,V?CLIMB-DOWN \?L9
?L10:	ZERO? IN \?L11
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L11:	CALL1 ALREADY-IN
	RTRUE
?L9:	CALL1 EXITING? >STACK
	ZERO? STACK \?L15
	EQUAL? PRSA,V?CLIMB-UP \FALSE
?L15:	ZERO? IN \?L16
	CALL1 NOT-IN
	RTRUE
?L16:	CALL2 DO-WALK,P?UP
	RTRUE

	.FUNCT ISTAIR-F
	EQUAL? PRSA,V?EXAMINE,V?SEARCH \?L1
	CALL1 CTHE-PRINT
	PRINTI " leads "
	EQUAL? HERE,IHOUSE \?L3
	PRINTI "up to the "
	PRINTD SHALL
	JUMP ?L5
?L3:	PRINTI "down into the "
	PRINTD ICEHOUSE
?L5:	PRINT PERIOD
	RTRUE
?L1:	CALL2 HANDLE-STAIRS?,IN-HALL >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT CISTAIR-F
	EQUAL? PRSA,V?EXAMINE,V?SEARCH \?L1
	CALL1 CTHE-PRINT
	PRINTI " leads "
	EQUAL? HERE,SCIST \?L3
	PRINTI "[RIDX: 6450]"
	PRINTD RESERVOIR
	JUMP ?L5
?L3:	PRINTI "down to the ground"
?L5:	PRINT PERIOD
	RTRUE
?L1:	CALL2 HANDLE-STAIRS?,ON-CIST >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT RESERVOIR-F,IN=0,WATER=0,HAT=0
	EQUAL? HERE,UNDER-WATER \?L1
	SET 'IN,1
?L1:	CALL NOUN-USED?,W?WATER,W?LIQUID,W?MURK >STACK
	ZERO? STACK /?L4
	SET 'WATER,1
	JUMP ?L7
?L4:	CALL2 NOUN-USED?,W?BOTTOM >STACK
	ZERO? STACK /?L7
	ZERO? IN \?L7
	PRINT CANT
	PRINTI "[RIDX: 6454]"
	CRLF
	RETURN 2
?L7:	ZERO? NOW-PRSI? /?L13
	EQUAL? PRSA,V?PUT,V?PUT-ON,V?THROW \FALSE
	ZERO? IN /?L17
	MOVE PRSO,HERE
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6455]"
?L17:	EQUAL? PRSO,MEEP,LEM \?L19
	PRINTI "Seeing your intent, "
	CALL1 THE-PRINT
	PRINTI "[RIDX: 6457]"
	CRLF
	CALL2 PRINT-ID,STR?455
	RTRUE
?L19:	EQUAL? PRSO,BAG,EBAG \?L20
	EQUAL? PRSO,EBAG \?L21
	CALL MOVE-ALL,PRSO,SOGGY
?L21:	CALL1 VANISH
	MOVE SOGGY,UNDER-WATER
	SET 'APPETITE,0
	SET 'CCNT,0
	JUMP ?L24
?L20:	EQUAL? PRSO,WTK \?L25
	FSET PRSO,CHILLY
	JUMP ?L27
?L25:	EQUAL? PRSO,CAGE \?L27
	CALL1 DO-DROWN
?L27:	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	MOVE PRSO,UNDER-WATER
?L24:	EQUAL? HERE,IN-CIST,ON-CIST,IN-MILL \?L29
	PRINTI "Splash! "
	CALL1 CTHE-PRINT
	EQUAL? PRSO,LAMP \?L31
	FSET? PRSO,LIGHTED \?L31
	PRINTI "'s light fades as it"
?L31:	PRINTR "[RIDX: 6461]"
?L29:	PRINTI "You "
	PRINTB P-PRSA-WORD
	PRINTI " "
	CALL1 THE-PRINT
	PRINTI "[RIDX: 6464]"
	PRINTD RESERVOIR
	PRINTR ". Splash!"
?L13:	EQUAL? PRSA,V?EXAMINE \?L36
	ZERO? WATER /?L37
	CALL1 LOOK-IN-RWATER
	RTRUE
?L37:	EQUAL? HERE,IN-CIST,UNDER-WATER \?L39
	CALL1 V-LOOK
	RTRUE
?L39:	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6466]"
?L36:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH,V?LOOK-DOWN \?L41
	ZERO? IN /?L42
	CALL1 V-LOOK
	RTRUE
?L42:	ZERO? WATER /?L44
	CALL1 LOOK-IN-RWATER
	RTRUE
?L44:	CALL1 CTHE-PRINT
	EQUAL? HERE,IN-CIST \?L46
	PRINTI " you're in"
?L46:	PRINTR "[RIDX: 5104]black, murky water."
?L41:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L51
	EQUAL? PRSA,V?STAND-UNDER,V?LEAP,V?SWIM /?L51
	EQUAL? PRSA,V?DIVE,V?CLIMB-UP,V?CLIMB-ON /?L51
	EQUAL? PRSA,V?CROSS,V?CLIMB-OVER \?L49
?L51:	ZERO? IN /?L52
	CALL1 ALREADY-IN
	RTRUE
?L52:	EQUAL? HERE,IN-MILL \?L54
	CALL VOICE-MUTTERS,STR?456,0
	RTRUE
?L54:	EQUAL? HERE,IN-CIST \?L55
	EQUAL? PRSA,V?DIVE,V?THROUGH,V?STAND-UNDER \?L56
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L56:	CALL1 ALREADY-IN
	RTRUE
?L55:	EQUAL? HERE,ON-CIST \?L59
	CALL2 DO-WALK,P?IN
	RTRUE
?L59:	EQUAL? HERE,SCIST \?L60
	CALL2 DO-WALK,P?UP
	EQUAL? PRSA,V?LEAP,V?SWIM,V?DIVE \TRUE
	CALL2 DO-WALK,P?IN
	RTRUE
?L60:	PRINTI "The sides of the "
	PRINTD PRSO
	PRINTR " are too high."
?L49:	EQUAL? PRSA,V?CLIMB-DOWN \?L65
	EQUAL? HERE,IN-CIST,UNDER-WATER \?L66
	CALL1 ALREADY-IN
	RTRUE
?L66:	EQUAL? HERE,ON-CIST \?L68
	CALL2 DO-WALK,P?SOUTH
	RTRUE
?L68:	CALL NOT-IN,PRSO,1
	RTRUE
?L65:	CALL1 EXITING? >STACK
	ZERO? STACK \?L71
	EQUAL? PRSA,V?CLIMB-UP \?L70
?L71:	ZERO? IN /?L72
	CALL2 DO-WALK,P?UP
	RTRUE
?L72:	EQUAL? HERE,IN-CIST,ON-CIST \?L74
	CALL2 DO-WALK,P?SOUTH
	RTRUE
?L74:	CALL1 NOT-IN
	RTRUE
?L70:	EQUAL? PRSA,V?LOOK-UNDER,V?LOOK-BEHIND \?L76
	ZERO? IN /?L77
	CALL1 V-LOOK
	RTRUE
?L77:	CALL1 LOOK-IN-RWATER
	RTRUE
?L76:	EQUAL? PRSA,V?REACH-IN,V?TOUCH,V?KNOCK \?L80
	ZERO? IN /?L81
	CALL1 ALREADY-IN
	RTRUE
?L81:	EQUAL? HERE,ON-CIST,IN-CIST \?L83
	PRINTR "[RIDX: 6472]"
?L83:	CALL1 CANT-FROM-HERE
	RTRUE
?L80:	EQUAL? HERE,IN-MILL \?L85
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L85
	CALL1 CANT-FROM-HERE
	RTRUE
?L85:	EQUAL? PRSA,V?EMPTY,V?EMPTY-INTO \?L86
	CALL1 IMPOSSIBLE
	RTRUE
?L86:	ZERO? WATER /FALSE
	CALL1 NOT-CLEAN? >STACK
	ZERO? STACK \TRUE
	EQUAL? PRSA,V?EAT,V?BITE \FALSE
	CALL2 PRINT-ID,STR?457
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT NOT-CLEAN?
	EQUAL? PRSA,V?DRINK,V?DRINK-FROM,V?TASTE \FALSE
	PRINTI "[RIDX: 6474]"
	CRLF
	CALL2 PRINT-ID,STR?458
	RTRUE

	.FUNCT LOOK-IN-RWATER
	EQUAL? HERE,UNDER-WATER \?L1
	CALL1 V-LOOK
	RTRUE
?L1:	EQUAL? HERE,IN-CIST,ON-CIST /?L3
	PRINTI "[RIDX: 6476]"
	PRINTD RESERVOIR
	PRINTI ". But l"
	JUMP ?L4
?L3:	PRINTI "L"
?L4:	PRINTR "[RIDX: 6479]"

	.FUNCT MILL-F,ON=0
	EQUAL? HERE,IN-MILL \?L1
	SET 'ON,1
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L4
	ZERO? ON \?L6
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6482]"
	PRINTD MLADDER
	PRINTI "[RIDX: 6483]"
	FSET? BINOS,TOUCHED \?L8
	PRINTI "broken-down "
	JUMP ?L10
?L8:	PRINTI "square "
?L10:	PRINTD LANDING
	PRINTR " near the top."
?L6:	CALL1 V-LOOK
	RTRUE
?L4:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L12
	ZERO? ON \?L13
	CALL1 CANT-SEE-MUCH
	RTRUE
?L13:	CALL1 V-LOOK
	RTRUE
?L12:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-UP,V?ENTER /?L17
	EQUAL? PRSA,V?THROUGH,V?FOLLOW \?L16
?L17:	ZERO? ON /?L18
	CALL ALREADY-IN,PRSO,1
	RTRUE
?L18:	EQUAL? HERE,UNDERM \?L20
	CALL2 DO-WALK,P?UP
	RTRUE
?L20:	CALL1 CANT-FROM-HERE
	RTRUE
?L16:	CALL1 EXITING? >STACK
	ZERO? STACK \?L23
	EQUAL? PRSA,V?CLIMB-DOWN \?L22
?L23:	ZERO? ON \?L24
	CALL NOT-IN,PRSO,1
	RTRUE
?L24:	CALL2 DO-WALK,P?DOWN
	RTRUE
?L22:	EQUAL? PRSA,V?LOOK-UP \?L27
	ZERO? ON \?L28
	CALL1 CANT-SEE-MUCH
	RTRUE
?L28:	CALL1 ALREADY-AT-TOP
	RTRUE
?L27:	EQUAL? PRSA,V?LOOK-DOWN \?L31
	ZERO? ON \?L32
	CALL NOT-IN,PRSO,1
	RTRUE
?L32:	CALL1 V-LOOK
	RTRUE
?L31:	EQUAL? PRSA,V?WALK-TO,V?STAND-UNDER \FALSE
	EQUAL? HERE,UNDERM \?L36
	PRINT YOURE-ALREADY
	PRINTI "under the "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L36:	ZERO? ON /?L38
	EQUAL? PRSA,V?STAND-UNDER \?L39
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L39:	CALL1 ALREADY-IN
	RTRUE
?L38:	EQUAL? HERE,NCIST \?L42
	CALL2 DO-WALK,P?SE
	RTRUE
?L42:	EQUAL? HERE,SCIST \?L43
	CALL2 DO-WALK,P?NE
	RTRUE
?L43:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT GENERIC-LANDING-F,TABLE
	RETURN LANDING

	.FUNCT LANDING-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?PUT-ON \FALSE
	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L1:	EQUAL? PRSA,V?WATCH,V?LISTEN,V?CLIMB-OVER /?L7
	EQUAL? PRSA,V?CROSS,V?STAND-ON,V?CLIMB-ON /?L7
	EQUAL? PRSA,V?KICK,V?KNOCK,V?HIT /?L7
	EQUAL? PRSA,V?MUNG \?L6
?L7:	CALL2 I-MILL,0
	RTRUE
?L6:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH /?L9
	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-BEHIND \?L8
?L9:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6489]"
	PRINTD RESERVOIR
	PRINTR "[RIDX: 6490]"
?L8:	EQUAL? PRSA,V?LOOK-UNDER \?L10
	CALL1 CANT-SEE-MUCH
	RTRUE
?L10:	EQUAL? PRSA,V?LISTEN \FALSE
	CALL2 SAY-GROANS,PRSO
	RTRUE

	.FUNCT MLADDER-F,TOP=0
	EQUAL? HERE,IN-MILL \?L1
	SET 'TOP,1
?L1:	EQUAL? PRSA,V?EXAMINE \?L4
	CALL1 CTHE-PRINT
	PRINTI " leads "
	ZERO? TOP \?L6
	PRINTI "up "
	JUMP ?L8
?L6:	PRINTI "down "
?L8:	PRINTI "the side of the "
	PRINTD MILL
	PRINT PERIOD
	RTRUE
?L4:	EQUAL? PRSA,V?CLIMB-UP \?L9
	ZERO? TOP /?L10
	CALL1 ALREADY-AT-TOP
	RTRUE
?L10:	EQUAL? HERE,UNDERM \?L12
	CALL2 DO-WALK,P?UP
	RTRUE
?L12:	CALL1 CANT-FROM-HERE
	RTRUE
?L9:	EQUAL? PRSA,V?CLIMB-DOWN,V?ESCAPE \?L14
	ZERO? TOP /?L15
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L15:	EQUAL? HERE,UNDERM \?L17
	CALL1 ALREADY-AT-BOTTOM
	RTRUE
?L17:	CALL1 CANT-FROM-HERE
	RTRUE
?L14:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?ENTER /?L20
	EQUAL? PRSA,V?USE,V?FOLLOW \?L19
?L20:	EQUAL? HERE,UNDERM,IN-MILL /?L21
	CALL1 V-WALK-AROUND
	RTRUE
?L21:	ZERO? TOP \?L24
	PUSH P?UP
	JUMP ?L26
?L24:	PUSH P?DOWN
?L26:	CALL2 DO-WALK,STACK
	RTRUE
?L19:	EQUAL? PRSA,V?STAND-UNDER,V?WALK-TO \?L27
	ZERO? TOP /?L28
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L28:	EQUAL? HERE,UNDERM \?L30
	CALL1 ALREADY-AT-BOTTOM
	RTRUE
?L30:	CALL1 V-WALK-AROUND
	RTRUE
?L27:	EQUAL? HERE,UNDERM,IN-MILL /FALSE
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT TOWER-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L1
	EQUAL? HERE,IN-SHACK \?L3
	CALL1 CANT-SEE-MUCH
	RTRUE
?L3:	CALL1 V-LOOK
	RTRUE
?L1:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L6
	EQUAL? HERE,AT-ZERO \?L7
	CALL1 CANT-SEE-MUCH
	RTRUE
?L7:	CALL1 V-LOOK
	RTRUE
?L6:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L11
	EQUAL? PRSA,V?STAND-ON \?L10
?L11:	EQUAL? HERE,AT-ZERO \?L12
	CALL2 DO-WALK,P?UP
	RTRUE
?L12:	CALL ALREADY-IN,TOWER,1
	RTRUE
?L10:	CALL1 EXITING? >STACK
	ZERO? STACK \?L16
	EQUAL? PRSA,V?CLIMB-DOWN \?L15
?L16:	EQUAL? HERE,AT-ZERO \?L17
	CALL NOT-IN,TOWER,1
	RTRUE
?L17:	EQUAL? HERE,IN-SHACK \?L19
	CALL2 DO-WALK,P?OUT
	RTRUE
?L19:	CALL2 DO-WALK,P?DOWN
	RTRUE
?L15:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-UP,V?CLIMB-OVER \?L21
	EQUAL? HERE,IN-SHACK,TOWER-PLAT \?L22
	CALL1 ALREADY-AT-TOP
	RTRUE
?L22:	CALL2 DO-WALK,P?UP
	RTRUE
?L21:	EQUAL? PRSA,V?STAND-UNDER \?L25
	EQUAL? HERE,AT-ZERO \?L26
	PRINTR "[RIDX: 6498]"
?L26:	EQUAL? HERE,IN-SHACK \?L28
	CALL1 V-WALK-AROUND
	RTRUE
?L28:	CALL2 DO-WALK,P?DOWN
	RTRUE
?L25:	EQUAL? PRSA,V?LOOK-UNDER,V?LOOK-BEHIND \FALSE
	EQUAL? HERE,AT-ZERO,ON-TOWER \?L31
	CALL1 V-LOOK
	RTRUE
?L31:	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT DTOWER-F,DIR
	GETP HERE,P?TDIR >DIR
	EQUAL? PRSA,V?EXAMINE,V?WATCH,V?LOOK-UP \?L1
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6501]"
	PRINTD HORIZON
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?WALK-TO,V?FOLLOW \?L3
	ZERO? DIR \?L4
	CALL1 V-WALK-AROUND
	RTRUE
?L4:	CALL2 DO-WALK,DIR
	RTRUE
?L3:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-ON,V?SEARCH /?L8
	EQUAL? PRSA,V?LOOK-BEHIND,V?LOOK-UNDER \?L7
?L8:	CALL1 CANT-SEE-MUCH
	RTRUE
?L7:	CALL1 EXITING? >STACK
	ZERO? STACK /?L9
	CALL NOT-IN,PRSO,1
	RTRUE
?L9:	EQUAL? PRSA,V?LOOK-DOWN /?L11
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
?L11:	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT TLADDER-F,TOP=0
	EQUAL? HERE,TOWER-PLAT \?L1
	SET 'TOP,1
?L1:	EQUAL? PRSA,V?LOOK-DOWN,V?LOOK-UNDER \?L4
	CALL1 LOOK-AT-ZERO
	RTRUE
?L4:	EQUAL? PRSA,V?EXAMINE \?L6
	CALL1 CTHE-PRINT
	PRINTI " leads "
	ZERO? TOP /?L7
	PRINTR "down to the ground."
?L7:	PRINTR "up into the tower."
?L6:	EQUAL? PRSA,V?CLIMB-UP \?L10
	ZERO? TOP \?L11
	CALL2 DO-WALK,P?UP
	RTRUE
?L11:	CALL1 ALREADY-AT-TOP
	RTRUE
?L10:	EQUAL? PRSA,V?CLIMB-DOWN \?L14
	EQUAL? HERE,AT-ZERO \?L15
	CALL1 ALREADY-AT-BOTTOM
	RTRUE
?L15:	CALL2 DO-WALK,P?DOWN
	RTRUE
?L14:	CALL1 EXITING? >STACK
	ZERO? STACK /?L18
	EQUAL? HERE,ON-TOWER \?L19
	CALL1 V-WALK-AROUND
	RTRUE
?L19:	CALL NOT-IN,PRSO,1
	RTRUE
?L18:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?ENTER /?L23
	EQUAL? PRSA,V?USE,V?FOLLOW \?L22
?L23:	ZERO? TOP /?L24
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L24:	EQUAL? HERE,AT-ZERO \?L26
	CALL2 DO-WALK,P?UP
	RTRUE
?L26:	CALL1 V-WALK-AROUND
	RTRUE
?L22:	EQUAL? PRSA,V?STAND-UNDER,V?WALK-TO \FALSE
	EQUAL? HERE,AT-ZERO \?L29
	CALL1 ALREADY-AT-BOTTOM
	RTRUE
?L29:	EQUAL? PRSA,V?STAND-UNDER \?L31
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L31:	ZERO? TOP \?L32
	CALL ALREADY-IN,PRSO,1
	RTRUE
?L32:	CALL1 ALREADY-AT-TOP
	RTRUE

	.FUNCT LOOK-AT-ZERO
	EQUAL? HERE,AT-ZERO \?L1
	CALL1 ALREADY-AT-BOTTOM
	RTRUE
?L1:	EQUAL? HERE,TOWER-PLAT \?L3
	PRINTI "The width of the "
	PRINTD TPLAT
	PRINTR "[RIDX: 6509]"
?L3:	CALL2 CTHE-PRINT,GROUND
	PRINTR "[RIDX: 6510]"

	.FUNCT TPLAT-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH \?L1
	CALL1 V-LOOK
	RTRUE
?L1:	EQUAL? PRSA,V?LOOK-DOWN,V?LOOK-UNDER \?L3
	CALL1 LOOK-AT-ZERO
	RTRUE
?L3:	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \?L4
	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L4:	CALL1 EXITING? >STACK
	ZERO? STACK \?L6
	EQUAL? PRSA,V?CROSS,V?CLIMB-OVER,V?FOLLOW \?L5
?L6:	CALL1 V-WALK-AROUND
	RTRUE
?L5:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L8
	EQUAL? PRSA,V?STAND-ON \?L7
?L8:	CALL ALREADY-IN,PRSO,1
	RTRUE
?L7:	EQUAL? PRSA,V?SIT,V?LIE-DOWN \?L9
	CALL1 CTHE-PRINT
	PRINTR " is too narrow."
?L9:	EQUAL? PRSA,V?CLIMB-DOWN \?L10
	CALL2 DO-WALK,P?DOWN
	RTRUE
?L10:	EQUAL? PRSA,V?CLIMB-UP \FALSE
	CALL1 ALREADY-AT-TOP
	RTRUE

	.FUNCT RAIL-F
	EQUAL? PRSA,V?TAKE \FALSE
	EQUAL? P-PRSA-WORD,W?HOLD,W?GRAB \FALSE
	ZERO? NOW-PRSI? \FALSE
	PRINTR "[RIDX: 6514]"

	.FUNCT TROPES-F
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L1
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6516]"
?L1:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL2 CTHE-PRINT,TROPES
	PRINTR "[RIDX: 6517]"

	.FUNCT NWROAD-F
	CALL HANDLE-DESERT-ROAD?,P?NW,STR?152,STR?153 >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT SWROAD-F
	CALL HANDLE-DESERT-ROAD?,P?SW,STR?151,STR?154 >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT SROAD-F
	CALL HANDLE-DESERT-ROAD?,P?SOUTH,STR?148,STR?155 >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT HANDLE-DESERT-ROAD?,DDIR,TSTR,DSTR
	CALL1 EXAMINING-ROAD? >STACK
	ZERO? STACK /?L1
	PRINTI "The road leads "
	EQUAL? HERE,AT-ZERO /?L3
	PRINT TSTR
	CALL GLOBAL-IN?,DTOWER,HERE >STACK
	ZERO? STACK /?L5
	PRINTI " towards the "
	PRINTD DTOWER
	PRINTI ","
?L5:	PRINTI " and "
?L3:	PRINT DSTR
	PRINTI " "
	PRINT INTO-DESERT
	PRINT PERIOD
	RTRUE
?L1:	CALL1 USING-ROAD? >STACK
	ZERO? STACK /?L9
	EQUAL? HERE,AT-ZERO \?L10
	CALL2 DO-WALK,DDIR
	RTRUE
?L10:	CALL1 V-WALK-AROUND
	RTRUE
?L9:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT D5ROAD-F
	CALL2 BORING-ROAD?,D5 >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT D11ROAD-F
	CALL2 BORING-ROAD?,S75 >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT BORING-ROAD?,NW
	CALL1 EXAMINING-ROAD? >STACK
	ZERO? STACK /?L1
	CALL1 CTHE-PRINT
	PRINTI " leads "
	EQUAL? HERE,NW \?L3
	PRINTR "southeast."
?L3:	PRINTR "northwest."
?L1:	CALL1 USING-ROAD? >STACK
	ZERO? STACK /FALSE
	EQUAL? HERE,NW \?L7
	PUSH P?SE
	JUMP ?L9
?L7:	PUSH P?NW
?L9:	CALL2 DO-WALK,STACK
	RTRUE

	.FUNCT EXAMINING-ROAD?
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-DOWN /TRUE
	EQUAL? PRSA,V?LOOK-UP,V?SEARCH,V?LOOK-BEHIND \FALSE
	RTRUE

	.FUNCT USING-ROAD?
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?FOLLOW,V?ENTER,V?WALK-TO /TRUE
	EQUAL? PRSA,V?THROUGH,V?TAKE,V?USE /TRUE
	EQUAL? PRSA,V?CROSS,V?CLIMB-ON,V?CLIMB-OVER /TRUE
	EQUAL? PRSA,V?CLIMB-UP,V?CLIMB-DOWN \FALSE
	RTRUE

	.FUNCT SEROAD-F
	CALL1 EXAMINING-ROAD? >STACK
	ZERO? STACK /?L1
	PRINTI "[RIDX: 6539]"
	PRINT INTO-DESERT
	PRINT PERIOD
	RTRUE
?L1:	CALL1 USING-ROAD? >STACK
	ZERO? STACK /?L3
	CALL2 DO-WALK,P?SE
	RTRUE
?L3:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT NROAD-F
	CALL1 EXAMINING-ROAD? >STACK
	ZERO? STACK /?L1
	PRINTI "[RIDX: 6541]"
	PRINT INTO-DESERT
	PRINT PERIOD
	RTRUE
?L1:	CALL1 USING-ROAD? >STACK
	ZERO? STACK /?L3
	CALL2 DO-WALK,P?NW
	RTRUE
?L3:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT PROAD-F
	CALL1 EXAMINING-ROAD? >STACK
	ZERO? STACK /?L1
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6543]"
	PRINT INTO-DESERT
	PRINT PERIOD
	RTRUE
?L1:	CALL1 USING-ROAD? >STACK
	ZERO? STACK \?L4
	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
?L4:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT DTRAIL-F
	CALL1 EXAMINING-ROAD? >STACK
	ZERO? STACK /?L1
	CALL1 CTHE-PRINT
	PRINTI " bends "
	EQUAL? HERE,N25 \?L3
	PRINTI "sou"
	JUMP ?L6
?L3:	PRINTI "nor"
	EQUAL? HERE,WZERO \?L6
	PRINTI "th and sou"
?L6:	PRINTI "th around the "
	PRINTD DTOWER
	PRINT PERIOD
	RTRUE
?L1:	CALL1 USING-ROAD? >STACK
	ZERO? STACK /?L9
	EQUAL? HERE,N25 \?L10
	CALL2 DO-WALK,P?SOUTH
	RTRUE
?L10:	EQUAL? HERE,W25 \?L12
	CALL2 DO-WALK,P?NORTH
	RTRUE
?L12:	CALL1 V-WALK-AROUND
	RTRUE
?L9:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT RANCH-ROAD-F
	CALL1 EXAMINING-ROAD? >STACK
	ZERO? STACK /?L1
	CALL1 CTHE-PRINT
	EQUAL? HERE,AT-TNT,NWRANCH \?L3
	PRINTI "[RIDX: 6551]"
	PRINTD DTOWER
	PRINTI ", and "
	EQUAL? HERE,AT-TNT \?L5
	PRINTI "southeast "
	PRINT INTO-DESERT
	JUMP ?L8
?L5:	PRINTI "[RIDX: 6554]"
	PRINTD SWALL
	JUMP ?L8
?L3:	PRINTI " bends "
	EQUAL? HERE,NERANCH \?L9
	PRINTI "west and sou"
	JUMP ?L11
?L9:	PRINTI "nor"
?L11:	PRINTI "[RIDX: 6558]"
	PRINTD SWALL
?L8:	PRINT PERIOD
	RTRUE
?L1:	CALL1 USING-ROAD? >STACK
	ZERO? STACK /?L12
	EQUAL? HERE,ERANCH \?L13
	CALL2 DO-WALK,P?NORTH
	RTRUE
?L13:	CALL1 V-WALK-AROUND
	RTRUE
?L12:	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT FHILLS-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-UP /?L3
	EQUAL? PRSA,V?SEARCH \?L1
?L3:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6560]"
	PRINTD DMOUNTS
	PRINTR " beyond them."
?L1:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L6
	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-UP,V?CROSS /?L6
	EQUAL? PRSA,V?CLIMB-OVER \?L4
?L6:	CALL1 FHILLS-TOO-STEEP
	RTRUE
?L4:	CALL1 EXITING? >STACK
	ZERO? STACK \?L8
	EQUAL? PRSA,V?CLIMB-DOWN,V?LEAP \?L7
?L8:	CALL1 NOT-IN
	RTRUE
?L7:	EQUAL? PRSA,V?LOOK-BEHIND /?L10
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
?L10:	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT FHILLS-TOO-STEEP
	CALL2 CTHE-PRINT,FHILLS
	PRINTI "[RIDX: 6562]"
	CRLF
	RFALSE

	.FUNCT DMOUNTS-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?SEARCH /?L3
	EQUAL? PRSA,V?LOOK-UP \?L1
?L3:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6564]"
	PRINTD HORIZON
	PRINT PERIOD
	RTRUE
?L1:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L6
	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-UP,V?CROSS /?L6
	EQUAL? PRSA,V?CLIMB-OVER \?L4
?L6:	CALL1 V-WALK-AROUND
	RTRUE
?L4:	CALL1 EXITING? >STACK
	ZERO? STACK \?L8
	EQUAL? PRSA,V?CLIMB-DOWN,V?LEAP \?L7
?L8:	CALL1 NOT-IN
	RTRUE
?L7:	EQUAL? PRSA,V?LOOK-BEHIND /?L10
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
?L10:	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT BOOK-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?EMPTY-INTO \?L3
	FSET? PRSI,OPENED /?L5
	CALL2 ITS-CLOSED,PRSI
	RTRUE
?L5:	CALL1 CTHE-PRINT
	EQUAL? PRSO,MARKER \?L8
	MOVE PRSO,PRSI
	PRINTR "[RIDX: 6567]"
?L8:	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,1 \?L10
	PRINTR "[RIDX: 6568]"
?L10:	PRINTI "[RIDX: 6569]"
	CALL1 LANDS-AT-YOUR-FEET
	RTRUE
?L3:	EQUAL? PRSA,V?PUT-ON \FALSE
	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L14
	PRINTI "[RIDX: 6570]"
	CALL2 ITALICIZE,STR?459
	CRLF
	RTRUE
?L14:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?UNFOLD \?L15
	EQUAL? PRSI,0,HANDS \?L15
	FSET? PRSO,OPENED /?L15
	FSET PRSO,OPENED
	IN? MARKER,PRSO \?L16
	MOVE MARKER,HERE
	SET 'P-IT-OBJECT,MARKER
	PRINTI "A "
	PRINTD MARKER
	PRINTR "[RIDX: 6573]"
?L16:	PRINTI "You open the "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L15:	EQUAL? PRSA,V?READ,V?LOOK-ON,V?LOOK-INSIDE /?L20
	EQUAL? PRSA,V?SEARCH,V?TURN,V?TURN-TO \FALSE
?L20:	IN? PRSO,PLAYER /?L21
	CALL YOUD-HAVE-TO,STR?240,PRSO
	RTRUE
?L21:	FSET? PRSO,OPENED /?L23
	CALL PERFORM,V?OPEN,PRSO
	CRLF
?L23:	PRINTR "[RIDX: 6576]"

	.FUNCT MARKER-F,D=0
	CALL NOUN-USED?,W?DIAGRAM,W?LINES,W?LEGEND >STACK
	ZERO? STACK \?L3
	CALL2 ADJ-USED?,W?INTERSECTING >STACK
	ZERO? STACK /?L1
?L3:	SET 'D,1
?L1:	ZERO? D /?L5
	FSET? MARKER,TOUCHED /?L5
	PRINTI "[RIDX: 6580]"
	CRLF
	RETURN 2
?L5:	ZERO? NOW-PRSI? /?L9
	EQUAL? PRSA,V?PUT,V?PUT-ON \FALSE
	CALL1 NO-GOOD-SURFACE
	RTRUE
?L9:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ /?L14
	EQUAL? PRSA,V?SEARCH \?L13
?L14:	ZERO? D /?L15
	PRINTI "[RIDX: 6581]"
	GET WIRE-TYPES,0 >STACK
	PRINT STACK
	PRINTI " BL="
	GET WIRE-TYPES,1 >STACK
	PRINT STACK
	PRINTI " ST="
	GET WIRE-TYPES,2 >STACK
	PRINT STACK
	PRINTI " WH="
	GET WIRE-TYPES,3 >STACK
	PRINT STACK
	PRINTI """ is "
	CALL1 SAY-SCRIBBLED
	FSET? PRSO,CHILLY /TRUE
	FSET PRSO,CHILLY
	CALL2 UPDATE-SCORE,3
	RTRUE
?L15:	CALL NOUN-USED?,W?POETRY,W?STANZA,W?POEM >STACK
	ZERO? STACK /?L20
	PRINTI "[RIDX: 6586]"
	CRLF
	FSET? PRSO,SEEN /TRUE
	FSET PRSO,SEEN
	GET QUOTES,EMERSON >DO-WINDOW
	RETURN 2
?L20:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6587]"
	IN? PRSO,PLAYER \?L27
	FSET PRSO,TOUCHED
	PRINTR "[RIDX: 6588]"
?L27:	PRINTR "[RIDX: 6589]"
?L13:	EQUAL? PRSA,V?TURN,V?SPIN \FALSE
	EQUAL? PRSI,0,HANDS \FALSE
	IN? PRSO,PLAYER \?L31
	PRINTI "You turn the "
	PRINTD PRSO
	PRINTI " over in "
	PRINTD HANDS
	PRINTR "s."
?L31:	CALL YOUD-HAVE-TO,STR?240,PRSO
	RTRUE

	.FUNCT SAY-SCRIBBLED
	PRINTR "[RIDX: 6594]"

	.FUNCT CSURFACE-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-UP \?L1
	CALL1 CANT-SEE-MUCH
	RTRUE
?L1:	EQUAL? PRSA,V?LOOK-UNDER \?L3
	PRINT YOU-SEE
	CALL2 PRINT-CONTENTS,HERE
	PRINT PERIOD
	RTRUE
?L3:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L5
	EQUAL? PRSA,V?SWIM,V?CLIMB-UP,V?CLIMB-ON \?L4
?L5:	CALL2 DO-WALK,P?UP
	RTRUE
?L4:	CALL1 EXITING? >STACK
	ZERO? STACK \?L8
	EQUAL? PRSA,V?DIVE,V?CLIMB-DOWN,V?CLIMB-OVER /?L8
	EQUAL? PRSA,V?CROSS,V?LOOK-BEHIND \FALSE
?L8:	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT WITH-BINOS
	PRINTI "[RIDX: 6598]"
	RTRUE

	.FUNCT BINOS-F
	SET 'P-THEM-OBJECT,BINOS
	ZERO? NOW-PRSI? \?L61
	CALL2 NOUN-USED?,W?STRAP >STACK
	ZERO? STACK /?L9
	EQUAL? PRSA,V?TIE-UP,V?TIE,V?UNTANGLE /?L5
	EQUAL? PRSA,V?FOLD,V?UNFOLD,V?SWING /?L5
	EQUAL? PRSA,V?PLAY \?L3
?L5:	IN? PRSO,PLAYER /?L6
	CALL YOUD-HAVE-TO,STR?240,PRSO
	RTRUE
?L6:	CALL1 WASTE-OF-TIME
	RTRUE
?L3:	EQUAL? PRSA,V?EXAMINE /?L10
	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \?L9
?L10:	PRINTI "The strap is "
	CALL1 ATTACHED-TO
	RTRUE
?L9:	ZERO? NOW-PRSI? /?L13
?L61:	EQUAL? PRSA,V?LOOK-THRU \FALSE
	IN? PRSI,PLAYER /?L17
	CALL YOUD-HAVE-TO,STR?240,PRSI
	RTRUE
?L17:	EQUAL? PRSO,BBOX,TKEY \?L19
	FSET? PRSO,SEEN /?L19
	CALL1 REFERRING
	RETURN 2
?L19:	CALL2 GOT?,PRSO >STACK
	ZERO? STACK \?L24
	EQUAL? PRSO,ME,HANDS,FEET /?L24
	EQUAL? PRSO,POCKET,GROUND,EYES /?L24
	EQUAL? PRSO,ANKLE,MOUTH,HEAD \?L22
?L24:	CALL1 CTHEI-PRINT
	PRINTR "[RIDX: 6603]"
?L22:	EQUAL? BSEEN,PRSO /?L25
	SET 'BSEEN,PRSO
	PRINTI "[RIDX: 6604]"
	CALL1 THE-PRINT
	PRINT PCR
?L25:	EQUAL? PRSO,SBUNK,SBENTRY \?L27
	PRINTI "The inside of the "
	PRINTD PRSO
	PRINTI "[RIDX: 6606]"
	PRINTD MIKE
	PRINT PCR
	PRINTI "[RIDX: 6607]"
	PRINT PCR
	SET 'P-IT-OBJECT,BBOX
	FSET? BBOX,SEEN /?L29
	FSET BBOX,SEEN
	MOVE BBOX,S100
	PRINTI "[RIDX: 6608]"
	PRINTD MIKE
	PRINTI "[RIDX: 6609]"
	PRINTD TOWER
	JUMP ?L31
?L29:	PRINTI "[RIDX: 6610]"
	PRINTD FLOOR
?L31:	CALL1 MENTION-TKEY
	CALL2 VISIBLE?,MEEP >STACK
	ZERO? STACK /?L32
	FSET MEEP,SEEN
	CRLF
	PRINT CTHEMEEP
	PRINTI "[RIDX: 6611]"
	PRINTD SBUNK
	PRINTI "[RIDX: 6612]"
	CRLF
?L32:	FSET? TKEY,SEEN /TRUE
	FSET TKEY,SEEN
	CALL2 UPDATE-SCORE,3
	RTRUE
?L27:	EQUAL? PRSO,DTOWER \?L38
	CALL1 WITH-BINOS
	CALL2 THE-PRINT,SPOT
	PRINTI " is"
	FSET? SPOT,SEEN \?L39
	PRINTI " still"
	JUMP ?L41
?L39:	PRINTI "n't"
?L41:	PRINTI " shining on the "
	PRINTD DTOWER
	FSET? SPOT,SEEN /?L42
	PRINTI " anymore"
?L42:	PRINT PERIOD
	RTRUE
?L38:	EQUAL? PRSO,NBUNKERS \?L45
	CALL1 WITH-BINOS
	CALL1 THE-PRINT
	PRINTR " are heavily manned."
?L45:	EQUAL? PRSO,SPOT,SLIGHT \?L46
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6619]"
?L46:	EQUAL? PRSO,GDESERT,DMOUNTS,FHILLS \?L47
	CALL1 WITH-BINOS
	CALL1 THE-PRINT
	CALL1 IS-ARE
	PRINTR "[RIDX: 6620]"
?L47:	FSET? PRSO,PLURAL \?L48
	PRINTI "They appear "
	JUMP ?L50
?L48:	EQUAL? PRSO,MEEP,LEM,DOG /?L49
	FSET? PRSO,PERSON \?L49
	PRINTI "He appears "
	JUMP ?L50
?L49:	PRINTI "It appears "
?L50:	PRINTR "much closer now."
?L13:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L52
	PRINTR "[RIDX: 6625]"
?L52:	EQUAL? PRSA,V?LOOK-INSIDE \?L53
	PRINTR "[RIDX: 6626]"
?L53:	EQUAL? PRSA,V?TAKE \?L54
	FSET? PRSO,TOUCHED /?L54
	PRINTI "A loud, plaintive "
	CALL2 ITALICIZE,STR?460
	PRINTI " makes you draw "
	PRINTD HANDS
	PRINTI "[RIDX: 6630]"
	PRINTD BREATH
	PRINTI " as the "
	PRINTD LANDING
	PRINTI "[RIDX: 6632]"
	CALL1 ALL-IS-STILL
	CRLF
	PRINTI "[RIDX: 6633]"
	PRINTD PRSO
	PRINTI ".."
	PRINT PCR
	CALL1 SPILL-MILL
	RETURN 2
?L54:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE /?L58
	EQUAL? PRSA,V?REACH-IN \?L57
?L58:	EQUAL? PRSI,0,HANDS \?L57
	CALL1 IMPOSSIBLE
	RTRUE
?L57:	EQUAL? PRSA,V?ADJUST,V?PLAY \FALSE
	PRINTR "[RIDX: 6635]"

	.FUNCT MENTION-TKEY
	IN? TKEY,BBOX \?L1
	SET 'P-IT-OBJECT,TKEY
	PRINT PA
	PRINTD TKEY
	PRINTI "[RIDX: 6636]"
	PRINTD PADLOCK
?L1:	PRINT PERIOD
	RTRUE

	.FUNCT SPILL-MILL,L
	LOC CAGE >STACK
	EQUAL? STACK,PLAYER,IN-MILL \?L1
	CALL1 DO-DROWN
?L1:	LOC WTK >L
	ZERO? L /?L6
	EQUAL? L,PLAYER,IN-MILL /?L7
	IN? L,PLAYER \?L6
?L7:	FSET WTK,CHILLY
?L6:	LOC BAG >L
	ZERO? L /?L11
	EQUAL? L,PLAYER,IN-MILL /?L12
	IN? L,PLAYER \?L11
?L12:	MOVE SOGGY,L
	REMOVE BAG
	SET 'APPETITE,0
	SET 'CCNT,0
?L11:	LOC EBAG >L
	ZERO? L /?L16
	EQUAL? L,PLAYER,IN-MILL /?L17
	IN? L,PLAYER \?L16
?L17:	CALL MOVE-ALL,EBAG,SOGGY
	MOVE SOGGY,L
	REMOVE EBAG
?L16:	LOC MEEP >L
	EQUAL? L,PLAYER,IN-MILL \?L19
	CALL1 EXIT-MEEP
	MOVE DMEEP,L
	FSET DMEEP,CHILLY
?L19:	CALL2 DEQUEUE,I-MILL
	FSET BINOS,TOUCHED
	PUTP BINOS,P?FDESC,0
	CALL2 DROP-ALL,UNDER-WATER
	FCLEAR IN-CIST,TOUCHED
	FCLEAR UNDER-WATER,TOUCHED
	FCLEAR UNDERM,TOUCHED
	ZERO? BREATH-HELD? /?L22
	SET 'BREATH-HELD?,1
?L22:	CALL2 ITALICIZE,STR?364
	PRINTI " The "
	PRINTD LANDING
	PRINTI "[RIDX: 6640]"
	CALL1 CARRIAGE-RETURNS
	PRINTI "[RIDX: 6641]"
	PRINT PCR
	CALL2 PRINT-ID,STR?461
	CALL2 GOTO,IN-CIST
	CALL MOVE-ALL,IN-MILL,UNDER-WATER
	RTRUE

	.FUNCT DO-DROWN
	IN? LEM,CAGE \?L1
	CALL1 EXIT-LEM
	FSET DLEM,CHILLY
	MOVE DLEM,CAGE
?L1:	IN? MAGPIE,CAGE \?L4
	CALL1 EXIT-MAGPIE
	FSET DMAGPIE,CHILLY
	MOVE DMAGPIE,CAGE
?L4:	IN? MEEP,CAGE \TRUE
	CALL1 EXIT-MEEP
	FSET DMEEP,CHILLY
	MOVE DMEEP,CAGE
	RTRUE

	.FUNCT DEAD-ANIMAL-F,X
	ZERO? NOW-PRSI? \?L1
	SET 'X,PRSO
	JUMP ?L3
?L1:	SET 'X,PRSI
?L3:	CALL2 ADJ-USED?,W?DROWNED >STACK
	ZERO? STACK /?L7
	FSET? X,CHILLY \?L6
?L7:	CALL ADJ-USED?,W?CREMATED,W?INCINERAT,W?BURNED >STACK
	ZERO? STACK /?L4
	FSET? X,CHILLY \?L4
?L6:	CALL1 CANT-SEE-ANY
	RETURN 2
?L4:	EQUAL? PRSA,V?EXAMINE \?L10
	PRINTI "It's dead."
	FSET? PRSO,NOGRASS \?L11
	CRLF
	RTRUE
?L11:	FSET? PRSO,CHILLY \?L13
	PRINTI " Drown"
	JUMP ?L14
?L13:	PRINTI " Cremat"
?L14:	PRINTR "[RIDX: 6653]"
?L10:	EQUAL? PRSA,V?KILL \?L15
	CALL2 PRINT-ID,STR?462
	CALL2 ITS-ALREADY,STR?409
	RTRUE
?L15:	EQUAL? PRSA,V?KISS \FALSE
	CALL2 PRINT-ID,STR?463
	CALL1 V-RAPE
	RTRUE

	.FUNCT DESCRIBE-BOX,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "A"
	CALL OPEN-CLOSED,BOX,1
	CALL1 BOX-LOCKED? >STACK
	ZERO? STACK /?L4
	PRINTI "[RIDX: 6660]"
	PRINTD PADLOCK
	PRINTI ","
?L4:	PRINTI " is lying"
	PRINT AGROUND
	PRINTI " nearby."
	CALL2 SEE-ANYTHING-IN?,BOX >STACK
	ZERO? STACK /TRUE
	FSET? BOX,OPENED \?L9
	PRINTI " Inside "
	JUMP ?L11
?L9:	PRINTI " On it "
?L11:	PRINTI "you see "
	CALL2 PRINT-CONTENTS,BOX
	PRINTI "."
	RTRUE

	.FUNCT BOX-LOCKED?
	FSET? BOX,OPENED /FALSE
	IN? PADLOCK,BOX \FALSE
	FSET? PADLOCK,LOCKED \FALSE
	FSET? PADLOCK,NODESC \FALSE
	RTRUE

	.FUNCT BAG-IN-BOX?
	EQUAL? PRSO,BAG \FALSE
	MOVE PRSO,AT-ZERO
	PRINTI "The top-heavy "
	PRINTD PRSO
	PRINTI " falls "
	EQUAL? PRSA,V?PUT \?L4
	PRINTI "out of the shallow"
	JUMP ?L6
?L4:	PRINTI "off the"
?L6:	PRINTR " box[RIDX: 5688]"

	.FUNCT BOX-F,L=0
	CALL1 BOX-LOCKED? >L
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT \?L3
	FSET? PRSI,OPENED /?L5
	CALL2 ITS-CLOSED,PRSI
	RTRUE
?L5:	CALL1 BAG-IN-BOX? >STACK
	ZERO? STACK /FALSE
	RTRUE
?L3:	EQUAL? PRSA,V?PUT-ON \FALSE
	CALL1 BAG-IN-BOX? >STACK
	ZERO? STACK /FALSE
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L11
	PRINTI "The"
	CALL2 OPEN-CLOSED,PRSO
	PRINTI "[RIDX: 6675]"
	ZERO? L /?L12
	PRINTI "[RIDX: 6676]"
	PRINTD PADLOCK
?L12:	FSET? PRSO,OPENED /?L15
	CALL2 SEE-ANYTHING-IN?,PRSO >STACK
	ZERO? STACK /?L15
	PRINTI ". On it you see "
	CALL2 PRINT-CONTENTS,PRSO
?L15:	PRINT PERIOD
	RTRUE
?L11:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L18
	FSET? PRSO,OPENED \?L19
	PRINT YOU-SEE
	CALL2 PRINT-CONTENTS,PRSO
	PRINTR " inside the box."
?L19:	CALL1 ITS-CLOSED
	RTRUE
?L18:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH \?L22
	FSET? PRSO,OPENED \?L23
	CALL2 ITS-ALREADY,STR?70
	RTRUE
?L23:	EQUAL? PRSI,0,HANDS \?L25
	IN? PADLOCK,PRSO \?L26
	FSET? PADLOCK,NODESC \?L26
	SET 'P-IT-OBJECT,PADLOCK
	CALL YOUD-HAVE-TO,STR?111,PADLOCK
	RTRUE
?L26:	CALL1 OPEN-BOX
	RTRUE
?L25:	EQUAL? PRSI,TKEY \?L29
	ZERO? L /?L30
	CALL PERFORM,V?UNLOCK,PADLOCK,PRSI >L
	CRLF
	CALL1 OPEN-BOX
	RTRUE
?L30:	CALL1 BOX-NOT-LOCKED
	RTRUE
?L29:	EQUAL? PRSI,AXE,SPADE \?L33
	CALL1 HURT-BOX
	RTRUE
?L33:	CALL NOT-LIKELY,PRSI,STR?464
	RTRUE
?L22:	EQUAL? PRSA,V?UNLOCK \?L35
	ZERO? L \?L36
	CALL1 BOX-NOT-LOCKED
	RTRUE
?L36:	EQUAL? PRSI,TKEY \?L38
	CALL PERFORM,V?UNLOCK,PADLOCK,PRSI >L
	CRLF
	CALL1 OPEN-BOX
	RTRUE
?L38:	CALL NOT-LIKELY,PRSI,STR?465
	RTRUE
?L35:	EQUAL? PRSA,V?CLOSE \?L40
	FSET? PRSO,OPENED /?L41
	CALL2 ITS-ALREADY,STR?71
	RTRUE
?L41:	IN? MEEP,PRSO \?L43
	CALL YOUD-HAVE-TO,STR?301,MEEP
	RTRUE
?L43:	FCLEAR PRSO,OPENED
	FCLEAR PRSO,CONTAINER
	FSET PRSO,SURFACE
	CALL MOVE-ALL,PRSO,IN-BOX
	PRINTR "[RIDX: 6685]"
?L40:	EQUAL? PRSA,V?HIT,V?CUT,V?MUNG /?L46
	EQUAL? PRSA,V?KICK \?L45
?L46:	EQUAL? PRSA,V?KICK /?L49
	EQUAL? PRSI,0,HANDS,FEET \?L47
?L49:	CALL1 BEST-KARATE
	RTRUE
?L47:	EQUAL? PRSI,LUMP,AXE,SPADE \?L50
	CALL1 HURT-BOX
	RTRUE
?L50:	CALL NOT-LIKELY,PRSI,STR?466
	RTRUE
?L45:	EQUAL? PRSA,V?LOCK \?L52
	ZERO? PRSI /?L52
	ZERO? L /?L53
	CALL2 ITS-ALREADY,STR?467
	RTRUE
?L53:	EQUAL? PRSI,TKEY \?L55
	PRINT DONT
	PRINTR "[RIDX: 6688]"
?L55:	EQUAL? PRSI,PADLOCK /?L57
	EQUAL? PRSI,HANDS \?L64
	IN? PADLOCK,PLAYER \?L56
?L57:	FSET? PRSO,OPENED \?L58
	CALL PERFORM,V?CLOSE,PRSO >L
	CRLF
?L58:	IN? PADLOCK,PRSO /?L61
	CALL PERFORM,V?PUT,PADLOCK,PRSO >L
	CRLF
?L61:	CALL PERFORM,V?CLOSE,PADLOCK >L
	RTRUE
?L56:	EQUAL? PRSI,HANDS \?L64
	PRINT DONT
	PRINTI "have the "
	PRINTD PADLOCK
	PRINT PERIOD
	RTRUE
?L64:	CALL NOT-LIKELY,PRSI,STR?468
	RTRUE
?L52:	EQUAL? PRSA,V?LOOK-UNDER /?L67
	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
?L67:	CALL1 PRSO-TOO-BIG
	RTRUE

	.FUNCT HURT-BOX
	PRINTI "[RIDX: 6691]"
	PRINT IF-YOU-DID
	CALL2 PRINT-ID,STR?469
	RTRUE

	.FUNCT BOX-NOT-LOCKED
	PRINTR "[RIDX: 6693]"

	.FUNCT OPEN-BOX,OBJ,NXT,CNT=0,1ST
	FIRST? BOX >OBJ /?L4
	JUMP ?L3
?L1:	ZERO? OBJ /?L3
?L4:	NEXT? OBJ >NXT /?L7
?L7:	FSET? OBJ,TAKEABLE \?L8
	FCLEAR OBJ,NODESC
	MOVE OBJ,AT-ZERO
	SET '1ST,OBJ
	INC 'CNT
?L8:	SET 'OBJ,NXT
	JUMP ?L1
?L3:	ZERO? CNT \?L11
	PRINTI "[RIDX: 6695]"
	JUMP ?L13
?L11:	EQUAL? CNT,1 \?L14
	CALL2 CTHE-PRINT,1ST
	JUMP ?L16
?L14:	PRINTI "Everything"
?L16:	PRINTI "[RIDX: 6697]"
?L13:	FSET BOX,OPENED
	FSET BOX,CONTAINER
	FCLEAR BOX,SURFACE
	CALL MOVE-ALL,IN-BOX,BOX
	PRINTI ", revealing "
	CALL2 PRINT-CONTENTS,BOX
	PRINTR " inside."

	.FUNCT PADLOCK-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT \FALSE
	EQUAL? PRSO,TKEY \?L5
	MOVE PRSO,PRSI
	PRINTI "You slide the "
	PRINTD PRSO
	JUMP ?L9
?L5:	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,1 \?L7
	PRINTI "You'd never fit "
	CALL1 THE-PRINT
	JUMP ?L9
?L7:	IN? TKEY,PRSI \?L8
	CALL YOUD-HAVE-TO,STR?301,TKEY
	RTRUE
?L8:	CALL1 CTHE-PRINT
	PRINTI " doesn't fit"
?L9:	PRINTI " into the "
	PRINTD PRSI
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE \?L11
	PRINTI "The "
	FSET? PRSO,LOCKED /?L12
	PRINTI "open "
?L12:	PRINTD PRSO
	PRINTR "[RIDX: 6709]"
?L11:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?UNLOCK /?L16
	EQUAL? PRSA,V?PICK \?L15
?L16:	FSET? PRSO,LOCKED /?L17
	CALL1 CTHE-PRINT
	PRINTR " isn't locked."
?L17:	EQUAL? PRSI,0,HANDS,TKEY \?L19
	EQUAL? PRSI,TKEY /?L22
	IN? TKEY,PADLOCK \?L20
?L22:	CALL1 OPEN-PADLOCK
	RTRUE
?L20:	CALL1 HOW?
	RTRUE
?L19:	CALL NOT-LIKELY,PRSI,STR?470
	RTRUE
?L15:	EQUAL? PRSA,V?CLOSE,V?LOCK \?L25
	FSET? PRSO,LOCKED \?L26
	CALL2 ITS-ALREADY,STR?71
	RTRUE
?L26:	EQUAL? PRSI,0,HANDS /?L28
	PRINT DONT
	PRINTI "need "
	CALL1 THEI-PRINT
	PRINTI " to close the "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L28:	FSET PRSO,LOCKED
	PRINTI "You snap the "
	PRINTD PRSO
	PRINTI " shut."
	CRLF
	IN? PRSO,BOX \TRUE
	FSET? BOX,OPENED /TRUE
	FCLEAR PRSO,TAKEABLE
	FSET PRSO,NODESC
	FSET PRSO,NOALL
	CRLF
	PRINTR "[RIDX: 6717]"
?L25:	EQUAL? PRSA,V?TAKE,V?PULL,V?MOVE /?L34
	EQUAL? PRSA,V?LOOSEN,V?PUSH,V?PUSH-TO /?L34
	EQUAL? PRSA,V?RAISE,V?LOWER,V?SHAKE /?L34
	EQUAL? PRSA,V?KICK,V?RELEASE,V?TAKE-OFF \?L33
?L34:	CALL1 BOX-LOCKED? >STACK
	ZERO? STACK /?L33
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6718]"
?L33:	EQUAL? PRSA,V?LOOK-INSIDE,V?REACH-IN \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT OPEN-PADLOCK
	FCLEAR PADLOCK,LOCKED
	FSET PADLOCK,TAKEABLE
	FCLEAR PADLOCK,NOALL
	IN? TKEY,PADLOCK \?L1
	CALL2 CTHE-PRINT,PADLOCK
	JUMP ?L3
?L1:	MOVE TKEY,PADLOCK
	PRINTI "[RIDX: 6719]"
	PRINTD PADLOCK
	PRINTI ". It"
?L3:	PRINTI "[RIDX: 6721]"
	CRLF
	FSET? PADLOCK,TOUCHED /TRUE
	FSET PADLOCK,TOUCHED
	CALL1 UPDATE-SCORE
	RTRUE

	.FUNCT PANEL-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?PUT-ON \FALSE
	CALL PERFORM,PRSA,PRSO,BOX
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L7
	EQUAL? PRSA,V?SEARCH \?L6
?L7:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6723]"
	PRINTD METERS
	PRINTI "[RIDX: 6724]"
	PRINTD BREAKER
	PRINT PERIOD
	RTRUE
?L6:	EQUAL? PRSA,V?LOOK-UNDER,V?LOOK-BEHIND,V?OPEN /?L9
	EQUAL? PRSA,V?OPEN-WITH /?L9
	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
?L9:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6725]"
	PRINT CANT
	PRINTR "budge it."

	.FUNCT METERS-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ /?L3
	EQUAL? PRSA,V?SEARCH \?L1
?L3:	CALL1 CTHE-PRINT
	PRINTI " on the "
	PRINTD PANEL
	PRINTR "[RIDX: 6729]"
?L1:	EQUAL? PRSA,V?LAMP-ON,V?LAMP-OFF \?L4
	CALL1 HOW?
	RTRUE
?L4:	EQUAL? PRSA,V?LOOK-UNDER,V?LOOK-BEHIND,V?OPEN /?L6
	EQUAL? PRSA,V?OPEN-WITH /?L6
	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
?L6:	CALL FIRMLY-ATTACHED,PRSO,PANEL
	RTRUE

	.FUNCT BREAKER-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	PRINTI "The heavy-duty "
	PRINTD PRSO
	PRINTI "[RIDX: 6733]"
	FSET? PRSO,OPENED \?L4
	PRINTR "open."
?L4:	PRINTR "closed."
?L3:	EQUAL? PRSA,V?LAMP-OFF,V?OPEN,V?OPEN-WITH /?L8
	EQUAL? PRSA,V?RAISE,V?PULL,V?LOOSEN \?L7
?L8:	EQUAL? PRSI,0,HANDS \?L7
	FSET? PRSO,OPENED \?L9
	CALL2 ITS-ALREADY,STR?70
	RTRUE
?L9:	FSET PRSO,OPENED
	PRINTI "[RIDX: 6737]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L7:	EQUAL? PRSA,V?LAMP-ON,V?CLOSE,V?LOWER /?L13
	EQUAL? PRSA,V?PUSH \?L12
?L13:	EQUAL? PRSI,0,HANDS \?L12
	FSET? PRSO,OPENED \?L14
	FCLEAR PRSO,OPENED
	FSET PRSO,BORING
	PRINTI "[RIDX: 6738]"
	PRINTD PRSO
	PRINT PERIOD
	CALL1 HEAR-BAKER? >STACK
	ZERO? STACK /TRUE
	CRLF
	PRINTI """Hold on, "
	PRINTD ABLE
	PRINTI "[RIDX: 6740]"
	PRINTD PITTS
	PRINTI ". If it dies again"
	LESS? MINUTES,29 \?L19
	PRINTI "[RIDX: 6742]"
?L19:	PRINTI "[RIDX: 6743]"
	PRINTD BAKER
	PRINTI "[RIDX: 6744]"
	CRLF
	CALL1 UPDATE-SCORE
	RTRUE
?L14:	CALL2 ITS-ALREADY,STR?71
	RTRUE
?L12:	EQUAL? PRSA,V?TURN,V?MOVE \?L23
	FSET? PRSO,OPENED \?L24
	CALL PERFORM,V?LAMP-ON,PRSO,PRSI
	RTRUE
?L24:	CALL PERFORM,V?LAMP-OFF,PRSO,PRSI
	RTRUE
?L23:	EQUAL? PRSA,V?TAKE,V?LOOSEN,V?UNSCREW /?L28
	EQUAL? PRSA,V?UNSCREW-FROM \FALSE
?L28:	CALL FIRMLY-ATTACHED,PRSO,PANEL
	RTRUE

	.FUNCT HEAR-BAKER?
	EQUAL? TFREQ,MAGICFREQ \FALSE
	FSET? RDIAL,SEEN \FALSE
	FSET? ANTENNA,OPENED \FALSE
	FSET? WSWITCH,OPENED /FALSE
	FSET? WTK,CHILLY /FALSE
	CALL2 VISIBLE?,WTK >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT GROVES-F,CONTEXT=0
	SET 'P-HIM-OBJECT,GROVES
	PRINT CANT
	PRINTI "[RIDX: 6748]"
	CRLF
	RETURN 2

	.FUNCT SBUNK-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L1
	PRINTI "The square "
	PRINTD PRSO
	PRINTI "[RIDX: 6752]"
	CALL1 SEE-SBENTRY
	RTRUE
?L1:	CALL1 HANDLE-SBUNK? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT HANDLE-SBUNK?
	EQUAL? PRSA,V?SEARCH,V?LOOK-INSIDE \?L1
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6753]"
	PRINTD MIKE
	PRINTR "[RIDX: 6754]"
?L1:	EQUAL? PRSA,V?LISTEN \?L3
	CALL1 HEAR-SBUNK
	RTRUE
?L3:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L5
	EQUAL? PRSA,V?CROSS \?L4
?L5:	CALL2 DO-WALK,P?NE
	RTRUE
?L4:	CALL1 EXITING? >STACK
	ZERO? STACK /?L6
	CALL2 NOT-IN,SBUNK
	RTRUE
?L6:	EQUAL? PRSA,V?SMELL /?L8
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
?L8:	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT SBENTRY-F
	EQUAL? PRSA,V?EXAMINE \?L1
	CALL1 SEE-SBENTRY
	RTRUE
?L1:	CALL1 HANDLE-SBUNK? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT SEE-SBENTRY
	PRINTI "[RIDX: 6756]"
	PRINTD GDESERT
	PRINTI "[RIDX: 6757]"
	PRINTD SBENTRY
	PRINT PERIOD
	RTRUE

	.FUNCT SHED-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT-BEHIND \?L3
	CALL1 CANT-FROM-HERE
	RTRUE
?L3:	EQUAL? PRSA,V?PUT-ON \?L5
	CALL2 TOO-HIGH,PRSI
	RTRUE
?L5:	EQUAL? PRSA,V?PUT \?L6
	CALL1 NO-SHED-HOLE
	RTRUE
?L6:	EQUAL? PRSA,V?THROW,V?THROW-OVER \FALSE
	CALL VOICE-MUTTERS,STR?471,0
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE \?L9
	PRINTR "[RIDX: 6760]"
?L9:	EQUAL? PRSA,V?WALK-AROUND \?L10
	CALL2 DO-WALK,P?NE
	RTRUE
?L10:	EQUAL? PRSA,V?LOOK-BEHIND \?L11
	CALL PERFORM,V?EXAMINE,SBUNK
	RTRUE
?L11:	EQUAL? PRSA,V?HIDE \?L12
	PRINT YOURE-ALREADY
	PRINTI "behind the "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L12:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L15
	EQUAL? PRSA,V?OPEN,V?CLOSE,V?LOOK-INSIDE /?L15
	EQUAL? PRSA,V?REACH-IN,V?SEARCH,V?EMPTY \?L13
?L15:	CALL1 NO-SHED-HOLE
	RTRUE
?L13:	EQUAL? PRSA,V?ESCAPE /FALSE
	CALL1 EXITING? >STACK
	ZERO? STACK \?L18
	EQUAL? PRSA,V?LEAP,V?CLIMB-DOWN \?L17
?L18:	CALL1 NOT-IN
	RTRUE
?L17:	EQUAL? PRSA,V?STAND-ON,V?CLIMB-OVER,V?CLIMB-UP /?L20
	EQUAL? PRSA,V?CLIMB-ON,V?SIT,V?LIE-DOWN \FALSE
?L20:	CALL1 TOO-HIGH
	RTRUE

	.FUNCT NO-SHED-HOLE
	PRINT CANT
	PRINTI "see any "
	PRINTD CAVE-HOLE
	PRINTR " here."

	.FUNCT TKEY-F
	FSET? TKEY,SEEN /?L1
	CALL1 REFERRING
	RETURN 2
?L1:	FSET? TKEY,TOUCHED /?L5
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L5
	CALL1 CANT-FROM-HERE
	RTRUE
?L5:	ZERO? NOW-PRSI? \FALSE
	INTBL? PRSA,SEEVERBS,NSVERBS >STACK \?L7
	FSET? PRSO,TOUCHED /?L7
	IN? BINOS,PLAYER \?L8
	CALL1 LOOK-THRU-BINOS
	EQUAL? PRSA,V?FOCUS-ON,V?EXAMINE,V?LOOK-ON /?L10
	EQUAL? PRSA,V?WATCH,V?LOOK-THRU,V?READ \FALSE
?L10:	CALL1 CTHE-PRINT
	PRINTI " is in the "
	PRINTD PADLOCK
	PRINTR "[RIDX: 6766]"
?L8:	CALL1 NOT-WITHOUT-BINOS
	RTRUE
?L7:	EQUAL? PRSA,V?TURN \FALSE
	EQUAL? PRSI,0,HANDS \FALSE
	IN? PRSO,PADLOCK \?L15
	CALL PERFORM,V?UNLOCK,PADLOCK,TKEY
	RTRUE
?L15:	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT BBOX-F
	FSET? BBOX,SEEN /?L1
	CALL1 REFERRING
	RETURN 2
?L1:	INTBL? PRSA,SEEVERBS,NSVERBS >STACK \?L5
	ZERO? NOW-PRSI? \?L5
	IN? BINOS,PLAYER \?L6
	CALL1 LOOK-THRU-BINOS
	EQUAL? PRSA,V?FOCUS-ON,V?LOOK-THRU,V?EXAMINE /?L8
	EQUAL? PRSA,V?WATCH,V?READ /?L8
	CALL1 CANT-FROM-HERE
	RTRUE
?L8:	CALL2 CTHE-PRINT,BBOX
	PRINTI "[RIDX: 6768]"
	PRINTD TOWER
	CALL1 MENTION-TKEY
	RTRUE
?L6:	CALL1 NOT-WITHOUT-BINOS
	RTRUE
?L5:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT LOOK-THRU-BINOS
	SET 'BSEEN,PRSO
	PRINTI "[RIDX: 6769]"
	PRINTD BINOS
	PRINT BRACKET
	RTRUE

	.FUNCT NOT-WITHOUT-BINOS
	SET 'P-THEM-OBJECT,BINOS
	PRINT CANT
	PRINTI "quite see "
	CALL1 THE-PRINT
	PRINTI " without the "
	PRINTD BINOS
	PRINT PERIOD
	RTRUE

	.FUNCT AWINDOWS-F
	EQUAL? PRSA,V?EXAMINE,V?SEARCH \?L1
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6773]"
?L1:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?RAISE /?L4
	EQUAL? PRSA,V?MOVE,V?PULL,V?PUSH /?L4
	EQUAL? PRSA,V?PUSH-TO \?L3
?L4:	ZERO? NOW-PRSI? \?L3
	PRINTI "The tape on the "
	PRINTD PRSO
	PRINTR " prevents this."
?L3:	CALL1 WINDOWS-F >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT WINDOWS-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?THROW,V?THROW-OVER \FALSE
	CALL1 WASTE-OF-TIME
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?SEARCH \?L6
	CALL1 ITS-CLOSED
	RTRUE
?L6:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-OUTSIDE,V?LOOK-BEHIND /?L8
	EQUAL? PRSA,V?USE \?L7
?L8:	CALL1 CANT-SEE-MUCH
	RTRUE
?L7:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?RAISE /?L10
	EQUAL? PRSA,V?PULL,V?PUSH,V?MOVE /?L10
	EQUAL? PRSA,V?PUSH-TO \?L9
?L10:	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6777]"
?L9:	EQUAL? PRSA,V?UNLOCK \?L11
	PRINTR "They're not locked."
?L11:	EQUAL? PRSA,V?CLOSE,V?LOWER \?L12
	CALL1 CTHE-PRINT
	PRINTR " are already closed."
?L12:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L15
	EQUAL? PRSA,V?CLIMB-ON,V?LEAP,V?CLIMB-OVER /?L15
	EQUAL? PRSA,V?CROSS,V?REACH-IN \?L13
?L15:	CALL1 ITS-CLOSED
	RTRUE
?L13:	INTBL? PRSA,HURTVERBS,NHVERBS >STACK \FALSE
	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT DESCRIBE-WBENCH,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "A "
	PRINTD WBENCH
	PRINTI "[RIDX: 6783]"
	PRINTD BPAPER
	PRINTI "[RIDX: 6784]"
	CALL1 AND-OTHER-DEBRIS
	RTRUE

	.FUNCT AND-OTHER-DEBRIS
	PRINT YOU-SEE
	CALL2 PRINT-CONTENTS,BPAPER
	PRINTI " and other "
	PRINTD DEBRIS
	PRINTI "[RIDX: 6786]"
	RTRUE

	.FUNCT WBENCH-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?PUT-ON,V?TAKE /?L5
	EQUAL? PRSA,V?THROW \?L3
?L5:	CALL PERFORM,PRSA,PRSO,BPAPER
	RTRUE
?L3:	EQUAL? PRSA,V?PUT-UNDER,V?PUT-BEHIND,V?STAND-UNDER \FALSE
	PRINTI "[RIDX: 6787]"
	PRINTD PRSI
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?SEARCH \?L8
	CALL PERFORM,V?LOOK-UNDER,BPAPER
	RTRUE
?L8:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L9
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6788]"
	PRINTD BPAPER
	CALL1 LOOK-ON-BPAPER
	RTRUE
?L9:	EQUAL? PRSA,V?PUSH,V?PULL,V?MOVE /?L11
	EQUAL? PRSA,V?PUSH-TO,V?RAISE,V?LOWER \?L10
?L11:	CALL FIRMLY-ATTACHED,WBENCH,WALLS
	RTRUE
?L10:	EQUAL? PRSA,V?EMPTY \?L12
	CALL PERFORM,PRSA,BPAPER
	RTRUE
?L12:	CALL1 HANDLE-BPAPER? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT BPAPER-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT-UNDER,V?PUT-BEHIND,V?STAND-UNDER \FALSE
	CALL1 WASTE-OF-TIME
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L6
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6790]"
	PRINTD WBENCH
	CALL1 LOOK-ON-BPAPER
	RTRUE
?L6:	EQUAL? PRSA,V?TAKE,V?SEARCH,V?LOOK-INSIDE /?L8
	EQUAL? PRSA,V?MOVE,V?PULL,V?RAISE /?L8
	EQUAL? PRSA,V?LOOK-UNDER,V?LOOK-BEHIND \?L7
?L8:	FSET? SDRIVER,NODESC \?L9
	FCLEAR SDRIVER,NODESC
	MOVE SDRIVER,NEROOM
	SET 'P-IT-OBJECT,SDRIVER
	FCLEAR HANDS,TOOL
	PRINTI "[RIDX: 6791]"
	PRINTD SDRIVER
	PRINTI "[RIDX: 6792]"
	CRLF
	CALL2 PRINT-ID,STR?472
	RTRUE
?L9:	PRINTI "[RIDX: 6794]"
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L7:	CALL1 HANDLE-BPAPER? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT LOOK-ON-BPAPER
	PRINTI ". On it you see "
	CALL2 PRINT-CONTENTS,BPAPER
	PRINTI " and other "
	PRINTD DEBRIS
	PRINT PERIOD
	RTRUE

	.FUNCT HANDLE-BPAPER?
	EQUAL? PRSA,V?SIT,V?STAND-ON,V?LIE-DOWN /?L3
	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?RIDE /?L3
	EQUAL? PRSA,V?CROSS,V?LEAP \?L1
?L3:	CALL NOT-LIKELY,WBENCH,STR?473
	RTRUE
?L1:	INTBL? PRSA,HURTVERBS,NHVERBS >STACK \FALSE
	CALL1 WASTE-OF-TIME
	RTRUE

	.FUNCT SDRIVER-F
	EQUAL? PRSA,V?EXAMINE,V?READ \FALSE
	PRINTI "[RIDX: 6800]"
	PRINTD PRSO
	PRINTR ". Really."

	.FUNCT AJUNK-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?TAKE,V?LOOK-INSIDE /?L3
	EQUAL? PRSA,V?SEARCH,V?LOOK-UNDER,V?LOOK-BEHIND /?L3
	EQUAL? PRSA,V?PUSH,V?MOVE,V?PULL /?L3
	EQUAL? PRSA,V?RAISE \FALSE
?L3:	PRINTI "[RIDX: 6804]"
	PRINTD PRSO
	PRINTI " on the "
	PRINTD WBENCH
	PRINTI ", but find nothing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE

	.FUNCT SNAKE-F
	FSET? SNAKE,LIVING /?L1
	CALL2 CTHE-PRINT,SNAKE
	PRINTI " isn't here anymore."
	CRLF
	RETURN 2
?L1:	EQUAL? HERE,IN-CLOSET \?L5
	FSET? CLOSET-DOOR,OPENED /?L5
	PRINTI "Luckily, the "
	PRINTD SNAKE
	PRINTI "[RIDX: 6813]"
	PRINTD CLOSET-DOOR
	PRINT PERIOD
	RETURN 2
?L5:	ZERO? NOW-PRSI? /?L8
	EQUAL? PRSA,V?THROW,V?THROW-OVER \?L9
	PRINTI "[RIDX: 6814]"
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L9:	EQUAL? PRSA,V?GIVE,V?SHOW,V?FEED \FALSE
	CALL2 SNAKE-RESPONSE,STR?474
	RTRUE
?L8:	EQUAL? PRSA,V?EXAMINE \?L13
	PRINTR "[RIDX: 6816]"
?L13:	EQUAL? PRSA,V?KILL,V?HIT,V?MUNG /?L15
	EQUAL? PRSA,V?CUT,V?RIP,V?KICK /?L15
	EQUAL? PRSA,V?KNOCK,V?BITE,V?STAND-ON /?L15
	EQUAL? PRSA,V?EAT,V?TASTE \?L14
?L15:	PRINTI "[RIDX: 5590]"
	PRINTD PRSO
	PRINTI ", "
	EQUAL? PRSA,V?KICK,V?STAND-ON /?L18
	EQUAL? PRSI,FEET \?L16
?L18:	PRINTD FEET
	JUMP ?L22
?L16:	EQUAL? PRSA,V?BITE,V?EAT,V?TASTE \?L19
	PRINTI "teeth"
	JUMP ?L22
?L19:	EQUAL? PRSA,V?KNOCK /?L21
	EQUAL? PRSI,0,HANDS \?L20
?L21:	PRINTD HANDS
	JUMP ?L22
?L20:	PRINTD PRSI
?L22:	PRINTI " poised to strike."
	CRLF
	CALL2 PRINT-ID,STR?475
	RTRUE
?L14:	EQUAL? PRSA,V?TAKE,V?SHAKE,V?TOUCH /?L24
	EQUAL? PRSA,V?SWING,V?SQUEEZE,V?RAISE /?L24
	EQUAL? PRSA,V?MOVE,V?PULL,V?PUSH /?L24
	EQUAL? PRSA,V?PUSH-TO,V?UNTANGLE,V?UNFOLD \?L23
?L24:	EQUAL? P-PRSA-WORD,W?RATTLE \?L25
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6822]"
?L25:	PRINTI "You reach out to "
	EQUAL? PRSA,V?TOUCH,V?SHAKE,V?SQUEEZE \?L28
	PRINTB P-PRSA-WORD
	JUMP ?L30
?L28:	PRINTI "grasp"
?L30:	PRINTI " the angry reptile."
	CRLF
	CALL2 PRINT-ID,STR?476
	RTRUE
?L23:	EQUAL? PRSA,V?KISS,V?RAPE \?L31
	CALL2 PRINT-ID,STR?477
	CALL2 VOICE-MUTTERS,STR?478
	RTRUE
?L31:	EQUAL? PRSA,V?WAVE-AT,V?POINT-AT \?L32
	CALL2 SNAKE-RESPONSE,STR?479
	RTRUE
?L32:	EQUAL? PRSA,V?TELL \?L33
	ZERO? P-CONT /?L33
	CALL2 SNAKE-RESPONSE,STR?480
	RETURN 2
?L33:	EQUAL? PRSA,V?ASK-ABOUT,V?ASK-FOR,V?QUESTION /?L37
	EQUAL? PRSA,V?WHO,V?WHAT,V?WHERE \?L36
?L37:	CALL2 SNAKE-RESPONSE,STR?481
	RTRUE
?L36:	EQUAL? PRSA,V?YELL,V?ALARM,V?TELL-ABOUT /?L39
	EQUAL? PRSA,V?REPLY,V?THANK,V?HELLO /?L39
	EQUAL? PRSA,V?SAY,V?GOODBYE \?L38
?L39:	CALL2 SNAKE-RESPONSE,STR?480
	RTRUE
?L38:	EQUAL? PRSA,V?LISTEN \?L40
	CALL1 HEAR-SNAKE
	RTRUE
?L40:	EQUAL? PRSA,V?WATCH \FALSE
	CALL2 I-SNAKE,0
	RTRUE

	.FUNCT SNAKE-RESPONSE,STR
	PRINTI "Your "
	PRINT STR
	PRINTR "[RIDX: 6834]"

	.FUNCT WTK-F
	CALL ADJ-USED?,W?DRIPPING,W?WET,W?WATERY >STACK
	ZERO? STACK /?L1
	FSET? WTK,CHILLY /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	ZERO? NOW-PRSI? /?L5
	EQUAL? PRSA,V?PUT,V?PUT-ON \FALSE
	CALL1 NO-GOOD-SURFACE
	RTRUE
?L5:	EQUAL? PRSA,V?LISTEN \?L9
	FSET? WSWITCH,OPENED /?L9
	FSET? PRSO,CHILLY /?L9
	FSET PRSO,SEEN
	CALL1 CTHE-PRINT
	CALL2 PICK-NEXT,HISSES >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L9:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L10
	CALL1 CTHE-PRINT
	FSET? PRSO,CHILLY \?L11
	PRINTI " is dripping wet. It"
?L11:	PRINTI " has a "
	PRINTD WSWITCH
	PRINTI ", a "
	PRINTD INTNUM
	PRINTI "ed "
	PRINTD SLIDER
	PRINTI ", a telescoping "
	PRINTD ANTENNA
	PRINTI " (now "
	FSET? ANTENNA,OPENED \?L14
	PRINTI "rais"
	JUMP ?L16
?L14:	PRINTI "lower"
?L16:	PRINTI "ed) and a large "
	PRINTD WBUTTON
	PRINT PERIOD
	RTRUE
?L10:	EQUAL? PRSA,V?LAMP-ON,V?LAMP-OFF \?L17
	EQUAL? PRSI,0,HANDS \?L17
	CALL PERFORM,PRSA,WSWITCH
	RTRUE
?L17:	EQUAL? PRSA,V?TURN-TO,V?TUNE-TO \?L18
	EQUAL? PRSI,INTNUM \?L18
	CALL PERFORM,PRSA,SLIDER,PRSI
	RTRUE
?L18:	EQUAL? PRSA,V?REPAIR \FALSE
	CALL NOT-LIKELY,PRSI,STR?482
	RTRUE

	.FUNCT ANTENNA-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE \?L3
	CALL1 CTHE-PRINT
	PRINTI " is "
	FSET? PRSO,OPENED \?L4
	PRINTR "[RIDX: 6851]"
?L4:	PRINTI "[RIDX: 6852]"
	PRINTD WTK
	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?RAISE /?L8
	EQUAL? PRSA,V?PULL,V?UNFOLD,V?UNPLUG \?L7
?L8:	FSET? PRSO,OPENED \?L9
	CALL1 CTHE-PRINT
	PRINTR " is already pulled out[RIDX: 4472]"
?L9:	FSET PRSO,OPENED
	PRINTI "You pull the "
	PRINTD PRSO
	PRINTI " out of the "
	PRINTD WTK
	PRINTR "[RIDX: 6856]"
?L7:	EQUAL? PRSA,V?CLOSE,V?LOWER,V?FOLD /?L13
	EQUAL? PRSA,V?PUSH,V?PLUG \?L12
?L13:	FSET? PRSO,OPENED \?L14
	FCLEAR PRSO,OPENED
	PRINTI "You push the "
	PRINTD PRSO
	PRINTI " back into the "
	PRINTD WTK
	PRINT PERIOD
	RTRUE
?L14:	CALL1 CTHE-PRINT
	PRINTR " is already pushed in[RIDX: 4472]"
?L12:	EQUAL? PRSA,V?TAKE,V?LOOSEN,V?UNSCREW /?L18
	EQUAL? PRSA,V?UNSCREW-FROM \FALSE
?L18:	CALL FIRMLY-ATTACHED,PRSO,WTK
	RTRUE

	.FUNCT SLIDER-F,OLD,F=0
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L3
	CALL1 PRSO-CALIBRATED
	FSET? WTK,FLIPPED \?L4
	PRINTI "[RIDX: 6863]"
?L4:	CALL1 NOW-SET-TO
	PRINTN TFREQ
	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?TURN-TO,V?PUSH-TO,V?TUNE-TO /?L8
	EQUAL? PRSA,V?POINT-AT \?L7
?L8:	FSET? PRSO,FLIPPED \?L9
	SET 'F,1
?L9:	EQUAL? PRSI,INTNUM \?L12
	CALL2 RANGE-ERROR?,TFREQ >STACK
	ZERO? STACK \TRUE
	SET 'P-IT-OBJECT,WTK
	SET 'TFREQ,P-NUMBER
	CALL1 TILL-POINTS
	FSET? RDIAL,SEEN \TRUE
	EQUAL? TFREQ,MAGICFREQ \TRUE
	FSET? PRSO,SEEN /TRUE
	FSET PRSO,SEEN
	CALL2 UPDATE-SCORE,3
	RTRUE
?L12:	EQUAL? PRSI,RIGHT \?L20
	ZERO? F \?L56
	EQUAL? TFREQ,80 /?L23
	ZERO? F /?L57
?L56:	EQUAL? TFREQ,20 \?L21
?L23:	CALL1 FAR-AS-IT-GOES
	RTRUE
?L21:	ZERO? F \?L26
?L57:	ADD TFREQ,5 >OLD
	JUMP ?L28
?L26:	SUB TFREQ,5 >OLD
?L28:	ZERO? F \?L58
	GRTR? OLD,79 \?L29
	SET 'OLD,80
	JUMP ?L31
?L29:	ZERO? F /?L31
?L58:	LESS? OLD,20 \?L31
	SET 'OLD,20
?L31:	SET 'TFREQ,OLD
	CALL2 MOVE-TO-RL,STR?483
	RTRUE
?L20:	EQUAL? PRSI,LEFT \?L33
	ZERO? F \?L59
	EQUAL? TFREQ,20 /?L36
	ZERO? F /?L60
?L59:	EQUAL? TFREQ,80 \?L34
?L36:	CALL1 FAR-AS-IT-GOES
	RTRUE
?L34:	ZERO? F \?L39
?L60:	SUB TFREQ,5 >OLD
	JUMP ?L41
?L39:	ADD TFREQ,5 >OLD
?L41:	ZERO? F \?L61
	LESS? OLD,20 \?L42
	SET 'OLD,20
	JUMP ?L44
?L42:	ZERO? F /?L44
?L61:	GRTR? OLD,79 \?L44
	SET 'OLD,80
?L44:	SET 'TFREQ,OLD
	CALL2 MOVE-TO-RL,STR?484
	RTRUE
?L33:	CALL1 HOW-TO-USE-TUNER
	RTRUE
?L7:	EQUAL? PRSA,V?SPIN,V?TURN,V?MOVE /?L48
	EQUAL? PRSA,V?PUSH,V?SWING,V?PLAY /?L48
	EQUAL? PRSA,V?SHAKE \?L47
?L48:	SET 'OLD,TFREQ
?L49:	RANDOM 59 >STACK
	ADD STACK,21 >TFREQ
	EQUAL? OLD,TFREQ /?L49
	CALL1 FIDDLE
	RTRUE
?L47:	CALL1 HANDLE-TUNER? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT FAR-AS-IT-GOES
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 6866]"
	PRINTD RIGHT
	PRINT PERIOD
	RTRUE

	.FUNCT MOVE-TO-RL,STR
	PRINTI "You move "
	CALL1 THE-PRINT
	PRINTI "[RIDX: 6868]"
	PRINT STR
	PRINT PERIOD
	RTRUE

	.FUNCT RDIAL-F,OLD
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L3
	CALL1 PRSO-CALIBRATED
	CALL1 NOW-SET-TO
	FSET? PRSO,TOUCHED /?L4
	FSET? PRSO,SEEN /?L4
	FSET PRSO,SEEN
?L6:	RANDOM 59 >STACK
	ADD STACK,21 >MAGICFREQ
	EQUAL? MAGICFREQ,TFREQ /?L6
	SET 'RFREQ,MAGICFREQ
	PRINTN RFREQ
	PRINT PERIOD
	CALL2 UPDATE-SCORE,3
	RTRUE
?L4:	PRINTN RFREQ
	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?TURN-TO,V?TUNE-TO,V?POINT-AT /?L13
	EQUAL? PRSA,V?PUSH-TO \?L12
?L13:	EQUAL? PRSI,INTNUM \?L14
	CALL2 RANGE-ERROR?,RFREQ >STACK
	ZERO? STACK \TRUE
	FSET PRSO,TOUCHED
	SET 'P-IT-OBJECT,RADIO
	SET 'RFREQ,P-NUMBER
	CALL1 TILL-POINTS
	RTRUE
?L14:	EQUAL? PRSI,RIGHT \?L19
	EQUAL? RFREQ,80 \?L20
	CALL1 FAR-AS-IT-GOES
	RTRUE
?L20:	FSET PRSO,TOUCHED
	ADD RFREQ,5 >OLD
	GRTR? OLD,79 \?L23
	SET 'OLD,80
?L23:	SET 'RFREQ,OLD
	CALL2 MOVE-TO-RL,STR?483
	RTRUE
?L19:	EQUAL? PRSI,LEFT \?L26
	EQUAL? RFREQ,20 \?L27
	CALL1 FAR-AS-IT-GOES
	RTRUE
?L27:	FSET PRSO,TOUCHED
	SUB RFREQ,5 >OLD
	LESS? OLD,20 \?L30
	SET 'OLD,20
?L30:	SET 'RFREQ,OLD
	CALL2 MOVE-TO-RL,STR?484
	RTRUE
?L26:	CALL1 HOW-TO-USE-TUNER
	RTRUE
?L12:	EQUAL? PRSA,V?SPIN,V?TURN,V?MOVE /?L35
	EQUAL? PRSA,V?PUSH,V?SWING,V?PLAY /?L35
	EQUAL? PRSA,V?SHAKE \?L34
?L35:	FSET PRSO,TOUCHED
	SET 'OLD,RFREQ
?L36:	RANDOM 59 >STACK
	ADD STACK,21 >RFREQ
	EQUAL? OLD,RFREQ /?L36
	CALL1 FIDDLE
	RTRUE
?L34:	CALL1 HANDLE-TUNER? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT TILL-POINTS
	PRINTI "You move the "
	PRINTD PRSO
	PRINTI "[RIDX: 6875]"
	PRINTD INTNUM
	PRINTI " "
	PRINTN P-NUMBER
	PRINT PERIOD
	RTRUE

	.FUNCT PRSO-CALIBRATED
	CALL1 CTHE-PRINT
	PRINTI " is calibrated with "
	PRINTD INTNUM
	PRINTI "s from 20 to 80"
	RTRUE

	.FUNCT NOW-SET-TO
	PRINTI "[RIDX: 6879]"
	RTRUE

	.FUNCT RANGE-ERROR?,F
	LESS? P-NUMBER,20 \?L1
	PRINTI "The lowest "
	PRINTD INTNUM
	PRINTI " on the "
	PRINTD PRSO
	PRINTR " is 20."
?L1:	GRTR? P-NUMBER,80 \?L3
	PRINTI "The highest "
	PRINTD INTNUM
	PRINTI " on the "
	PRINTD PRSO
	PRINTR " is 80."
?L3:	EQUAL? P-NUMBER,F \FALSE
	CALL1 CTHE-PRINT
	PRINTI " is already set to "
	PRINTN P-NUMBER
	PRINT PERIOD
	RTRUE

	.FUNCT FIDDLE
	PRINTI "[RIDX: 6887]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE

	.FUNCT HANDLE-TUNER?
	EQUAL? PRSA,V?USE /?L3
	EQUAL? P-PRSA-WORD,W?ADJUST \?L1
?L3:	CALL1 HOW-TO-USE-TUNER
	RTRUE
?L1:	EQUAL? PRSA,V?TAKE,V?LOOSEN,V?PULL /?L5
	EQUAL? PRSA,V?UNPLUG,V?UNSCREW,V?UNSCREW-FROM \FALSE
?L5:	LOC PRSO >STACK
	CALL FIRMLY-ATTACHED,PRSO,STACK
	RTRUE

	.FUNCT HOW-TO-USE-TUNER
	PRINTI "[To adjust "
	CALL1 THE-PRINT
	PRINTI "[RIDX: 6889]"
	PRINTD INTNUM
	PRINTI "; for example, "
	EQUAL? PRSO,SLIDER \?L1
	PRINTI "MOVE THE SLIDER"
	JUMP ?L3
?L1:	PRINTI "TURN THE DIAL"
?L3:	PRINTR " TO 67.]"

	.FUNCT WSWITCH-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L3
	CALL1 CTHE-PRINT
	PRINTI " is marked "
	FSET? WTK,FLIPPED \?L4
	PRINTI "REWOP"
	JUMP ?L6
?L4:	PRINTI "POWER"
?L6:	PRINTI ", and is turned "
	FSET? PRSO,OPENED \?L7
	PRINTR "off."
?L7:	PRINTR "on."
?L3:	EQUAL? PRSA,V?LAMP-ON,V?CLOSE \?L10
	EQUAL? PRSI,0,HANDS \?L10
	FSET? PRSO,OPENED \?L11
	CALL1 FLIP-WSWITCH
	RTRUE
?L11:	CALL1 CTHE-PRINT
	PRINTR " is already on."
?L10:	EQUAL? PRSA,V?LAMP-OFF,V?OPEN,V?KILL \?L14
	FSET? PRSO,OPENED \?L15
	CALL1 CTHE-PRINT
	PRINTR " is already off."
?L15:	CALL1 FLIP-WSWITCH
	RTRUE
?L14:	EQUAL? PRSA,V?USE,V?MOVE,V?PUSH /?L19
	EQUAL? PRSA,V?TOUCH \?L18
?L19:	EQUAL? PRSI,0,HANDS \?L18
	CALL1 FLIP-WSWITCH
	RTRUE
?L18:	EQUAL? PRSA,V?TAKE,V?LOOSEN,V?UNSCREW /?L21
	EQUAL? PRSA,V?UNSCREW-FROM,V?PULL \FALSE
?L21:	CALL FIRMLY-ATTACHED,PRSO,WTK
	RTRUE

	.FUNCT FLIP-WSWITCH
	SET 'P-IT-OBJECT,WTK
	PRINTI "You turn o"
	FSET? WSWITCH,OPENED \?L1
	FCLEAR WSWITCH,OPENED
	PRINTI "n the "
	PRINTD WSWITCH
	PRINT PERIOD
	RTRUE
?L1:	FSET WSWITCH,OPENED
	PRINTI "ff the "
	PRINTD WSWITCH
	PRINT PCR
	CALL2 CTHE-PRINT,WTK
	PRINTR " falls silent."

	.FUNCT WBUTTON-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L3
	CALL1 CTHE-PRINT
	PRINTI " is marked "
	FSET? WTK,FLIPPED \?L4
	PRINTI "KLAT OT HSUP"
	JUMP ?L6
?L4:	PRINTI "PUSH TO TALK"
?L6:	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?PUSH,V?LOWER,V?USE /?L8
	EQUAL? PRSA,V?SQUEEZE,V?TOUCH \?L7
?L8:	EQUAL? PRSI,0,HANDS \?L7
	FSET? PRSO,SEEN \?L9
	CALL1 SAY-SURE
	PRINTI "touch that "
	PRINTD PRSO
	PRINTI " again?"
	CALL1 YES? >STACK
	ZERO? STACK /?L11
	CRLF
	CALL1 TOUCH-WBUTTON
	CRLF
	CALL VOICE-MUTTERS,STR?485,0
	RTRUE
?L11:	CALL1 NO-DETECTION
	RTRUE
?L9:	PRINTI "You squeeze the "
	PRINTD PRSO
	FSET? WSWITCH,OPENED \?L15
	PRINTR "[RIDX: 6917]"
?L15:	PRINT PCR
	FSET PRSO,SEEN
	CALL1 TOUCH-WBUTTON
	RTRUE
?L7:	EQUAL? PRSA,V?TAKE,V?LOOSEN,V?UNSCREW /?L19
	EQUAL? PRSA,V?UNSCREW-FROM,V?PULL \?L18
?L19:	EQUAL? PRSA,V?LOOSEN \?L20
	EQUAL? P-PRSA-WORD,W?PUSH \?L20
	EQUAL? PRSI,0,HANDS \?L22
	CALL PERFORM,V?PUSH,PRSO
	RTRUE
?L22:	FSET WTK,SEEN
	CALL2 CTHE-PRINT,WTK
	PRINTI " buzzes and clicks. "
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 6919]"
?L20:	CALL FIRMLY-ATTACHED,PRSO,WTK
	RTRUE
?L18:	EQUAL? PRSA,V?REPAIR \FALSE
	CALL NOT-LIKELY,PRSI,STR?486
	RTRUE

	.FUNCT TOUCH-WBUTTON
	CALL2 PRINT-ID,STR?487
	CALL2 ITALICIZE,STR?488
	PRINTI "[RIDX: 6923]"
	IN? WTK,PLAYER \?L1
	PRINT PTHE
	PRINTD WTK
	PRINTI "[RIDX: 6924]"
	CALL2 LANDS-AT-YOUR-FEET,WTK
	RTRUE
?L1:	PRINT PERIOD
	RTRUE

	.FUNCT JEEP-F,IN=0
	EQUAL? HERE,IN-JEEP \?L1
	SET 'IN,1
?L1:	ZERO? NOW-PRSI? /?L4
	EQUAL? PRSA,V?PUT,V?PUT-ON,V?EMPTY-INTO \FALSE
	ZERO? IN \?L8
	MOVE PRSO,IN-JEEP
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	PRINTI "You drop "
	CALL1 THE-PRINT
	PRINTR " into the jeep."
?L8:	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L4:	EQUAL? PRSA,V?EXAMINE \?L12
	ZERO? IN /?L13
	CALL1 V-LOOK
	RTRUE
?L13:	PRINTI "[RIDX: 6930]"
	FSET? JDOOR,OPENED \?L16
	PRINTR "still open."
?L16:	PRINTR "closed."
?L12:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L19
	ZERO? IN \?L20
	CALL1 CANT-SEE-MUCH
	RTRUE
?L20:	CALL1 V-LOOK
	RTRUE
?L19:	EQUAL? PRSA,V?LOOK-UNDER \?L23
	ZERO? IN /?L23
	CALL1 CANT-FROM-HERE
	RTRUE
?L23:	EQUAL? PRSA,V?THROUGH,V?STAND-UNDER \?L24
	ZERO? IN /?L25
	CALL1 CANT-FROM-HERE
	RTRUE
?L25:	PRINTR "[RIDX: 6933]"
?L24:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L29
	EQUAL? PRSA,V?CLIMB-OVER,V?CLIMB-ON,V?CLIMB-UP \?L28
?L29:	ZERO? IN \?L30
	CALL2 DO-WALK,P?IN
	RTRUE
?L30:	CALL1 ALREADY-IN
	RTRUE
?L28:	CALL1 EXITING? >STACK
	ZERO? STACK \?L34
	EQUAL? PRSA,V?CLIMB-DOWN,V?LEAP \?L33
?L34:	ZERO? IN \?L35
	CALL1 NOT-IN
	RTRUE
?L35:	CALL2 DO-WALK,P?OUT
	RTRUE
?L33:	EQUAL? PRSA,V?RIDE,V?USE \?L38
	ZERO? IN \?L39
	CALL1 NOT-IN
	RTRUE
?L39:	CALL YOUD-HAVE-TO,STR?489,JEEP
	RTRUE
?L38:	EQUAL? PRSA,V?LAMP-ON \?L42
	ZERO? IN \?L43
	CALL1 CANT-FROM-HERE
	RTRUE
?L43:	EQUAL? PRSI,0,HANDS \?L45
	CALL1 HOW?
	RTRUE
?L45:	EQUAL? PRSI,TKEY \?L46
	PRINTR "[RIDX: 6935]"
?L46:	CALL NOT-LIKELY,PRSI,STR?490
	RTRUE
?L42:	EQUAL? PRSA,V?LAMP-OFF,V?KILL \?L48
	CALL1 CTHE-PRINT
	PRINTR " isn't running."
?L48:	EQUAL? PRSA,V?LOCK,V?UNLOCK \?L49
	CALL1 WASTE-OF-TIME
	RTRUE
?L49:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE \?L50
	EQUAL? PRSI,0,HANDS \?L50
	CALL PERFORM,PRSA,JDOOR
	RTRUE
?L50:	EQUAL? PRSA,V?REPAIR \FALSE
	PRINTI "[RIDX: 6938]"
	CALL2 PRINTA,PRSI
	PRINT PERIOD
	RTRUE

	.FUNCT SEAT-F,IN=0
	EQUAL? HERE,IN-JEEP \?L1
	SET 'IN,1
?L1:	ZERO? NOW-PRSI? /?L4
	EQUAL? PRSA,V?PUT,V?PUT-ON \?L6
	ZERO? IN \?L8
	MOVE PRSO,IN-JEEP
	PRINTI "You drop "
	CALL1 THE-PRINT
	PRINTR " into the jeep."
?L8:	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L6:	EQUAL? PRSA,V?PUT-UNDER,V?PUT-BEHIND \FALSE
	ZERO? IN \?L12
	CALL1 CANT-FROM-HERE
	RTRUE
?L12:	CALL1 WASTE-OF-TIME
	RTRUE
?L4:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L17
	EQUAL? PRSA,V?SEARCH \?L16
?L17:	ZERO? IN \?L18
	CALL1 CANT-SEE-MUCH
	RTRUE
?L18:	CALL1 V-LOOK
	RTRUE
?L16:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L23
	EQUAL? PRSA,V?SIT,V?CLIMB-ON,V?SIT /?L23
	EQUAL? PRSA,V?CLIMB-OVER,V?CLIMB-UP \?L21
?L23:	ZERO? IN \?L24
	CALL2 DO-WALK,P?IN
	RTRUE
?L24:	CALL1 ALREADY-IN
	RTRUE
?L21:	CALL1 EXITING? >STACK
	ZERO? STACK \?L28
	EQUAL? PRSA,V?CLIMB-DOWN,V?LEAP \?L27
?L28:	ZERO? IN \?L29
	CALL1 NOT-IN
	RTRUE
?L29:	CALL2 DO-WALK,P?OUT
	RTRUE
?L27:	EQUAL? PRSA,V?STAND-ON,V?LIE-DOWN \?L32
	ZERO? IN \?L33
	CALL1 CANT-FROM-HERE
	RTRUE
?L33:	CALL1 WASTE-OF-TIME
	RTRUE
?L32:	EQUAL? PRSA,V?LOOK-UNDER,V?LOOK-BEHIND \FALSE
	ZERO? IN \FALSE
	CALL1 CANT-SEE-MUCH
	RTRUE

	.FUNCT JDOOR-F,IN=0
	EQUAL? HERE,IN-JEEP \?L1
	SET 'IN,1
?L1:	CALL1 ONLY-ONE-DOOR? >STACK
	ZERO? STACK /?L4
	RETURN 2
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L9
	EQUAL? PRSA,V?USE \?L8
?L9:	ZERO? IN \?L10
	PUSH P?IN
	JUMP ?L12
?L10:	PUSH P?OUT
?L12:	CALL2 DO-WALK,STACK
	RTRUE
?L8:	CALL1 EXITING? >STACK
	ZERO? STACK /?L13
	ZERO? IN \?L14
	CALL2 NOT-IN,JEEP
	RTRUE
?L14:	CALL2 DO-WALK,P?OUT
	RTRUE
?L13:	EQUAL? PRSA,V?CLIMB-OVER,V?CLIMB-ON,V?CLIMB-UP \FALSE
	PRINTI "[RIDX: 6945]"
	CRLF
	CRLF
	EQUAL? HERE,N75 \?L18
	PUSH IN-JEEP
	JUMP ?L20
?L18:	PUSH N75
?L20:	CALL2 GOTO,STACK
	RTRUE

	.FUNCT WALLET-F
	EQUAL? PRSA,V?PUT \FALSE
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSI,POCKET \FALSE
	FSET? PRSO,OPENED \FALSE
	FCLEAR PRSO,OPENED
	PRINTI "[closing the "
	PRINTD PRSO
	PRINTI " first"
	PRINT BRACKET
	RFALSE

	.FUNCT GENERIC-PHOTO-F,TABLE
	RETURN PHOTO

	.FUNCT PHOTO-F,CONTEXT=0
	CALL NOUN-USED?,W?BOY,W?CHILD,W?KID >STACK
	ZERO? STACK \?L3
	CALL2 NOUN-USED?,W?WAND >STACK
	ZERO? STACK /?L6
?L3:	EQUAL? PRSA,V?EXAMINE \?L4
	PRINTI "The boy in the "
	PRINTD PRSO
	PRINTR "[RIDX: 6953]"
?L4:	EQUAL? PRSA,V?LOOK-BEHIND,V?LOOK-UNDER,V?LISTEN /?L7
	EQUAL? PRSA,V?SMELL /?L7
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L6
?L7:	PRINT CANT
	PRINTI "[RIDX: 6954]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L6:	ZERO? NOW-PRSI? /?L10
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL1 NO-GOOD-SURFACE
	RTRUE
?L10:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ /?L16
	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L15
?L16:	PRINTI "The black-and-white "
	PRINTD PRSO
	PRINTR "[RIDX: 6956]"
?L15:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L17
	PRINTI "[RIDX: 6957]"
	CRLF
	RETURN 2
?L17:	EQUAL? PRSA,V?TURN,V?SPIN \FALSE
	EQUAL? PRSI,0,HANDS \FALSE
	PRINTR "[RIDX: 6958]"

	.FUNCT GENERIC-RADIO-F,TABLE
	EQUAL? P-IT-OBJECT,WTK,RADIO \?L1
	RETURN P-IT-OBJECT
?L1:	RETURN RADIO

	.FUNCT RADIO-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L3
	CALL1 RADIO-BOLTED
	PRINTI "[RIDX: 6960]"
	PRINTD RSWITCH
	PRINT PERIOD
	RTRUE
?L3:	EQUAL? PRSA,V?TAKE,V?PULL,V?PUSH /?L5
	EQUAL? PRSA,V?PUSH-TO,V?MOVE,V?LOOSEN /?L5
	EQUAL? PRSA,V?UNSCREW,V?UNSCREW-FROM \?L4
?L5:	PRINTI "Forget it. "
	CALL1 RADIO-BOLTED
	CRLF
	RTRUE
?L4:	EQUAL? PRSA,V?LAMP-ON,V?LAMP-OFF \?L6
	EQUAL? PRSI,0,HANDS \?L6
	CALL PERFORM,PRSA,RSWITCH,PRSI
	RTRUE
?L6:	EQUAL? PRSA,V?TURN-TO,V?TUNE-TO \FALSE
	EQUAL? PRSI,INTNUM \FALSE
	CALL PERFORM,PRSA,RDIAL,PRSI
	RTRUE

	.FUNCT RADIO-BOLTED
	PRINTI "[RIDX: 6962]"
	RTRUE

	.FUNCT RSWITCH-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L3
	CALL1 CTHE-PRINT
	PRINTI " on the "
	PRINTD RADIO
	PRINTI "[RIDX: 6966]"
	FSET? PRSO,OPENED \?L4
	PRINTR "off."
?L4:	PRINTR "on."
?L3:	EQUAL? PRSA,V?LAMP-ON,V?CLOSE \?L7
	EQUAL? PRSI,0,HANDS \?L7
	FSET? PRSO,OPENED \?L8
	CALL1 FLIP-RSWITCH
	RTRUE
?L8:	CALL1 CTHE-PRINT
	PRINTR " is already on."
?L7:	EQUAL? PRSA,V?LAMP-OFF,V?OPEN,V?OPEN-WITH /?L12
	EQUAL? PRSA,V?KILL \?L11
?L12:	EQUAL? PRSI,0,HANDS \?L11
	FSET? PRSO,OPENED \?L13
	CALL1 CTHE-PRINT
	PRINTR " is already off."
?L13:	CALL1 FLIP-RSWITCH
	RTRUE
?L11:	EQUAL? PRSA,V?USE,V?TURN,V?MOVE /?L17
	EQUAL? PRSA,V?PUSH,V?TOUCH \?L16
?L17:	EQUAL? PRSI,0,HANDS \?L16
	CALL1 FLIP-RSWITCH
	RTRUE
?L16:	EQUAL? PRSA,V?TAKE,V?PULL,V?LOOSEN /?L19
	EQUAL? PRSA,V?UNSCREW,V?UNSCREW-FROM \FALSE
?L19:	CALL FIRMLY-ATTACHED,PRSO,RADIO
	RTRUE

	.FUNCT FLIP-RSWITCH
	SET 'P-IT-OBJECT,RADIO
	PRINTI "You turn o"
	FSET? RSWITCH,OPENED \?L1
	FCLEAR RSWITCH,OPENED
	PRINTI "n the "
	PRINTD RSWITCH
	PRINTI ".

Nothing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINTR " happens."
?L1:	FSET RSWITCH,OPENED
	PRINTI "ff the "
	PRINTD RSWITCH
	PRINT PERIOD
	RTRUE

	.FUNCT NBUNKERS-F
	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L1
	FSET PRSO,SEEN
	PRINTI "The area around the "
	PRINTD PRSO
	PRINTI "[RIDX: 6979]"
	PRINTD SLIGHT
	PRINTR "[RIDX: 6980]"
?L1:	CALL1 EXITING? >STACK
	ZERO? STACK /?L3
	CALL1 NOT-IN
	RTRUE
?L3:	INTBL? PRSA,SEEVERBS,NSVERBS >STACK \?L4
	CALL1 CANT-SEE-MUCH
	RTRUE
?L4:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L5
	EQUAL? HERE,N75 \?L6
	CALL2 DO-WALK,P?NW
	RTRUE
?L6:	CALL YOUD-HAVE-TO,STR?130,JEEP
	RTRUE
?L5:	EQUAL? PRSA,V?SMELL,V?LISTEN /?L10
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
?L10:	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT ENDGAME,W=0,ST=0,CNT,TBL
	CALL1 HEAR-BAKER? >STACK
	ZERO? STACK /?L1
	SET 'W,1
	CALL2 KSCRUB,1
?L1:	CRLF
	GETB 0,30 >STACK
	EQUAL? STACK,5 \?L4
	INC 'ST
	CALL1 ST-QUOTE
	HLIGHT H-ITALIC
	JUMP ?L6
?L4:	PRINTI """"
?L6:	PRINTI "Congratulations."
	CALL2 PRINT-ID,STR?491
	CALL2 SEE-NO-ONE,ST
	ZERO? W /?L7
	PRINT Z-MINUS
	LESS? SECONDS,30 \?L9
	PRINTI "thirty"
	JUMP ?L12
?L9:	LESS? SECONDS,45 \?L11
	PRINTI "fifteen"
	JUMP ?L12
?L11:	PRINTI "ten"
?L12:	PRINTI "[RIDX: 6989]"
	PRINTD WTK
	PRINT PERIOD
?L7:	CRLF
	ZERO? ST \?L14
	PRINTI """"
	JUMP ?L16
?L14:	CALL1 ST-QUOTE
	HLIGHT H-ITALIC
?L16:	PRINTI "[RIDX: 6991]"
	PRINTD ME
	PRINTI "."
	HLIGHT H-NORMAL
	ZERO? ST \?L17
	PRINTI """"
	JUMP ?L19
?L17:	CALL1 ST-QUOTE
?L19:	PRINTI "[RIDX: 6994]"
	ZERO? ST \?L20
	PRINTI """"
	JUMP ?L22
?L20:	CALL1 ST-QUOTE
	HLIGHT H-ITALIC
?L22:	PRINTI "[RIDX: 6996]"
	HLIGHT H-NORMAL
	ZERO? ST \?L23
	PRINTI """"
	JUMP ?L25
?L23:	CALL1 ST-QUOTE
?L25:	ZERO? W /?L26
	CRLF
	CRLF
	PRINTI "[RIDX: 6998]"
	LESS? SECONDS,30 \?L28
	PRINTI "Minus fifteen"
	JUMP ?L31
?L28:	LESS? SECONDS,45 \?L30
	PRINTI "Minus ten"
	JUMP ?L31
?L30:	PRINTI "Seven. Six. Five"
?L31:	PRINTI " seconds."""
?L26:	CALL1 ARTICULATES
	PRINTI "[RIDX: 7003]"
	PRINT PCR
	ZERO? ST \?L33
	PRINTI """"
	JUMP ?L35
?L33:	CALL1 ST-QUOTE
	HLIGHT H-ITALIC
?L35:	PRINTI "[RIDX: 7005]"
	HLIGHT H-NORMAL
	ZERO? ST \?L36
	PRINTI """"
	JUMP ?L38
?L36:	CALL1 ST-QUOTE
?L38:	PRINTI "[RIDX: 7007]"
	ZERO? ST \?L39
	PRINTI """"
	JUMP ?L41
?L39:	CALL1 ST-QUOTE
	HLIGHT H-ITALIC
?L41:	PRINTI "[RIDX: 7009]"
	ZERO? ST \?L42
	CALL2 ITALICIZE,STR?492
	JUMP ?L44
?L42:	HLIGHT H-NORMAL
	PRINTI "you"
	HLIGHT H-ITALIC
?L44:	PRINTI "[RIDX: 7012]"
	HLIGHT H-NORMAL
	ZERO? ST \?L45
	PRINTI """"
	JUMP ?L47
?L45:	CALL1 ST-QUOTE
?L47:	CRLF
	CRLF
	ZERO? W /?L48
	CALL2 CTHE-PRINT,WTK
	PRINTI " is fading away. """
	LESS? SECONDS,30 \?L50
	PRINTI "[RIDX: 7015]"
	JUMP ?L53
?L50:	LESS? SECONDS,45 \?L52
	PRINTI "Five seconds. Four"
	JUMP ?L53
?L52:	PRINTI "Three. Two"
?L53:	PRINTI "."""
	CRLF
	CRLF
?L48:	PRINTI "[RIDX: 7019]"
	ZERO? ST \?L55
	PRINTI """"
	JUMP ?L57
?L55:	CALL1 ST-QUOTE
	HLIGHT H-ITALIC
?L57:	PRINTI "[RIDX: 7021]"
	ZERO? ST \?L58
	CALL2 ITALICIZE,STR?493
	JUMP ?L60
?L58:	HLIGHT H-NORMAL
	PRINTI "bang"
	HLIGHT H-ITALIC
?L60:	PRINTI "[RIDX: 7024]"
	HLIGHT H-NORMAL
	ZERO? ST \?L61
	PRINTI """"
	JUMP ?L63
?L61:	CALL1 ST-QUOTE
?L63:	CALL1 CARRIAGE-RETURNS
	CALL2 DEQUEUE,I-TRINITY
	CALL2 DEQUEUE,I-DOG
	CALL2 DEQUEUE,I-FLARE
	CALL2 DEQUEUE,I-TMEEP
	CALL2 DEQUEUE,I-OPPIE
	CALL1 EXIT-MEEP
	FCLEAR MEEP,TOLD
	FSET MEEP,NODESC
	CALL2 REMOVE-ALL,PLAYER
	MOVE POCKET,PLAYER
	CALL2 REMOVE-ALL,POCKET
	MOVE CREDIT-CARD,POCKET
	MOVE COIN,POCKET
	FSET COIN,TAKEABLE
	MOVE WRISTWATCH,PLAYER
	FSET WRISTWATCH,WORN
	FCLEAR PAL-GATE,TOUCHED
	FCLEAR BROAD-WALK,TOUCHED
	FCLEAR LION-GATE,TOUCHED
	FCLEAR LAN-GATE,TOUCHED
	FCLEAR LAN-WALK,TOUCHED
	FCLEAR AT-TERRACE,TOUCHED
	FCLEAR FLOWER-WALK,TOUCHED
	FCLEAR WABE,TOUCHED
	FCLEAR ROUND-POND,TOUCHED
	MOVE BALL,BEDS
	FCLEAR BALL,NODESC
	FCLEAR BALL,TOUCHED
	MOVE PRAM,LION-GATE
	FCLEAR PRAM,OPENED
	FCLEAR PRAM,NODESC
	PUTP PRAM,P?DESCFCN,DESCRIBE-PRAM
	REMOVE BAD-CRANE
	REMOVE OCRANE
	REMOVE CRANE
	FCLEAR CRANE,LIGHTED
	FSET CRANE,NODESC
	MOVE GNOMON,DIAL
	FSET GNOMON,NODESC
	FSET GNOMON,NOALL
	FCLEAR GNOMON,BORING
	REMOVE BAG
	FCLEAR BAG,TOUCHED
	SET 'CCNT,5
	SET 'APPETITE,0
	FCLEAR BIKES,SEEN
	REMOVE RUBY
	FCLEAR RUBY,TOUCHED
	FSET RUBY,CHILLY
	FCLEAR RUBY,SEEN
	FCLEAR RUBY,TOLD
	PUTP RUBY,P?ACTION,RUBY-F
	SET 'RUBYROOM,0
	PUTP RUBY,P?FDESC,STR?494
	REMOVE GROVES
	FCLEAR NOTICE,TOUCHED
	FCLEAR GRASS,TOUCHED
	FCLEAR GRASS,SEEN
	FCLEAR GRASS,CHILLY
	MOVE PARASOL,JWOMAN
	FCLEAR PARASOL,TOUCHED
	FSET PARASOL,NODESC
	FSET PARASOL,OPENED
	FCLEAR PARASOL,SEEN
	FSET TREE,NODESC
	FCLEAR WWIND,SEEN
	FSET EWIND,SEEN
	FCLEAR EWIND,TOUCHED
	MOVE JWOMAN,LAN-GATE
	FCLEAR JWOMAN,CHILLY
	FCLEAR JWOMAN,TOUCHED
	FSET JWOMAN,NODESC
	FCLEAR JWOMAN,SEEN
	SET 'LAYAWAY,3
	FCLEAR BWOMAN,SEEN
	FSET BWOMAN,NODESC
	PUTP BWOMAN,P?FDESC,STR?495
	MOVE GBAG,BWOMAN
	SET 'CNT,0
?L64:	GET FLIPPERS,CNT >TBL
	ZERO? TBL /?L65
	FCLEAR TBL,FLIPPED
	INC 'CNT
	JUMP ?L64
?L65:	GET BWOMAN-SUBJECTS,0 >CNT
?L69:	GET BWOMAN-SUBJECTS,CNT >TBL
	GET TBL,0 >STACK
	FCLEAR STACK,TOLD
	DLESS? 'CNT,1 \?L69
	FCLEAR SIRENS,TOLD
	FCLEAR RUBY,TOLD
	REMOVE SCOIN
	FCLEAR SCOIN,TOUCHED
	FSET HANDS,TOOL
	FSET AT-TERRACE,NOALL
	MOVE BOY,AT-TERRACE
	FCLEAR BOY,CHILLY
	MOVE WAND,BOY
	MOVE SDISH,AT-TERRACE
	SET 'BACTION,0
	SET 'OSIGN,0
	SET 'HOURS,15
	SET 'MINUTES,30
	SET 'SECONDS,0
	SET 'FREEZE?,0
	CALL2 BOOT-SCREEN,0
	RTRUE

	.FUNCT BOOT-SCREEN,INTRO?=1
	CALL QUEUE,I-CRANE-APPEARS,-1
	CALL QUEUE,I-BWOMAN,-1
	CALL QUEUE,I-AIR-RAID,-1
	CALL QUEUE,I-BOY,-1
	CALL1 PCLEAR
	SET 'HERE,PAL-GATE
	MOVE PLAYER,HERE
	SET 'WINNER,PLAYER
	SET 'LIT?,1
	ZERO? INTRO? /?L1
	CRLF
	PRINTI "[RIDX: 7032]"
	PRINTD LONDON
	PRINTI "[RIDX: 7033]"
	PRINTD GARDENS
	PRINT PCR
?L1:	CALL1 V-LOOK
	ZERO? TR? /TRUE
	GET QUOTES,EMILY >DO-WINDOW
	RTRUE

	.FUNCT BHOUSE-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH /?L3
	CALL1 ENTERING? >STACK
	ZERO? STACK /?L1
?L3:	CALL1 CTHE-PRINT
	PRINTI " doesn't have any "
	PRINTD WINDOWS
	PRINTI " or "
	PRINTD SBENTRY
	PRINTR "[RIDX: 7037]"
?L1:	EQUAL? PRSA,V?WALK-AROUND \?L4
	CALL2 DO-WALK,P?SW
	RTRUE
?L4:	EQUAL? PRSA,V?LOOK-ON \?L5
	CALL PERFORM,V?EXAMINE,SLIGHT
	RTRUE
?L5:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?STAND-ON /?L7
	EQUAL? PRSA,V?CLIMB-UP \?L6
?L7:	CALL1 TOO-HIGH
	RTRUE
?L6:	CALL1 EXITING? >STACK
	ZERO? STACK \?L9
	EQUAL? PRSA,V?CLIMB-DOWN,V?LEAP \FALSE
?L9:	CALL1 NOT-IN
	RTRUE

	.FUNCT SLIGHT-F
	EQUAL? PRSA,V?EXAMINE \?L1
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 7040]"
	PRINTD HORIZON
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?LOOK-INSIDE,V?WATCH \?L3
	PRINTI "[RIDX: 7041]"
	CRLF
	CALL2 PRINT-ID,STR?496
	RTRUE
?L3:	EQUAL? PRSA,V?THROW,V?THROW-OVER \?L4
	ZERO? NOW-PRSI? /?L4
	PRINTI "You pitch "
	CALL1 THE-PRINT
	EQUAL? PRSA,V?THROW-OVER \?L5
	PRINTI " over "
	JUMP ?L7
?L5:	PRINTI " at "
?L7:	CALL1 THEI-PRINT
	EQUAL? PRSO,CREDIT-CARD,PHOTO,SHROUD /?L10
	EQUAL? PRSO,MARKER,BAG,EBAG /?L10
	EQUAL? PRSO,MEEP,LEM \?L8
?L10:	PRINTI "[RIDX: 7046]"
	CALL1 LANDS-AT-YOUR-FEET
	RTRUE
?L8:	EQUAL? PRSA,V?THROW-OVER \?L11
	CALL1 VANISH
	PRINTI "[RIDX: 7047]"
	PRINTD BHOUSE
	PRINT PERIOD
	RTRUE
?L11:	GETP PRSO,P?MASS >STACK
	GRTR? STACK,2 \?L12
	PRINT PCR
	CALL2 ITALICIZE,STR?497
	PRINTI "[RIDX: 7049]"
	PRINTD PRSI
	PRINTI " flickers and dies"
	CALL1 HEAR-BAKER? >STACK
	ZERO? STACK /?L13
	PRINTI "[RIDX: 7051]"
	PRINTD WTK
?L13:	PRINT PERIOD
	IN? DOG,W100 \?L16
	CRLF
	PRINTI "[RIDX: 7052]"
	PRINTD ME
	PRINTI "[RIDX: 7053]"
	CRLF
	CALL1 DOG-ALERT
	RTRUE
?L16:	CALL1 HINGE-SQUEAK
	RTRUE
?L12:	CALL1 VANISH
	PRINTI "[RIDX: 7054]"
	PRINT OUTASITE
	RTRUE
?L4:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL2 CTHE-PRINT,SLIGHT
	PRINTR "[RIDX: 7055]"

	.FUNCT AKC
	PRINTR "[RIDX: 7056]"

	.FUNCT HOLD-IT
	CRLF
	PRINTI "[RIDX: 7057]"
	PRINTD HANDS
	PRINTR "[RIDX: 7058]"

	.FUNCT KINDA-SPY
	CRLF
	PRINTI "The figure near the "
	PRINTD BHOUSE
	PRINTI " studies you in the "
	PRINTD SLIGHT
	PRINTR "[RIDX: 7061]"

	.FUNCT POLICE-CONVERGE
	CRLF
	PRINTI "[RIDX: 7062]"
	EQUAL? HERE,IN-SHACK \?L1
	PRINTI "[RIDX: 7063]"
	PRINTD CORNER
	PRINTI " and "
	JUMP ?L3
?L1:	PRINTI "across the "
	PRINTD GDESERT
	PRINTI "[RIDX: 7066]"
?L3:	PRINTI "scan the "
	PRINTD HORIZON
	PRINTI ".

Headlights. "
	CALL2 ITALICIZE,STR?498
	PRINTI "[RIDX: 7070]"
	PRINTD TOWER
	PRINTI " from several "
	PRINTD INTDIR
	PRINTI "[RIDX: 7072]"
	CALL2 PRINT-ID,STR?499
	EQUAL? HERE,IN-SHACK,TOWER-PLAT,ON-TOWER \?L4
	EQUAL? HERE,IN-SHACK \?L6
	PRINTI "[RIDX: 7074]"
?L6:	PRINTI "scramble down the "
	PRINTD TLADDER
	PRINTI "[RIDX: 7076]"
	FSET? RBOOT,WORN \?L9
	FSET? GBOOT,WORN \?L11
	PRINTI "boots slip"
	JUMP ?L15
?L11:	PRINTD RBOOT
	PRINTI " slips"
	JUMP ?L15
?L9:	FSET? GBOOT,WORN \?L14
	PRINTD GBOOT
	PRINTI " slips"
	JUMP ?L15
?L14:	PRINTI "[RIDX: 7080]"
?L15:	PRINTI "[RIDX: 7081]"
	JUMP ?L16
?L4:	EQUAL? HERE,AT-ZERO \?L17
	PRINTI "[RIDX: 7082]"
?L17:	PRINTI "[RIDX: 7083]"
	PRINTD GDESERT
	PRINTI "[RIDX: 7084]"
	CALL2 PRINT-ID,STR?500
	FSET? SHROUD,WORN \?L20
	PRINTD SHROUD
	PRINTI " snags"
	JUMP ?L22
?L20:	PRINTI "vacation shorts snag"
?L22:	PRINTI "[RIDX: 7088]"
?L16:	PRINTI "[RIDX: 7089]"
	PRINTD TOWER
	PRINT PERIOD
	CALL1 SURROUNDED
	RTRUE

	.FUNCT SURROUNDED
	CRLF
	PRINTI "[RIDX: 7090]"
	CALL1 EXCUSES
	RTRUE

	.FUNCT EXCUSES
	PRINTI "[RIDX: 7091]"
	CALL2 PRINT-ID,STR?501
	CALL1 MUCH-OF
	RTRUE

	.FUNCT MUCH-OF
	PRINTI "[RIDX: 7093]"
	CALL2 PRINT-ID,STR?502
	CALL1 JIGS-UP
	RTRUE

	.FUNCT MAP-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L1
	PRINTI "[RIDX: 7097]"
	CALL2 ITALICIZE,STR?44
	PRINTR " package.]"
?L1:	ZERO? NOW-PRSI? \FALSE
	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL FIRMLY-ATTACHED,MAP,WALLS
	RTRUE

	.FUNCT FLARE-F
	FSET? FLARE,NODESC \?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	PRINT CANT
	PRINTI "see the "
	PRINTD FLARE
	PRINTI " anymore."
	CRLF
	RETURN 2

	.FUNCT FRAME-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH /?L3
	EQUAL? PRSA,V?LOOK-ON \?L1
?L3:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 7105]"
	PRINTD JUMBO
	PRINTR "[RIDX: 7106]"
?L1:	CALL1 HANDLE-JUMBO? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT HANDLE-JUMBO?
	EQUAL? PRSA,V?STAND-UNDER \?L1
	PRINTI "[RIDX: 7107]"
	PRINTD JUMBO
	PRINTR "[RIDX: 7108]"
?L1:	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \?L3
	CALL1 WASTE-OF-TIME
	RTRUE
?L3:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L6
	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-UP,V?CLIMB-OVER /?L6
	EQUAL? PRSA,V?STAND-ON,V?SIT,V?LIE-DOWN \?L4
?L6:	PRINTI "[RIDX: 7109]"
	CALL1 THE-PRINT
	PRINT PERIOD
	RTRUE
?L4:	CALL1 EXITING? >STACK
	ZERO? STACK /?L7
	CALL1 NOT-IN
	RTRUE
?L7:	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?KNOCK,V?HIT \FALSE
	PRINTR "[RIDX: 7110]"

	.FUNCT JUMBO-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT \FALSE
	CALL1 JUMBO-CLOSED
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?SEARCH,V?LOOK-ON \?L6
	PRINTI "[RIDX: 7112]"
	PRINTD PRSO
	PRINTI "[RIDX: 7113]"
	PRINTD HOPENING
	PRINTI "s, "
	PRINTD WINDOWS
	PRINTR "[RIDX: 7115]"
?L6:	EQUAL? PRSA,V?ENTER,V?THROUGH,V?LOOK-INSIDE /?L8
	EQUAL? PRSA,V?OPEN,V?REACH-IN,V?EMPTY /?L8
	EQUAL? PRSA,V?CLOSE,V?OPEN-WITH \?L7
?L8:	CALL1 JUMBO-CLOSED
	RTRUE
?L7:	CALL1 HANDLE-JUMBO? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT JUMBO-CLOSED
	PRINTI "[RIDX: 7116]"
	PRINTD JUMBO
	PRINTR "[RIDX: 7117]"

	.FUNCT SWALL-F,IN=0
	EQUAL? HERE,NWYARD,NEYARD,SWYARD /?L3
	EQUAL? HERE,SEYARD \?L1
?L3:	SET 'IN,1
?L1:	ZERO? NOW-PRSI? /?L5
	EQUAL? PRSA,V?PUT-ON,V?PUT \?L7
	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L7:	EQUAL? PRSA,V?PUT-BEHIND,V?THROW-OVER \FALSE
	GETP HERE,P?WALL-SIDE >STACK
	MOVE PRSO,STACK
	SET 'P-IT-OBJECT,NOT-HERE-OBJECT
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 7120]"
	PRINTD PRSI
	PRINT PERIOD
	RTRUE
?L5:	EQUAL? PRSA,V?EXAMINE \?L11
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 7121]"
	PRINTD RANCH
	PRINT PERIOD
	RTRUE
?L11:	EQUAL? PRSA,V?LOOK-INSIDE \?L12
	ZERO? IN /?L13
	CALL1 V-LOOK
	RTRUE
?L13:	CALL PERFORM,V?EXAMINE,RANCH
	RTRUE
?L12:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L16
	ZERO? IN /?L17
	PRINT YOURE-ALREADY
	PRINTI "within the "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L17:	EQUAL? HERE,NWRANCH \?L19
	CALL2 DO-WALK,P?SE
	RTRUE
?L19:	EQUAL? HERE,SWRANCH \?L20
	CALL2 DO-WALK,P?NE
	RTRUE
?L20:	EQUAL? HERE,SERANCH \?L21
	CALL2 DO-WALK,P?NW
	RTRUE
?L21:	EQUAL? HERE,ERANCH \?L22
	CALL2 DO-WALK,P?WEST
	RTRUE
?L22:	PRINTI "There aren't any "
	PRINTD SBENTRY
	PRINTR "s here."
?L16:	CALL1 EXITING? >STACK
	ZERO? STACK /?L24
	ZERO? IN /?L25
	CALL2 DO-WALK,P?OUT
	RTRUE
?L25:	CALL1 NOT-IN
	RTRUE
?L24:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?LEAP \?L28
	GETP HERE,P?WALL-SIDE >IN
	ZERO? IN \?L29
	CALL1 CANT-FROM-HERE
	RTRUE
?L29:	EQUAL? HERE,NERANCH,NEYARD \?L31
	PRINTI "You "
	JUMP ?L32
?L31:	PRINTI "[RIDX: 7126]"
	EQUAL? HERE,ERANCH,ON-PORCH \?L33
	PRINTD RAMP
	JUMP ?L35
?L33:	PRINTD NWGATE
?L35:	PRINTI ", you "
?L32:	PRINTI "clamber over the "
	PRINTD PRSO
	PRINT PCR
	CALL2 GOTO,IN
	RTRUE
?L28:	EQUAL? PRSA,V?CLIMB-DOWN \?L36
	CALL NOT-IN,PRSO,1
	RTRUE
?L36:	EQUAL? PRSA,V?STAND-ON,V?RIDE,V?CLIMB-UP /?L38
	EQUAL? PRSA,V?SIT,V?LIE-DOWN \?L37
?L38:	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 7129]"
?L37:	EQUAL? PRSA,V?FOLLOW,V?CROSS \FALSE
	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT RELEASE,V
	GET 0,1 >STACK
	BAND STACK,2047 >V
	PRINTI "Release "
	PRINTN V
	RTRUE

	.FUNCT BIKES-F
	FSET? BIKES,SEEN /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	PRINT CANT
	PRINTI "see the "
	PRINTD BIKES
	PRINTI " anymore."
	CRLF
	RETURN 2

	.FUNCT NANNIES-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?GIVE,V?SHOW,V?FEED \FALSE
	CALL1 TOO-HAUGHTY
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?WATCH \?L6
	CALL1 CTHE-PRINT
	ZERO? RAID? \?L7
	PRINTR "[RIDX: 7141]"
?L7:	PRINTI "[RIDX: 7142]"
	PRINTD INTDIR
	PRINT PERIOD
	RTRUE
?L6:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L10
	CALL1 TOO-HAUGHTY
	RETURN 2
?L10:	CALL1 TOUCH-T? >STACK
	ZERO? STACK /?L13
	PRINTI "The very idea!"
	CRLF
	EQUAL? PRSA,V?KILL,V?RAPE /?L14
	PUSH 0
	JUMP ?L15
?L14:	PUSH 1
?L15:	CALL PRINT-ID,STR?503,STACK
	EQUAL? PRSA,V?KILL,V?RAPE /?L16
	PUSH 1
	JUMP ?L17
?L16:	PUSH 0
?L17:	CALL PRINT-ID,STR?504,STACK
	RTRUE
?L13:	EQUAL? PRSA,V?COUNT \FALSE
	PRINTI "[RIDX: 7146]"
	PRINTD PRSO
	PRINTI " as there are "
	PRINTD CHILDREN
	PRINT PERIOD
	RTRUE

	.FUNCT TOUCH-T?
	EQUAL? PRSA,V?KISS,V?TOUCH,V?CLIMB-ON /TRUE
	EQUAL? PRSA,V?CLIMB-OVER,V?SQUEEZE,V?TASTE /TRUE
	EQUAL? PRSA,V?EAT,V?BITE,V?RAPE /TRUE
	EQUAL? PRSA,V?PLAY,V?KNOCK,V?KICK /TRUE
	EQUAL? PRSA,V?KILL,V?HIT,V?SUCK /TRUE
	EQUAL? PRSA,V?TAKE,V?SMELL \FALSE
	RTRUE

	.FUNCT TOO-HAUGHTY
	CALL2 CTHE-PRINT,NANNIES
	PRINTI " are much too "
	ZERO? RAID? \?L1
	PRINTI "haughty "
	JUMP ?L3
?L1:	PRINTI "frightened "
?L3:	PRINTR "[RIDX: 7151]"

	.FUNCT CHILDREN-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?WATCH \?L1
	ZERO? RAID? \?L3
	PRINTR "[RIDX: 7153]"
?L3:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 7154]"
	PRINTD NANNIES
	PRINT PERIOD
	RTRUE
?L1:	CALL1 HANDLE-CHARGES? >STACK
	RSTACK

	.FUNCT TOURISTS-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?GIVE,V?SHOW,V?FEED \FALSE
	CALL1 T-SNOBS
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?WATCH \?L6
	ZERO? RAID? \?L7
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 7156]"
?L7:	PRINTI "The terrified "
	PRINTD PRSO
	PRINTI "[RIDX: 7158]"
	PRINTD INTDIR
	PRINT PERIOD
	RTRUE
?L6:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L10
	CALL1 T-SNOBS
	RETURN 2
?L10:	CALL1 TOUCH-T? >STACK
	ZERO? STACK /?L13
	PRINTI "[RIDX: 7159]"
	EQUAL? PRSA,V?KILL,V?RAPE /?L14
	PUSH 0
	JUMP ?L15
?L14:	PUSH 1
?L15:	CALL PRINT-ID,STR?505,STACK
	EQUAL? PRSA,V?KILL,V?RAPE /?L16
	PUSH 1
	JUMP ?L17
?L16:	PUSH 0
?L17:	CALL PRINT-ID,STR?506,STACK
	ZERO? RAID? /?L18
	PRINTI " as she runs past"
?L18:	PRINTR ". Ouch!"
?L13:	EQUAL? PRSA,V?COUNT \FALSE
	PRINTR "Far too many."

	.FUNCT T-SNOBS
	ZERO? RAID? \?L1
	CALL2 CTHE-PRINT,TOURISTS
	PRINTR "[RIDX: 7165]"
?L1:	CALL1 TOO-BUSY-RUNNING
	RTRUE

	.FUNCT BABIES-F
	EQUAL? PRSA,V?LISTEN \?L1
	PRINTR "[RIDX: 7167]"
?L1:	CALL1 HANDLE-BABES? >STACK
	ZERO? STACK \TRUE
	CALL1 HANDLE-CHARGES? >STACK
	RSTACK

	.FUNCT HANDLE-CHARGES?
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?GIVE,V?SHOW,V?FEED \FALSE
	CALL1 EARSHOT
	RTRUE
?L1:	INTBL? PRSA,TALKVERBS,NTVERBS >STACK \?L6
	CALL1 EARSHOT
	RETURN 2
?L6:	CALL1 TOUCH-T? >STACK
	ZERO? STACK /FALSE
	PRINTI "[RIDX: 7168]"
	PRINTD PARASOL
	ZERO? RAID? /?L10
	PRINTI " as she runs past"
?L10:	PRINTR ". Ouch!"

	.FUNCT EARSHOT
	ZERO? RAID? \?L1
	PRINTI "The suspicious "
	PRINTD NANNIES
	PRINTI " quickly pull the "
	PRINTD CHILDREN
	PRINTR " out of earshot."
?L1:	CALL1 TOO-BUSY-RUNNING
	RTRUE

	.FUNCT TOO-BUSY-RUNNING
	PRINTR "[RIDX: 7174]"

	.FUNCT HANDLE-BABES?
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK /?L3
	INTBL? PRSA,SEEVERBS,NSVERBS >STACK /?L3
	CALL1 ENTERING? >STACK
	ZERO? STACK /FALSE
?L3:	PRINTI "The "
	ZERO? RAID? /?L4
	PRINTI "frightened "
	JUMP ?L6
?L4:	PRINTI "suspicious "
?L6:	PRINTD NANNIES
	PRINTR " won't let you near."

	.FUNCT GTREES-F
	EQUAL? PRSA,V?EXAMINE,V?WATCH,V?LOOK-INSIDE /?L3
	EQUAL? PRSA,V?SEARCH \?L1
?L3:	PRINTI "[RIDX: 7180]"
	CALL1 SAY-WIND
	PRINT PERIOD
	RTRUE
?L1:	EQUAL? PRSA,V?LISTEN \?L4
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 7181]"
	CALL1 SAY-WIND
	PRINT PERIOD
	RTRUE
?L4:	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-UP,V?ENTER /?L6
	EQUAL? PRSA,V?CLIMB-OVER,V?SIT,V?LIE-DOWN /?L6
	EQUAL? PRSA,V?THROUGH,V?RIDE \?L5
?L6:	ZERO? NOW-PRSI? \?L5
	PRINTI "[RIDX: 7182]"
	PRINTD GARDENS
	PRINTI "; except for "
	PRINTD CHILDREN
	PRINTR ", of course."
?L5:	EQUAL? PRSA,V?EXIT,V?LEAVE,V?CLIMB-DOWN /?L8
	EQUAL? PRSA,V?LEAP \?L7
?L8:	CALL1 NOT-IN
	RTRUE
?L7:	EQUAL? PRSA,V?STAND-UNDER \FALSE
	EQUAL? HERE,WABE \?L10
	PRINT YOURE-ALREADY
	PRINTI "under the "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L10:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT BENCH-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT-ON,V?PUT,V?EMPTY-INTO \FALSE
	CALL PERFORM,V?GIVE,PRSO,BWOMAN
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE \?L6
	CALL2 CTHE-PRINT,BWOMAN
	PRINTR " is sitting on it."
?L6:	EQUAL? PRSA,V?SIT,V?ENTER,V?USE /?L8
	EQUAL? PRSA,V?LIE-DOWN,V?CLIMB-ON,V?CLIMB-OVER /?L8
	EQUAL? PRSA,V?STAND-ON,V?CLIMB-UP,V?RIDE /?L8
	EQUAL? PRSA,V?TAKE \?L7
?L8:	PRINTI "[RIDX: 7188]"
	PRINTD BWOMAN
	PRINTR ", pushing you away."
?L7:	EQUAL? PRSA,V?EMPTY \?L9
	CALL1 NO-TOUCHIN
	RTRUE
?L9:	EQUAL? PRSA,V?EXIT,V?TAKE-OFF,V?LEAVE /?L11
	EQUAL? PRSA,V?ESCAPE \FALSE
?L11:	CALL1 NOT-IN
	RTRUE

	.FUNCT GENERIC-BULB-F,TBL
	EQUAL? P-IT-OBJECT,WATT,LAMP,SHARD \?L1
	RETURN P-IT-OBJECT
?L1:	EQUAL? W?BULB,P-NAM,P-XNAM \?L3
	RETURN WATT
?L3:	CALL2 VISIBLE?,LAMP >STACK
	ZERO? STACK /?L4
	RETURN LAMP
?L4:	EQUAL? HERE,IN-SHACK \?L5
	RETURN WATT
?L5:	CALL2 VISIBLE?,SHARD >STACK
	ZERO? STACK /FALSE
	RETURN SHARD

	.FUNCT LAMP-F
	FSET? LAMP,LIGHTED /?L1
	CALL NOUN-USED?,W?GLOW,W?BEAM >STACK
	ZERO? STACK \?L3
	CALL ADJ-USED?,W?GLOWING,W?DIM >STACK
	ZERO? STACK /?L1
?L3:	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	FSET? LAMP,CHILLY /?L6
	CALL ADJ-USED?,W?BROKEN,W?BUSTED >STACK
	ZERO? STACK /?L6
	CALL1 CANT-SEE-ANY
	RETURN 2
?L6:	CALL NOUN-USED?,W?BATTERIES,W?BATTERY >STACK
	ZERO? STACK /?L9
	PRINT CANT
	PRINTI "access the "
	PRINTD LAMP
	PRINTR "[RIDX: 7195]"
?L9:	CALL2 NOUN-USED?,W?SWITCH >STACK
	ZERO? STACK /?L20
	ZERO? NOW-PRSI? \?L54
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L13
	CALL1 CTHE-PRINT
	PRINTI "'s switch "
	CALL1 SWITCH-STATE
	PRINT PERIOD
	RTRUE
?L13:	EQUAL? PRSA,V?PUSH,V?SQUEEZE,V?CLOSE \?L14
	EQUAL? PRSI,0,HANDS \?L14
	CALL1 TURN-ON-LAMP
	RTRUE
?L14:	EQUAL? PRSA,V?PULL,V?RELEASE,V?OPEN \?L15
	EQUAL? PRSI,0,HANDS \?L15
	CALL1 TURN-OFF-LAMP
	RTRUE
?L15:	EQUAL? PRSA,V?USE,V?TURN,V?TOUCH \?L16
	FSET? PRSO,SHADOWY \?L17
	CALL1 TURN-OFF-LAMP
	RTRUE
?L17:	CALL1 TURN-ON-LAMP
	RTRUE
?L16:	EQUAL? PRSA,V?TAKE,V?LOOSEN,V?UNSCREW /?L21
	EQUAL? PRSA,V?UNSCREW-FROM,V?SHAKE \?L20
?L21:	PRINTI "The switch is "
	CALL1 ATTACHED-TO
	RTRUE
?L20:	ZERO? NOW-PRSI? /?L24
?L54:	EQUAL? PRSA,V?THROW \?L26
	GETP PRSO,P?MASS >STACK
	GRTR? STACK,3 \?L26
	CALL1 MUNG-LAMP
	CRLF
	CALL1 CTHE-PRINT
	CALL1 LANDS-AT-YOUR-FEET
	RTRUE
?L26:	EQUAL? PRSA,V?PUT \FALSE
	CALL1 LAMP-SEALED
	RTRUE
?L24:	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L30
	PRINTI "The "
	FSET? PRSO,CHILLY \?L31
	PRINTI "broken "
	JUMP ?L33
?L31:	PRINTI "waterproof "
?L33:	PRINTD PRSO
	PRINTI "[RIDX: 7201]"
	CALL1 SWITCH-STATE
	FSET? PRSO,LIGHTED \?L39
	PRINTI "; the beam is "
	LESS? BEAM,5 \?L36
	PRINTI "almost out"
	JUMP ?L39
?L36:	LESS? BEAM,10 \?L38
	PRINTI "very dim"
	JUMP ?L39
?L38:	PRINTI "rather dim"
?L39:	PRINT PERIOD
	RTRUE
?L30:	EQUAL? PRSA,V?LAMP-ON,V?LIGHT-WITH \?L41
	EQUAL? PRSI,0,HANDS \?L41
	CALL1 TURN-ON-LAMP
	RTRUE
?L41:	EQUAL? PRSA,V?CLOSE \?L42
	CALL2 ITS-ALREADY,STR?71
	RTRUE
?L42:	EQUAL? PRSA,V?LAMP-OFF \?L43
	CALL1 TURN-OFF-LAMP
	RTRUE
?L43:	EQUAL? PRSA,V?MUNG,V?HIT,V?CUT \?L44
	EQUAL? PRSI,HANDS,FEET,AXE /?L45
	EQUAL? PRSI,GNOMON,PARASOL,LUMP \?L44
?L45:	CALL1 MUNG-LAMP
	RTRUE
?L44:	EQUAL? PRSA,V?KICK \?L46
	CALL1 MUNG-LAMP
	RTRUE
?L46:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?UNSCREW /?L48
	EQUAL? PRSA,V?LOOK-INSIDE,V?REACH-IN,V?EMPTY /?L48
	EQUAL? PRSA,V?EMPTY-INTO \?L47
?L48:	CALL1 LAMP-SEALED
	RTRUE
?L47:	EQUAL? PRSA,V?POINT-AT,V?SHINE-AT \FALSE
	FSET? PRSO,LIGHTED \?L50
	PRINTI "You aim the "
	PRINTD PRSO
	PRINTI " towards "
	CALL1 THEI-PRINT
	PRINTI "[RIDX: 7209]"
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L50:	CALL1 CTHE-PRINT
	PRINTR " isn't on."

	.FUNCT LAMP-SEALED
	CALL2 CTHE-PRINT,LAMP
	PRINTR "[RIDX: 7211]"

	.FUNCT SWITCH-STATE
	PRINTI "is turned "
	FSET? PRSO,SHADOWY \?L1
	PRINTI "on"
	RTRUE
?L1:	PRINTI "off"
	RTRUE

	.FUNCT MUNG-LAMP
	FSET? LAMP,CHILLY \?L1
	PRINTI "[RIDX: 7215]"
	PRINTD LAMP
	PRINT PERIOD
	CALL2 PRINT-ID,STR?507
	RTRUE
?L1:	FSET LAMP,CHILLY
	SET 'BEAM,0
	CALL2 CTHE-PRINT,LAMP
	PRINTI " snaps with a loud "
	CALL2 PRINT-ID,STR?508
	FSET? LAMP,LIGHTED \?L4
	CALL2 ITALICIZE,STR?509
	PRINTI " and goes out."
	CRLF
	CALL1 KILL-LAMP
	RTRUE
?L4:	CALL2 ITALICIZE,STR?510
	CRLF
	RTRUE

	.FUNCT TURN-OFF-LAMP
	FSET? LAMP,SHADOWY \?L1
	ZERO? BEAM /?L3
	CALL2 DEQUEUE,I-HARDHAT
?L3:	FCLEAR LAMP,SHADOWY
	PRINTI "You turn off the "
	PRINTD LAMP
	PRINTI "'s switch."
	CRLF
	CALL1 KILL-LAMP
	RTRUE
?L1:	CALL2 CTHE-PRINT,LAMP
	PRINTR "[RIDX: 7224]"

	.FUNCT TURN-ON-LAMP
	FSET? LAMP,SHADOWY \?L1
	CALL2 CTHE-PRINT,LAMP
	PRINTR "[RIDX: 7225]"
?L1:	FSET LAMP,SHADOWY
	CALL2 ITALICIZE,STR?238
	PRINTI " The "
	ZERO? BEAM /?L7
	FSET? LAMP,CHILLY \?L4
	ZERO? BEAM /?L7
	PRINTI "broken "
?L7:	PRINTD LAMP
	PRINTR " doesn't respond."
?L4:	CALL QUEUE,I-HARDHAT,-1
	FSET LAMP,LIGHTED
	PRINTD LAMP
	PRINTI "[RIDX: 7230]"
	CRLF
	ZERO? LIT? \TRUE
	SET 'LIT?,1
	SET 'OLD-HERE,0
	CRLF
	CALL1 V-LOOK
	RTRUE

	.FUNCT KILL-LAMP
	FCLEAR LAMP,LIGHTED
	CALL2 DEQUEUE,I-HARDHAT
	CALL1 SAY-IF-HERE-LIT
	RTRUE

	.FUNCT FEATHERS-F
	SET 'P-THEM-OBJECT,NOT-HERE-OBJECT
	CALL2 GONE-NOW,FEATHERS
	RETURN 2

	.FUNCT SPOT-F
	FSET? SPOT,SEEN /?L1
	CALL1 NONE-AT-MOMENT
	RETURN 2
?L1:	EQUAL? PRSA,V?EXAMINE,V?WATCH,V?LOOK-INSIDE \?L5
	PRINTI "The distant "
	PRINTD PRSO
	PRINTI " bathes the "
	EQUAL? HERE,IN-SHACK \?L6
	PRINTD SHACK
	JUMP ?L8
?L6:	PRINTD TOWER
?L8:	PRINTR "[RIDX: 7236]"
?L5:	EQUAL? PRSA,V?SEARCH,V?FOLLOW,V?FIND \FALSE
	EQUAL? HERE,IN-SHACK \?L10
	CALL1 CANT-FROM-HERE
	RTRUE
?L10:	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 7237]"
	PRINTD HORIZON
	PRINT PERIOD
	RTRUE

	.FUNCT VOICES-F
	FSET? VOICES,SEEN /?L1
	CALL1 CANT-SEE-ANY
	RTRUE
?L1:	EQUAL? PRSA,V?LISTEN \?L3
	PRINTR "[RIDX: 7240]"
?L3:	EQUAL? PRSA,V?WALK-TO,V?FOLLOW,V?FIND \FALSE
	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT TCRATER-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-DOWN \?L1
	PRINTI "[RIDX: 7242]"
	PRINTD PRSO
	PRINTR "[RIDX: 7243]"
?L1:	EQUAL? PRSA,V?SEARCH,V?LOOK-INSIDE,V?ENTER /?L4
	EQUAL? PRSA,V?THROUGH,V?WALK-TO,V?CLIMB-DOWN /?L4
	EQUAL? PRSA,V?STAND-ON,V?CLIMB-OVER \?L3
?L4:	PRINTI "[RIDX: 7244]"
	PRINTD PRSO
	PRINTR "[RIDX: 7245]"
?L3:	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \?L5
	CALL1 WASTE-OF-TIME
	RTRUE
?L5:	CALL1 EXITING? >STACK
	ZERO? STACK /?L6
	CALL1 NOT-IN
	RTRUE
?L6:	EQUAL? PRSA,V?SMELL \FALSE
	PRINTR "It smells scorched."

	.FUNCT GMAP-F
	FSET? EMERALD,NODESC /?L1
	CALL2 GONE-NOW,GMAP
	RETURN 2
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ /?L6
	EQUAL? PRSA,V?SEARCH \?L5
?L6:	PRINTI "[RIDX: 7249]"
	FSET? PRSO,SEEN \?L7
	PRINTI "still "
?L7:	PRINTI "[RIDX: 7251]"
	CRLF
	FSET? PRSO,SEEN /?L10
	FSET PRSO,SEEN
	JUMP ?L12
?L10:	EQUAL? OLDCNT,MAPCNT /?L12
	CRLF
	PRINTI "[RIDX: 7252]"
	CRLF
?L12:	SET 'OLDCNT,MAPCNT
	RTRUE
?L5:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL FIRMLY-ATTACHED,MAP,WALLS
	RTRUE

	.FUNCT DESCRIBE-PEDESTAL,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	PRINTI "[RIDX: 7255]"
	PRINTD PEDESTAL
	PRINTI " in the "
	PRINTD CORNER
	PRINTI "."
	RTRUE

	.FUNCT PEDESTAL-F
	EQUAL? PRSA,V?EXAMINE,V?SEARCH \?L1
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 7258]"
?L1:	EQUAL? PRSA,V?LOOK-UNDER,V?PUT-UNDER /?L4
	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \?L3
?L4:	CALL2 CTHE-PRINT,PEDESTAL
	PRINTR " can't be budged."
?L3:	ZERO? NOW-PRSI? /FALSE
	EQUAL? PRSA,V?PUT,V?PUT-ON \FALSE
	PRINTI "The giant book[RIDX: 6790]"
	PRINTD PRSI
	PRINT PERIOD
	RTRUE

	.FUNCT TOME-F
	CALL NOUN-USED?,W?TITLE,W?COVER,W?COVERS >STACK
	ZERO? STACK /?L1
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ \?L1
	CALL1 TELEPHONE
	RTRUE
?L1:	ZERO? NOW-PRSI? /?L3
	EQUAL? PRSA,V?PUT,V?PUT-ON \FALSE
	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L3:	EQUAL? PRSA,V?EXAMINE \?L7
	PRINTI "[RIDX: 7262]"
	PRINTD PAGES
	PRINTR "[RIDX: 7263]"
?L7:	EQUAL? PRSA,V?READ,V?LOOK-ON,V?LOOK-INSIDE /?L9
	EQUAL? PRSA,V?SEARCH \?L8
?L9:	CALL1 READ-TOME
	RTRUE
?L8:	EQUAL? PRSA,V?CUT,V?RIP,V?MUNG /?L11
	EQUAL? PRSA,V?KICK,V?HIT \?L10
?L11:	CALL1 AND-RUIN
	RTRUE
?L10:	CALL1 HANDLE-BOOK? >STACK
	ZERO? STACK \TRUE
	EQUAL? PRSA,V?LOOK-UNDER,V?PUT-UNDER /?L14
	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
?L14:	PRINTI "[RIDX: 7264]"
	CALL2 ITALICIZE,STR?511
	PRINTR " volume."

	.FUNCT PAGES-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?READ /?L7
	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH \?L6
?L7:	CALL1 READ-TOME
	RTRUE
?L6:	EQUAL? PRSA,V?COUNT \?L8
	PRINTR "[RIDX: 7268]"
?L8:	EQUAL? PRSA,V?LOOK-UNDER,V?LOOK-BEHIND,V?SEARCH \?L9
	PRINTI "[RIDX: 6147]"
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINTI " among the "
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L9:	EQUAL? PRSA,V?TURN,V?RAISE,V?MOVE /?L11
	EQUAL? PRSA,V?PUSH \?L10
?L11:	PRINTI "[RIDX: 7271]"
	PRINTD PRSO
	PRINT PERIOD
	RTRUE
?L10:	EQUAL? PRSA,V?TAKE,V?TAKE-OFF,V?PULL /?L13
	EQUAL? PRSA,V?CUT,V?RIP,V?MUNG /?L13
	EQUAL? PRSA,V?LOOSEN,V?KICK,V?HIT /?L13
	EQUAL? PRSA,V?WRAP-AROUND \?L12
?L13:	CALL1 AND-RUIN
	RTRUE
?L12:	CALL1 HANDLE-BOOK? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT AND-RUIN
	PRINTI "[RIDX: 7272]"
	CRLF
	CALL2 PRINT-ID,STR?512
	RTRUE

	.FUNCT HANDLE-BOOK?
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?TOUCH,V?KISS,V?SQUEEZE \?L3
	CALL2 CTHE-PRINT,PAGES
	PRINTR "[RIDX: 7274]"
?L3:	EQUAL? PRSA,V?SMELL \?L4
	PRINTI "The dusty "
	PRINTD PAGES
	PRINTR " make you sneeze."
?L4:	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?UNFOLD \?L5
	CALL2 CTHE-PRINT,TOME
	PRINTR " is already open."
?L5:	EQUAL? PRSA,V?CLOSE,V?FOLD \FALSE
	CALL1 TELEPHONE
	RTRUE

	.FUNCT TELEPHONE
	PRINTI "You try to fold the "
	PRINTD PRSO
	PRINTR "[RIDX: 7279]"

	.FUNCT READ-TOME
	INC 'STUDY
	PRINTI "[RIDX: 7280]"
	CALL2 PICK-NEXT,HEADINGS >STACK
	PRINT STACK
	PRINTI "[RIDX: 7281]"
	RANDOM 100 >STACK
	LESS? 50,STACK /?L5
	RANDOM 100 >STACK
	LESS? 50,STACK /?L3
	PRINTI "In which "
	JUMP ?L5
?L3:	PRINTI "How "
?L5:	PRINTI "Wabewalker "
	EQUAL? STUDY,1 \?L7
	PRINTI "happens upon a "
	JUMP ?L9
?L7:	CALL2 PICK-NEXT,PONDERINGS >STACK
	PRINT STACK
	GRTR? STUDY,8 \?L10
	PRINTI "with great devotion "
	JUMP ?L13
?L10:	GRTR? STUDY,5 \?L12
	PRINTI "intently "
	JUMP ?L13
?L12:	GRTR? STUDY,2 \?L13
	PRINTI "yet again "
?L13:	PRINTI "over the "
?L9:	PRINTI "Book of Hours"
	EQUAL? STUDY,1 \?L15
	PRINTI "[RIDX: 7291]"
?L15:	PRINTI "[RIDX: 7292]"
	CALL2 PRINT-LINE,INSAVE-C
	CALL2 PRINT-LINE,INSAVE-B
	CALL2 PRINT-LINE,INSAVE-A
	RTRUE

	.FUNCT PRINT-LINE,TBL,PTR=1,LEN,CHR
	GETB TBL,0 >LEN
	ZERO? LEN /TRUE
	PRINTI ">"
?L3:	GETB TBL,PTR >CHR
	GRTR? CHR,31 \?L5
	LESS? CHR,123 \?L5
	PRINTC CHR
?L5:	IGRTR? 'PTR,LEN \?L3
	CRLF
	RTRUE

	.FUNCT DESCRIBE-CINDERS,CONTEXT=0
	EQUAL? CONTEXT,M-OBJDESC \FALSE
	CALL1 ALL-THATS-LEFT
	RTRUE

	.FUNCT ALL-THATS-LEFT
	PRINTI "[RIDX: 7306]"
	PRINTD PEDESTAL
	PRINTI " is a "
	PRINTD CINDERS
	PRINTI "."
	RTRUE

	.FUNCT CINDERS-F
	CALL NOUN-USED?,W?BOOK,W?TOME,W?VOLUME >STACK
	ZERO? STACK \?L3
	CALL2 NOUN-USED?,W?PEDESTAL >STACK
	ZERO? STACK /?L1
?L3:	CALL1 ALL-THATS-LEFT
	CRLF
	RETURN 2
?L1:	ZERO? NOW-PRSI? /?L6
	EQUAL? PRSA,V?PUT,V?PUT-ON,V?THROW \FALSE
	CALL1 WASTE-OF-TIME
	RTRUE
?L6:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH,V?LOOK-UNDER /?L11
	EQUAL? PRSA,V?DIG,V?PICK \?L10
?L11:	PRINTI "[RIDX: 7309]"
	PRINTD PRSO
	PRINTI ", but find nothing "
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L10:	EQUAL? PRSA,V?TOUCH,V?KISS,V?SQUEEZE \?L12
	PRINTR "[RIDX: 7311]"
?L12:	EQUAL? PRSA,V?KICK,V?HIT,V?BLOW-INTO \?L13
	PRINTI "[RIDX: 7312]"
	CRLF
	CALL2 PRINT-ID,STR?513
	RTRUE
?L13:	EQUAL? PRSA,V?COUNT \?L14
	CALL1 IMPOSSIBLE
	RTRUE
?L14:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	PRINTR "Cool, useless cinders [RIDX: 4568]."

	.FUNCT SINK-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?PUT-ON \FALSE
	GETP PRSO,P?SIZE >STACK
	EQUAL? STACK,0,1 \FALSE
	CALL1 VANISH
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 7316]"
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON,V?LOOK-INSIDE /?L7
	EQUAL? PRSA,V?SEARCH \?L6
?L7:	PRINTI "[RIDX: 7317]"
	FIRST? PRSO >STACK \?L8
	PRINTI ". "
	PRINT YOU-SEE
	CALL2 PRINT-CONTENTS,PRSO
	PRINTI " lying in the bowl"
?L8:	PRINT PERIOD
	RTRUE
?L6:	EQUAL? PRSA,V?LOOK-DOWN \?L11
	CALL1 CANT-SEE-MUCH
	RTRUE
?L11:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL FIRMLY-ATTACHED,PRSO,WALLS
	RTRUE

	.FUNCT CUPBOARD-F
	ZERO? NOW-PRSI? \FALSE
	EQUAL? PRSA,V?OPEN,V?OPEN-WITH,V?CLOSE \?L3
	PRINTI "It's an open "
	PRINTD PRSO
	PRINTR ", with no doors."
?L3:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L6
	EQUAL? PRSA,V?CLIMB-ON,V?CLIMB-OVER,V?SIT /?L6
	EQUAL? PRSA,V?STAND-ON,V?LIE-DOWN \?L4
?L6:	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 7323]"
?L4:	CALL1 EXITING? >STACK
	ZERO? STACK /?L7
	CALL NOT-IN,PRSO,1
	RTRUE
?L7:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL FIRMLY-ATTACHED,PRSO,WALLS
	RTRUE

	.FUNCT KNIFE-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \FALSE
	PRINTR "[RIDX: 7325]"

	.FUNCT GIBINOS-F
	EQUAL? PRSA,V?EXAMINE \?L1
	CALL1 CTHE-PRINT
	PRINTR "[RIDX: 7328]"
?L1:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT PITTS-F
	CALL2 DO-SHELTER?,W100 >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT ABLE-F
	CALL2 DO-SHELTER?,N75 >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT BAKER-F
	CALL2 DO-SHELTER?,S100 >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT DO-SHELTER?,X
	EQUAL? HERE,X \?L1
	CALL1 HERE-F >STACK
	ZERO? STACK /FALSE
	RTRUE
?L1:	CALL1 ENTERING? >STACK
	ZERO? STACK /?L6
	CALL1 V-WALK-AROUND
	RTRUE
?L6:	CALL1 EXITING? >STACK
	ZERO? STACK /?L7
	PRINTR "You're not there."
?L7:	EQUAL? PRSA,V?FIND /FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT TUBE-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?EMPTY-INTO \?L3
	CALL1 TUBE-CLOSED
	RTRUE
?L3:	EQUAL? PRSA,V?PUT-ON,V?THROW-OVER \FALSE
	CALL1 PRSI-TOP-TOO-HIGH
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE \?L7
	CALL1 CTHE-PRINT
	PRINTI "[RIDX: 7337]"
	PRINTD MIKE
	PRINTI " in the "
	PRINTD SCHOOL
	PRINTI "[RIDX: 7339]"
	PRINTD LAGOON
	PRINT PERIOD
	RTRUE
?L7:	EQUAL? PRSA,V?OPEN,V?CLOSE,V?REACH-IN /?L9
	EQUAL? PRSA,V?ENTER,V?THROUGH,V?LOOK-INSIDE /?L9
	EQUAL? PRSA,V?SEARCH,V?EMPTY \?L8
?L9:	CALL1 TUBE-CLOSED
	RTRUE
?L8:	EQUAL? PRSA,V?CLIMB-ON,V?STAND-ON,V?CLIMB-OVER /?L11
	EQUAL? PRSA,V?SIT,V?LIE-DOWN,V?CLIMB-UP \?L10
?L11:	CALL1 TOO-HIGH
	RTRUE
?L10:	CALL1 EXITING? >STACK
	ZERO? STACK \?L13
	EQUAL? PRSA,V?CLIMB-DOWN \FALSE
?L13:	CALL NOT-IN,PRSO,1
	RTRUE

	.FUNCT TUBE-CLOSED
	CALL2 CTHE-PRINT,TUBE
	PRINTR "[RIDX: 7340]"

	.FUNCT TRENCHES-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE \?L6
	CALL1 CTHE-PRINT
	PRINTI " are near the "
	PRINTD SBUNK
	PRINTI "'s "
	PRINTD SBENTRY
	PRINT PERIOD
	RTRUE
?L6:	EQUAL? PRSA,V?LOOK-INSIDE,V?SEARCH,V?LOOK-UNDER /?L8
	EQUAL? PRSA,V?LOOK-BEHIND \?L7
?L8:	CALL1 CANT-SEE-MUCH
	RTRUE
?L7:	EQUAL? PRSA,V?WALK-TO \?L9
	CALL2 DO-WALK,P?NE
	RTRUE
?L9:	EQUAL? PRSA,V?HIDE /?L11
	CALL1 ENTERING? >STACK
	ZERO? STACK \?L11
	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L10
?L11:	CALL1 CANT-FROM-HERE
	RTRUE
?L10:	CALL1 EXITING? >STACK
	ZERO? STACK /?L12
	CALL1 NOT-IN
	RTRUE
?L12:	EQUAL? PRSA,V?LISTEN \FALSE
	EQUAL? PRSO,JEEPS \FALSE
	PRINTR "[RIDX: 7345]"

	.FUNCT PIPES-F
	ZERO? NOW-PRSI? /?L1
	EQUAL? PRSA,V?PUT,V?EMPTY-INTO \FALSE
	GETP PRSO,P?SIZE >STACK
	GRTR? STACK,3 \?L5
	CALL1 CTHEI-PRINT
	PRINTR " are too narrow."
?L5:	CALL1 PRSO-SLIDES-OFF-PRSI
	RTRUE
?L1:	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \FALSE
	CALL FIRMLY-ATTACHED,PRSO,WALLS
	RTRUE

	.FUNCT MALLARDS-F
	EQUAL? PRSA,V?FOLLOW,V?WALK-TO \?L1
	CALL2 DO-WALK,P?EAST
	RTRUE
?L1:	PRINT CANT
	PRINTI "see them anymore."
	CRLF
	RETURN 2

	.FUNCT FOG-F
	EQUAL? PRSA,V?EXAMINE,V?LOOK-INSIDE,V?SEARCH \?L1
	CALL1 CANT-SEE-MUCH
	RTRUE
?L1:	EQUAL? PRSA,V?TOUCH,V?SMELL,V?REACH-IN \?L3
	CALL1 CTHE-PRINT
	PRINTR " is damp and chilly."
?L3:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L5
	CALL1 EXITING? >STACK
	ZERO? STACK /FALSE
?L5:	CALL1 V-WALK-AROUND
	RTRUE

	.FUNCT SHADOW-F
	FSET? HERE,SHADOWY \?L6
	EQUAL? PRSA,V?WAIT-FOR /FALSE
	CALL1 ENTERING? >STACK
	ZERO? STACK \?L5
	EQUAL? PRSA,V?STAND-UNDER,V?WALK-AROUND \?L4
?L5:	CALL1 V-WALK-AROUND
	RTRUE
?L4:	CALL1 EXITING? >STACK
	ZERO? STACK /?L6
	CALL1 NOT-IN
	RTRUE
?L6:	CALL1 NONE-AT-MOMENT
	RETURN 2

	.FUNCT PTREES-F
	INTBL? PRSA,SEEVERBS,NSVERBS >STACK /FALSE
	CALL1 ENTERING? >STACK
	ZERO? STACK /?L3
	CALL2 DO-WALK,P?EAST
	RTRUE
?L3:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \?L4
	CALL1 CANT-FROM-HERE
	RTRUE
?L4:	CALL2 YOU-DONT-NEED,PTREES
	RETURN 2

	.FUNCT SJUNK-F
	FSET? TKEY,SEEN /?L1
	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	CALL1 USELESS >STACK
	ZERO? STACK /FALSE
	RETURN 2

	.FUNCT VERTEX-F
	EQUAL? HERE,ON-GNOMON \?L1
	CALL1 HERE-F >STACK
	ZERO? STACK /FALSE
	RTRUE
?L1:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L7
	EQUAL? PRSA,V?CLIMB-UP,V?STAND-ON \?L6
?L7:	CALL2 DO-WALK,P?UP
	RTRUE
?L6:	CALL1 FARAWAY? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT FARAWAY?
	INTBL? PRSA,SEEVERBS,NSVERBS >STACK \?L1
	CALL1 CANT-SEE-MUCH
	RTRUE
?L1:	CALL1 EXITING? >STACK
	ZERO? STACK \?L4
	EQUAL? PRSA,V?CLIMB-DOWN \?L3
?L4:	CALL NOT-IN,PRSO,1
	RTRUE
?L3:	INTBL? PRSA,TOUCHVERBS,NTOUCHES >STACK \FALSE
	CALL1 CANT-FROM-HERE
	RTRUE

	.FUNCT BEACH-F
	ZERO? NOW-PRSI? /?L1
	INTBL? PRSA,PUTVERBS,NUMPUTS >STACK \FALSE
	CALL PERFORM,V?DROP,PRSO
	RTRUE
?L1:	EQUAL? PRSA,V?EXAMINE,V?LOOK-ON \?L6
	CALL1 V-LOOK
	RTRUE
?L6:	CALL1 ENTERING? >STACK
	ZERO? STACK \?L8
	EQUAL? PRSA,V?STAND-ON \?L7
?L8:	CALL ALREADY-IN,PRSO,1
	RTRUE
?L7:	CALL1 EXITING? >STACK
	ZERO? STACK \?L11
	EQUAL? PRSA,V?FOLLOW,V?CROSS,V?CLIMB-OVER /?L11
	EQUAL? PRSA,V?CLIMB-UP,V?CLIMB-DOWN \?L9
?L11:	CALL1 V-WALK-AROUND
	RTRUE
?L9:	EQUAL? PRSA,V?SIT,V?LIE-DOWN \?L12
	CALL2 VOICE-MUTTERS,STR?514
	RTRUE
?L12:	EQUAL? PRSA,V?LOOK-INSIDE,V?LOOK-UNDER,V?DIG /?L14
	EQUAL? PRSA,V?SEARCH,V?REACH-IN,V?MOVE /?L14
	EQUAL? PRSA,V?PUSH,V?PULL \?L13
?L14:	PRINTI "[RIDX: 7360]"
	CALL2 PICK-NEXT,YAWNS >STACK
	PRINT STACK
	PRINT PERIOD
	RTRUE
?L13:	EQUAL? PRSA,V?KICK,V?HIT,V?SHAKE /?L16
	EQUAL? PRSA,V?SQUEEZE \?L15
?L16:	CALL1 WASTE-OF-TIME
	RTRUE
?L15:	EQUAL? PRSA,V?COUNT \FALSE
	CALL1 IMPOSSIBLE
	RTRUE

	.FUNCT GENERIC-SHORE-F,TBL
	RETURN BEACH

	.FUNCT OPSHORE-F
	CALL1 ENTERING? >STACK
	ZERO? STACK /?L1
	CALL1 V-WALK-AROUND
	RTRUE
?L1:	CALL1 FARAWAY? >STACK
	ZERO? STACK /FALSE
	RTRUE

	.FUNCT GGRASS-F
	FSET? HERE,INDOORS /?L3
	FSET? HERE,NOGRASS /?L3
	FSET? HERE,CHILLY \?L1
?L3:	CALL1 CANT-SEE-ANY
	RETURN 2
?L1:	CALL1 GROUND-F >STACK
	ZERO? STACK \TRUE
	INTBL? PRSA,MOVEVERBS,NMVERBS >STACK \?L7
	CALL1 WASTE-OF-TIME
	RTRUE
?L7:	CALL2 YOU-DONT-NEED,GGRASS
	RETURN 2

	.FUNCT FATMAN-F
	FSET? FATMAN,SEEN /?L1
	CALL1 REFERRING
	RETURN 2
?L1:	EQUAL? PRSA,V?EXAMINE,V?WATCH \?L5
	CALL VOICE-MUTTERS,STR?515,0
	RTRUE
?L5:	CALL2 YOU-DONT-NEED,FATMAN
	RETURN 2

	.FUNCT TOO-NARROW
	PRINTR "[Screen too narrow.]"

	.FUNCT V-$0024CREDITS,X
	GETB 0,33 >STACK
	LESS? STACK,79 \?L1
	CALL1 TOO-NARROW
	RTRUE
?L1:	CLEAR -1
	SPLIT 23
	SCREEN S-WINDOW
	BUFOUT 0
	CURSET 2,25
	CALL1 BIG-TRINITY
	HLIGHT H-NORMAL
	CURSET 3,32
	PRINTI "by Brian Moriarty"
	CURSET 5,37
	PRINTI "Testing"
	CURSET 6,4
	PRINTI "[RIDX: 7369]"
	CURSET 8,13
	PRINTI "Packaging"
	CURSET 8,33
	PRINTI "Project Manager"
	CURSET 8,58
	PRINTI "Copywriter"
	CURSET 9,10
	PRINTI "Carl Genatossio"
	CURSET 9,35
	PRINTI "Jon Palace"
	CURSET 9,55
	PRINTI "Elizabeth Langosy"
	CURSET 11,12
	PRINTI "Illustrator"
	CURSET 11,35
	PRINTI "Photography"
	CURSET 11,58
	PRINTI "Inner Cover"
	CURSET 12,11
	PRINTI "Richard Howell"
	CURSET 12,35
	PRINTI "Steve Grohe"
	CURSET 12,56
	PRINTI "Charles Freeman"
	CURSET 14,14
	PRINTI "Sundial"
	CURSET 14,35
	PRINTI "Map & Crane"
	CURSET 14,53
	PRINTI "[RIDX: 7384]"
	CURSET 15,9
	PRINTI "[RIDX: 7385]"
	CURSET 17,28
	PRINTI "[RIDX: 7386]"
	CURSET 18,19
	PRINTI "[RIDX: 7387]"
	CURSET 19,12
	PRINTI "[RIDX: 7388]"
	CURSET 21,18
	PRINTI "[RIDX: 7389]"
	CURSET 22,21
	PRINTI "[RIDX: 7390]"
	SCREEN S-TEXT
	INPUT 1 >X
	CALL1 V-$0024REFRESH
	CALL1 V-LOOK
	RTRUE

	.FUNCT BIG-TRINITY
	HLIGHT H-BOLD
	PRINTI "[RIDX: 7391]"
	RTRUE

	.FUNCT PLUTONIUM-F
	CALL1 CANT-SEE-ANY
	RETURN 2

	.FUNCT PRINT-DESC1,OBJ
	ZERO? OBJ /FALSE
	PRINTD OBJ
	RTRUE

	.FUNCT PRINT-ID,ID,CONDITION=1
	ZERO? CONDITION /FALSE
	PRINTI "[ID: "
	PRINT ID
	PRINTI ", PRSO: "
	CALL2 PRINT-DESC1,PRSO
	PRINTI ", PRSI: "
	CALL2 PRINT-DESC1,PRSI
	PRINTI "]"
	RTRUE

	.FUNCT PRINT-DEBUG,TEXT,CONDITION=1
	ZERO? CONDITION /FALSE
	PRINTI "DEBUG FLAG: "
	PRINT TEXT
	RTRUE

	.FUNCT IS-THEFT?
	EQUAL? PRSA,V?TAKE \FALSE
	EQUAL? PRSO,BOAT,PRAM,NOTICE /TRUE
	EQUAL? PRSO,SCULPTURE,THRUSTERS,SPHONES /TRUE
	EQUAL? PRSO,PHONES,DISH,SDISH /TRUE
	EQUAL? PRSO,WAND,STATUES,LIMBS /TRUE
	EQUAL? PRSO,HEADS,TOMBS,LID /TRUE
	EQUAL? PRSO,HERBS,PATCH,TBOMB /TRUE
	EQUAL? PRSO,TCABLES,UBOMB,UCABLES /TRUE
	EQUAL? PRSO,BONES,MIKE,CAULDRON /TRUE
	EQUAL? PRSO,SPEAKER,LSPEAKERS,DECOR /TRUE
	EQUAL? PRSO,GROPES,HARDWARE,BOX /TRUE
	EQUAL? PRSO,PADLOCK,PANEL,ANTENNA /TRUE
	EQUAL? PRSO,MAP,GMAP,TOME /TRUE
	EQUAL? PRSO,PAGES,GIBINOS,TAPE /TRUE
	EQUAL? PRSO,BALL,PARASOL,AXE /TRUE
	EQUAL? PRSO,SHROUD,BANDAGE,RBOOT /TRUE
	EQUAL? PRSO,GBOOT,BCOIN,SPADE /TRUE
	EQUAL? PRSO,APANEL,BOOK,MARKER /TRUE
	EQUAL? PRSO,BINOS,BOX,WTK /TRUE
	EQUAL? PRSO,WALLET,PHOTO,LAMP /TRUE
	EQUAL? PRSO,KNIFE \FALSE
	RTRUE

	.FUNCT IS-OBJECT-OR-PROPERTY?
	EQUAL? PRSO,ANTENNA,APANEL,ARBOR /TRUE
	EQUAL? PRSO,ARBS,ATREL,AUX-TS3 /TRUE
	EQUAL? PRSO,AWINDOWS,AXE,BAD-CRANE /TRUE
	EQUAL? PRSO,BAG,BALL,BANDAGE /TRUE
	EQUAL? PRSO,BARROW,BARROW-DOOR,BATHROOM /TRUE
	EQUAL? PRSO,BBOX,BCOIN,BDIAL /TRUE
	EQUAL? PRSO,BDIAL-HOLE,BEDROOM,BEDS /TRUE
	EQUAL? PRSO,BENCH,BHOUSE,BIKES /TRUE
	EQUAL? PRSO,BINOS,BLGATE,BLUFF /TRUE
	EQUAL? PRSO,BOAT,BONES,BOOK /TRUE
	EQUAL? PRSO,BOX,BPAPER,BPRAM /TRUE
	EQUAL? PRSO,BREAKER,BROKEN-LID,BROOM-DOOR /TRUE
	EQUAL? PRSO,BTREL,BWIRE,CAGE /TRUE
	EQUAL? PRSO,CATS,CAULDRON,CAVE /TRUE
	EQUAL? PRSO,CAVE-HOLE,CAVERN,CCLOCK /TRUE
	EQUAL? PRSO,CEILING,CEMETERY,CINDERS /TRUE
	EQUAL? PRSO,CISTAIR,CITY,CLEARING /TRUE
	EQUAL? PRSO,CLIFF,CLOSET,CLOSET-DOOR /TRUE
	EQUAL? PRSO,COCO,COTTAGE,COTTAGE-DOOR /TRUE
	EQUAL? PRSO,CRANE,CRATER,CRYPT /TRUE
	EQUAL? PRSO,CSURFACE,CTREE,CUPBOARD /TRUE
	EQUAL? PRSO,DEBRIS,DECOR,DIAL /TRUE
	EQUAL? PRSO,DIAL-HOLE,DISH,DLEM /TRUE
	EQUAL? PRSO,DMAGPIE,DMEEP,DMOUNTS /TRUE
	EQUAL? PRSO,DORY,DSKINK,DSTRUCT /TRUE
	EQUAL? PRSO,DTOWER,EBAG,EMERALD /TRUE
	EQUAL? PRSO,ENERGY,ESHED,FATMAN /TRUE
	EQUAL? PRSO,FEATHERS,FHILLS,FIN /TRUE
	EQUAL? PRSO,FLARE,FLIPPER,FLOOR /TRUE
	EQUAL? PRSO,FLOWERS,FLWALK,FOREST /TRUE
	EQUAL? PRSO,FRAME,GADGET,GARDEN /TRUE
	EQUAL? PRSO,GARDEN-DOOR,GARDENS,GARLIC /TRUE
	EQUAL? PRSO,GBAG,GBOLTS,GBOOT /TRUE
	EQUAL? PRSO,GCABLES,GFENCE,GIBINOS /TRUE
	EQUAL? PRSO,GLOWING-LOG,GMAP,GNOMON /TRUE
	EQUAL? PRSO,GOON,GOON-MOUTH,GPLATFORM /TRUE
	EQUAL? PRSO,GPRAM,GROPES,GROUP /TRUE
	EQUAL? PRSO,GTREES,HARDWARE,HEADS /TRUE
	EQUAL? PRSO,HEDGE,HERBS,HOLLOW /TRUE
	EQUAL? PRSO,HONEY,HTS,IBUTTON /TRUE
	EQUAL? PRSO,ICAVE,ICBM,ICEHOUSE /TRUE
	EQUAL? PRSO,IFENCE,ILINES,ISTAIR /TRUE
	EQUAL? PRSO,JDOOR,JEEP,JEEPS /TRUE
	EQUAL? PRSO,JUMBO,KEY,KEYHOLE /TRUE
	EQUAL? PRSO,KITCHEN,KNIFE,LAMP /TRUE
	EQUAL? PRSO,LANDING,LANDSLIDE,LCITY /TRUE
	EQUAL? PRSO,LEFT-DOOR,LEVER,LGATE /TRUE
	EQUAL? PRSO,LID,LIMBS,LONDON /TRUE
	EQUAL? PRSO,LSPEAKERS,LTREL,LUMP /TRUE
	EQUAL? PRSO,LWDOOR,MAP,MARKER /TRUE
	EQUAL? PRSO,MBOX,MCRANE,MEADOW /TRUE
	EQUAL? PRSO,MEMORIAL,MESA,METEOR /TRUE
	EQUAL? PRSO,METERS,MIKE,MILK /TRUE
	EQUAL? PRSO,MILL,MISSILE,MLADDER /TRUE
	EQUAL? PRSO,MOON,MOOR,MOUTH /TRUE
	EQUAL? PRSO,NAGASAKI,NBUNKERS,NEROOM-DOOR /TRUE
	EQUAL? PRSO,NOTICE,NROOM-DOOR,NUTS /TRUE
	EQUAL? PRSO,NWGATE,OAK,OBUTTON /TRUE
	EQUAL? PRSO,OCOCO,OCRANE,OPPIE-THINGS /TRUE
	EQUAL? PRSO,OPSHORE,OSS,PADLOCK /TRUE
	EQUAL? PRSO,PAGES,PAN,PANEL /TRUE
	EQUAL? PRSO,PARASOL,PATCH,PEDESTAL /TRUE
	EQUAL? PRSO,PGATE,PHONES,PHOTO /TRUE
	EQUAL? PRSO,PILE,PIPES,PITTS /TRUE
	EQUAL? PRSO,PLADDER,PLANES,PLANET /TRUE
	EQUAL? PRSO,PLATFORM,PLUTONIUM,POOL /TRUE
	EQUAL? PRSO,PORCH,PRAM,PTREES /TRUE
	EQUAL? PRSO,RADIO,RAIL,RAMP /TRUE
	EQUAL? PRSO,RANCH,RBOOT,RDIAL /TRUE
	EQUAL? PRSO,RESERVOIR,RIGHT-DOOR,RING /TRUE
	EQUAL? PRSO,ROSE,RPOND,RSPEAKER /TRUE
	EQUAL? PRSO,RSWITCH,RTREL,RUBBLE /TRUE
	EQUAL? PRSO,RUBY,RWALLS,RWIRE /TRUE
	EQUAL? PRSO,SBENTRY,SBUNK,SCAF-STAIR /TRUE
	EQUAL? PRSO,SCAFFOLD,SCHOOL,SCHOOL-WINDOWS /TRUE
	EQUAL? PRSO,SCOIN,SCULPTURE,SDISH /TRUE
	EQUAL? PRSO,SDOORS,SDRIVER,SEAT /TRUE
	EQUAL? PRSO,SEGATE,SEROOM-DOOR,SHACK /TRUE
	EQUAL? PRSO,SHED,SHELTER,SHROUD /TRUE
	EQUAL? PRSO,SINK,SJUNK,SLIDER /TRUE
	EQUAL? PRSO,SLIGHT,SPADE,SPEAKER /TRUE
	EQUAL? PRSO,SPHONES,SSTEPS,STAIR /TRUE
	EQUAL? PRSO,STARS,STATUES,STOOLS /TRUE
	EQUAL? PRSO,STRUCTURE,STYX,SUMMIT /TRUE
	EQUAL? PRSO,SUN,SWALL,SWGATE /TRUE
	EQUAL? PRSO,SWINGS,SWIRE,SWROOM-DOOR /TRUE
	EQUAL? PRSO,SYMBOLS,TAPE,TCABLES /TRUE
	EQUAL? PRSO,TCLIFF,TERRACE,THICKET /TRUE
	EQUAL? PRSO,THRUSTERS,TKEY,TLADDER /TRUE
	EQUAL? PRSO,TMOUNTS,TOMBS,TOME /TRUE
	EQUAL? PRSO,TOWER,TPLAT,TRAP /TRUE
	EQUAL? PRSO,TREE,TREETOPS,TRELS /TRUE
	EQUAL? PRSO,TRENCHES,TROPES,TS0 /TRUE
	EQUAL? PRSO,TS0-DOOR,TS1,TS1-DOOR /TRUE
	EQUAL? PRSO,TS2,TS2-DOOR,TS3 /TRUE
	EQUAL? PRSO,TS3-DOOR,TS4,TS4-DOOR /TRUE
	EQUAL? PRSO,TS5,TS5-DOOR,TS6 /TRUE
	EQUAL? PRSO,TS6-DOOR,TSWITCH,TUBE /TRUE
	EQUAL? PRSO,TUNNEL,TBOMB,UBOMB /TRUE
	EQUAL? PRSO,UCABLES,VERTEX,VICTORIA /TRUE
	EQUAL? PRSO,WALLET,WALLS,WAND /TRUE
	EQUAL? PRSO,WATERFALL,WATT,WBENCH /TRUE
	EQUAL? PRSO,WBITS,WBUTTON,WINDOWS /TRUE
	EQUAL? PRSO,WIRES,WSWITCH,WTK /TRUE
	EQUAL? PRSO,WWIRE,X5,XRAY \FALSE
	RTRUE

	.FUNCT IS-NUKE?
	EQUAL? PRSO,FATMAN,GADGET,ICBM /TRUE
	EQUAL? PRSO,MIKE,MISSILE,TBOMB /TRUE
	EQUAL? PRSO,UBOMB \FALSE
	RTRUE

	.FUNCT IS-PERSON?
	FSET? PRSO,PERSON /?L2
	EQUAL? PRSO,BABIES,BAKER,BOY /?L2
	EQUAL? PRSO,BWOMAN,CHARON,CHILDREN /?L2
	EQUAL? PRSO,GIANT,GIRL,GIS /?L2
	EQUAL? PRSO,GROVES,HER,HIM /?L2
	EQUAL? PRSO,JWOMAN,KIDS,NANNIES /?L2
	EQUAL? PRSO,OPPIE,RUSSIANS,TEACHERS /?L2
	EQUAL? PRSO,TOURISTS,WIGHT,YOU \FALSE
?L2:	CALL1 IS-ANIMAL? >STACK
	ZERO? STACK /TRUE
	RFALSE

	.FUNCT IS-ANIMAL?
	EQUAL? PRSO,BEE,BEES,CRABS /TRUE
	EQUAL? PRSO,DFLIES,DOG,HIVE /TRUE
	EQUAL? PRSO,LEM,LEMMINGS,MAGPIE /TRUE
	EQUAL? PRSO,MALLARDS,MEEP,PIGEONS /TRUE
	EQUAL? PRSO,POND-BIRDS,RODENTS,SKINK /TRUE
	EQUAL? PRSO,SNAKE,XSNAKE \FALSE
	RTRUE

	.FUNCT IS-SELF?
	EQUAL? PRSO,HEAD,ME,PLAYER \FALSE
	RTRUE

	.FUNCT IS-PART-OF-SELF?
	EQUAL? PRSO,ANKLE,EYES,FEET /TRUE
	EQUAL? PRSO,HANDS,MOUTH \FALSE
	RTRUE

	.FUNCT IS-SOPOS?,?TMP
	CALL1 IS-SELF? >?TMP
	ZERO? ?TMP /?L2
	RETURN ?TMP
?L2:	CALL1 IS-PART-OF-SELF? >STACK
	RSTACK

	.FUNCT IS-YOUR-PROPERTY?
	EQUAL? PRSO,CLOTHES,POCKET,WRISTWATCH /TRUE
	EQUAL? PRSO,COIN,CREDIT-CARD \FALSE
	RTRUE

	.FUNCT DANGEROUS-DRINK?
	EQUAL? PRSO,PEE \FALSE
	RTRUE

	.FUNCT DANGEROUS-FOOD?
	CALL1 IS-PART-OF-SELF? >STACK
	ZERO? STACK \?L2
	CALL1 IS-OBJECT-OR-PROPERTY? >STACK
	ZERO? STACK /FALSE
?L2:	EQUAL? PRSO,COCO,HERBS,HONEY /FALSE
	EQUAL? PRSO,MILK,NUTS,OCOCO /FALSE
	EQUAL? PRSO,PATCH \TRUE
	RFALSE

	.FUNCT IS-OBJ-PROP-ANIMAL?,?TMP
	CALL1 IS-OBJECT-OR-PROPERTY? >?TMP
	ZERO? ?TMP /?L2
	RETURN ?TMP
?L2:	CALL1 IS-ANIMAL? >STACK
	RSTACK

	.FUNCT IS-POPA?,?TMP
	CALL1 IS-PERSON? >?TMP
	ZERO? ?TMP /?L2
	RETURN ?TMP
?L2:	CALL1 IS-OBJECT-OR-PROPERTY? >?TMP
	ZERO? ?TMP /?L3
	RETURN ?TMP
?L3:	CALL1 IS-ANIMAL? >STACK
	RSTACK

	.INSERT "./trinity/trinity_str"
	.END
